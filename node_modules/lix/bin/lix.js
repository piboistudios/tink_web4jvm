#!/usr/bin/env node
module.exports=function(n,e){"use strict";var i={};function __webpack_require__(e){if(i[e]){return i[e].exports}var t=i[e]={i:e,l:false,exports:{}};n[e].call(t.exports,t,t.exports,__webpack_require__);t.l=true;return t.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(726)}return startup()}({60:function(n){n.exports=Object.freeze({Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,ZLIB_VERNUM:4736,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:Infinity,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1})},63:function(n,e,i){"use strict";const t=i(357);const s=i(614).EventEmitter;const f=i(203);const r=i(747);const a=i(827);const l=i(622);const h=i(577);const w=h.sync;const d=i(478);const c=Symbol("onEntry");const u=Symbol("checkFs");const v=Symbol("isReusable");const o=Symbol("makeFs");const b=Symbol("file");const N=Symbol("directory");const S=Symbol("link");const R=Symbol("symlink");const A=Symbol("hardlink");const D=Symbol("unsupported");const M=Symbol("unknown");const B=Symbol("checkPath");const W=Symbol("mkdir");const Z=Symbol("onError");const q=Symbol("pending");const C=Symbol("pend");const Y=Symbol("unpend");const G=Symbol("ended");const V=Symbol("maybeClose");const J=Symbol("skip");const X=Symbol("doChown");const j=Symbol("uid");const Q=Symbol("gid");const E=i(417);const T=(n,e)=>{if(process.platform!=="win32")return r.unlink(n,e);const i=n+".DELETE."+E.randomBytes(16).toString("hex");r.rename(n,i,n=>{if(n)return e(n);r.unlink(i,e)})};const K=n=>{if(process.platform!=="win32")return r.unlinkSync(n);const e=n+".DELETE."+E.randomBytes(16).toString("hex");r.renameSync(n,e);r.unlinkSync(e)};const y=(n,e,i)=>n===n>>>0?n:e===e>>>0?e:i;class Unpack extends f{constructor(n){if(!n)n={};n.ondone=(n=>{this[G]=true;this[V]()});super(n);this.transform=typeof n.transform==="function"?n.transform:null;this.writable=true;this.readable=false;this[q]=0;this[G]=false;this.dirCache=n.dirCache||new Map;if(typeof n.uid==="number"||typeof n.gid==="number"){if(typeof n.uid!=="number"||typeof n.gid!=="number")throw new TypeError("cannot set owner without number uid and gid");if(n.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=n.uid;this.gid=n.gid;this.setOwner=true}else{this.uid=null;this.gid=null;this.setOwner=false}if(n.preserveOwner===undefined&&typeof n.uid!=="number")this.preserveOwner=process.getuid&&process.getuid()===0;else this.preserveOwner=!!n.preserveOwner;this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null;this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null;this.forceChown=n.forceChown===true;this.win32=!!n.win32||process.platform==="win32";this.newer=!!n.newer;this.keep=!!n.keep;this.noMtime=!!n.noMtime;this.preservePaths=!!n.preservePaths;this.unlink=!!n.unlink;this.cwd=l.resolve(n.cwd||process.cwd());this.strip=+n.strip||0;this.processUmask=process.umask();this.umask=typeof n.umask==="number"?n.umask:this.processUmask;this.dmode=n.dmode||511&~this.umask;this.fmode=n.fmode||438&~this.umask;this.on("entry",n=>this[c](n))}[V](){if(this[G]&&this[q]===0){this.emit("prefinish");this.emit("finish");this.emit("end");this.emit("close")}}[B](n){if(this.strip){const e=n.path.split(/\/|\\/);if(e.length<this.strip)return false;n.path=e.slice(this.strip).join("/");if(n.type==="Link"){const e=n.linkpath.split(/\/|\\/);if(e.length>=this.strip)n.linkpath=e.slice(this.strip).join("/")}}if(!this.preservePaths){const e=n.path;if(e.match(/(^|\/|\\)\.\.(\\|\/|$)/)){this.warn("path contains '..'",e);return false}if(l.win32.isAbsolute(e)){const i=l.win32.parse(e);this.warn("stripping "+i.root+" from absolute path",e);n.path=e.substr(i.root.length)}}if(this.win32){const e=l.win32.parse(n.path);n.path=e.root===""?d.encode(n.path):e.root+d.encode(n.path.substr(e.root.length))}if(l.isAbsolute(n.path))n.absolute=n.path;else n.absolute=l.resolve(this.cwd,n.path);return true}[c](n){if(!this[B](n))return n.resume();t.equal(typeof n.absolute,"string");switch(n.type){case"Directory":case"GNUDumpDir":if(n.mode)n.mode=n.mode|448;case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[u](n);case"CharacterDevice":case"BlockDevice":case"FIFO":return this[D](n)}}[Z](n,e){if(n.name==="CwdError")this.emit("error",n);else{this.warn(n.message,n);this[Y]();e.resume()}}[W](n,e,i){h(n,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:e},i)}[X](n){return this.forceChown||this.preserveOwner&&(typeof n.uid==="number"&&n.uid!==this.processUid||typeof n.gid==="number"&&n.gid!==this.processGid)||(typeof this.uid==="number"&&this.uid!==this.processUid||typeof this.gid==="number"&&this.gid!==this.processGid)}[j](n){return y(this.uid,n.uid,this.processUid)}[Q](n){return y(this.gid,n.gid,this.processGid)}[b](n){const e=n.mode&4095||this.fmode;const i=new a.WriteStream(n.absolute,{mode:e,autoClose:false});i.on("error",e=>this[Z](e,n));let t=1;const s=e=>{if(e)return this[Z](e,n);if(--t===0)r.close(i.fd,n=>this[Y]())};i.on("finish",e=>{const f=n.absolute;const a=i.fd;if(n.mtime&&!this.noMtime){t++;const e=n.atime||new Date;const i=n.mtime;r.futimes(a,e,i,n=>n?r.utimes(f,e,i,e=>s(e&&n)):s())}if(this[X](n)){t++;const e=this[j](n);const i=this[Q](n);r.fchown(a,e,i,n=>n?r.chown(f,e,i,e=>s(e&&n)):s())}s()});const f=this.transform?this.transform(n)||n:n;if(f!==n){f.on("error",e=>this[Z](e,n));n.pipe(f)}f.pipe(i)}[N](n){const e=n.mode&4095||this.dmode;this[W](n.absolute,e,e=>{if(e)return this[Z](e,n);let i=1;const t=e=>{if(--i===0){this[Y]();n.resume()}};if(n.mtime&&!this.noMtime){i++;r.utimes(n.absolute,n.atime||new Date,n.mtime,t)}if(this[X](n)){i++;r.chown(n.absolute,this[j](n),this[Q](n),t)}t()})}[D](n){this.warn("unsupported entry type: "+n.type,n);n.resume()}[R](n){this[S](n,n.linkpath,"symlink")}[A](n){this[S](n,l.resolve(this.cwd,n.linkpath),"link")}[C](){this[q]++}[Y](){this[q]--;this[V]()}[J](n){this[Y]();n.resume()}[v](n,e){return n.type==="File"&&!this.unlink&&e.isFile()&&e.nlink<=1&&process.platform!=="win32"}[u](n){this[C]();this[W](l.dirname(n.absolute),this.dmode,e=>{if(e)return this[Z](e,n);r.lstat(n.absolute,(e,i)=>{if(i&&(this.keep||this.newer&&i.mtime>n.mtime))this[J](n);else if(e||this[v](n,i))this[o](null,n);else if(i.isDirectory()){if(n.type==="Directory"){if(!n.mode||(i.mode&4095)===n.mode)this[o](null,n);else r.chmod(n.absolute,n.mode,e=>this[o](e,n))}else r.rmdir(n.absolute,e=>this[o](e,n))}else T(n.absolute,e=>this[o](e,n))})})}[o](n,e){if(n)return this[Z](n,e);switch(e.type){case"File":case"OldFile":case"ContiguousFile":return this[b](e);case"Link":return this[A](e);case"SymbolicLink":return this[R](e);case"Directory":case"GNUDumpDir":return this[N](e)}}[S](n,e,i){r[i](e,n.absolute,e=>{if(e)return this[Z](e,n);this[Y]();n.resume()})}}class UnpackSync extends Unpack{constructor(n){super(n)}[u](n){const e=this[W](l.dirname(n.absolute),this.dmode);if(e)return this[Z](e,n);try{const i=r.lstatSync(n.absolute);if(this.keep||this.newer&&i.mtime>n.mtime)return this[J](n);else if(this[v](n,i))return this[o](null,n);else{try{if(i.isDirectory()){if(n.type==="Directory"){if(n.mode&&(i.mode&4095)!==n.mode)r.chmodSync(n.absolute,n.mode)}else r.rmdirSync(n.absolute)}else K(n.absolute);return this[o](null,n)}catch(e){return this[Z](e,n)}}}catch(e){return this[o](null,n)}}[b](n){const e=n.mode&4095||this.fmode;const i=e=>{try{r.closeSync(s)}catch(n){}if(e)this[Z](e,n)};let t;let s;try{s=r.openSync(n.absolute,"w",e)}catch(n){return i(n)}const f=this.transform?this.transform(n)||n:n;if(f!==n){f.on("error",e=>this[Z](e,n));n.pipe(f)}f.on("data",n=>{try{r.writeSync(s,n,0,n.length)}catch(n){i(n)}});f.on("end",e=>{let t=null;if(n.mtime&&!this.noMtime){const e=n.atime||new Date;const i=n.mtime;try{r.futimesSync(s,e,i)}catch(s){try{r.utimesSync(n.absolute,e,i)}catch(n){t=s}}}if(this[X](n)){const e=this[j](n);const i=this[Q](n);try{r.fchownSync(s,e,i)}catch(s){try{r.chownSync(n.absolute,e,i)}catch(n){t=t||s}}}i(t)})}[N](n){const e=n.mode&4095||this.dmode;const i=this[W](n.absolute,e);if(i)return this[Z](i,n);if(n.mtime&&!this.noMtime){try{r.utimesSync(n.absolute,n.atime||new Date,n.mtime)}catch(i){}}if(this[X](n)){try{r.chownSync(n.absolute,this[j](n),this[Q](n))}catch(i){}}n.resume()}[W](n,e){try{return h.sync(n,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:e})}catch(n){return n}}[S](n,e,i){try{r[i+"Sync"](e,n.absolute);n.resume()}catch(e){return this[Z](e,n)}}}Unpack.Sync=UnpackSync;n.exports=Unpack},93:function(n,e,i){var t=i(413).Stream;n.exports=legacy;function legacy(n){return{ReadStream:ReadStream,WriteStream:WriteStream};function ReadStream(e,i){if(!(this instanceof ReadStream))return new ReadStream(e,i);t.call(this);var s=this;this.path=e;this.fd=null;this.readable=true;this.paused=false;this.flags="r";this.mode=438;this.bufferSize=64*1024;i=i||{};var f=Object.keys(i);for(var r=0,a=f.length;r<a;r++){var l=f[r];this[l]=i[l]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.end===undefined){this.end=Infinity}else if("number"!==typeof this.end){throw TypeError("end must be a Number")}if(this.start>this.end){throw new Error("start must be <= end")}this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}n.open(this.path,this.flags,this.mode,function(n,e){if(n){s.emit("error",n);s.readable=false;return}s.fd=e;s.emit("open",e);s._read()})}function WriteStream(e,i){if(!(this instanceof WriteStream))return new WriteStream(e,i);t.call(this);this.path=e;this.fd=null;this.writable=true;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;i=i||{};var s=Object.keys(i);for(var f=0,r=s.length;f<r;f++){var a=s[f];this[a]=i[a]}if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.start<0){throw new Error("start must be >= zero")}this.pos=this.start}this.busy=false;this._queue=[];if(this.fd===null){this._open=n.open;this._queue.push([this._open,this.path,this.flags,this.mode,undefined]);this.flush()}}}},129:function(n){n.exports=require("child_process")},133:function(n,e,i){"use strict";const t=i(357);const s=i(293).Buffer;const f=i(761);const r=e.constants=i(60);const a=i(720);const l=s.concat;class ZlibError extends Error{constructor(n,e){super("zlib: "+n);this.errno=e;this.code=h.get(e)}get name(){return"ZlibError"}}const h=new Map([[r.Z_OK,"Z_OK"],[r.Z_STREAM_END,"Z_STREAM_END"],[r.Z_NEED_DICT,"Z_NEED_DICT"],[r.Z_ERRNO,"Z_ERRNO"],[r.Z_STREAM_ERROR,"Z_STREAM_ERROR"],[r.Z_DATA_ERROR,"Z_DATA_ERROR"],[r.Z_MEM_ERROR,"Z_MEM_ERROR"],[r.Z_BUF_ERROR,"Z_BUF_ERROR"],[r.Z_VERSION_ERROR,"Z_VERSION_ERROR"]]);const w=new Set([r.Z_NO_FLUSH,r.Z_PARTIAL_FLUSH,r.Z_SYNC_FLUSH,r.Z_FULL_FLUSH,r.Z_FINISH,r.Z_BLOCK]);const d=new Set([r.Z_FILTERED,r.Z_HUFFMAN_ONLY,r.Z_RLE,r.Z_FIXED,r.Z_DEFAULT_STRATEGY]);const c=Symbol("opts");const u=Symbol("flushFlag");const v=Symbol("finishFlush");const o=Symbol("handle");const b=Symbol("onError");const N=Symbol("level");const S=Symbol("strategy");const R=Symbol("ended");class Zlib extends a{constructor(n,e){super(n);this[R]=false;this[c]=n=n||{};if(n.flush&&!w.has(n.flush)){throw new TypeError("Invalid flush flag: "+n.flush)}if(n.finishFlush&&!w.has(n.finishFlush)){throw new TypeError("Invalid flush flag: "+n.finishFlush)}this[u]=n.flush||r.Z_NO_FLUSH;this[v]=typeof n.finishFlush!=="undefined"?n.finishFlush:r.Z_FINISH;if(n.chunkSize){if(n.chunkSize<r.Z_MIN_CHUNK){throw new RangeError("Invalid chunk size: "+n.chunkSize)}}if(n.windowBits){if(n.windowBits<r.Z_MIN_WINDOWBITS||n.windowBits>r.Z_MAX_WINDOWBITS){throw new RangeError("Invalid windowBits: "+n.windowBits)}}if(n.level){if(n.level<r.Z_MIN_LEVEL||n.level>r.Z_MAX_LEVEL){throw new RangeError("Invalid compression level: "+n.level)}}if(n.memLevel){if(n.memLevel<r.Z_MIN_MEMLEVEL||n.memLevel>r.Z_MAX_MEMLEVEL){throw new RangeError("Invalid memLevel: "+n.memLevel)}}if(n.strategy&&!d.has(n.strategy))throw new TypeError("Invalid strategy: "+n.strategy);if(n.dictionary){if(!(n.dictionary instanceof s)){throw new TypeError("Invalid dictionary: it should be a Buffer instance")}}this[o]=new f[e](n);this[b]=(n=>{this.close();const e=new ZlibError(n.message,n.errno);this.emit("error",e)});this[o].on("error",this[b]);const i=typeof n.level==="number"?n.level:r.Z_DEFAULT_COMPRESSION;var t=typeof n.strategy==="number"?n.strategy:r.Z_DEFAULT_STRATEGY;this[N]=i;this[S]=t;this.once("end",this.close)}close(){if(this[o]){this[o].close();this[o]=null;this.emit("close")}}params(n,e){if(!this[o])throw new Error("cannot switch params when binding is closed");if(!this[o].params)throw new Error("not supported in this implementation");if(n<r.Z_MIN_LEVEL||n>r.Z_MAX_LEVEL){throw new RangeError("Invalid compression level: "+n)}if(!d.has(e))throw new TypeError("Invalid strategy: "+e);if(this[N]!==n||this[S]!==e){this.flush(r.Z_SYNC_FLUSH);t(this[o],"zlib binding closed");const i=this[o].flush;this[o].flush=((n,e)=>{this[o].flush=i;this.flush(n);e()});this[o].params(n,e);if(this[o]){this[N]=n;this[S]=e}}}reset(){t(this[o],"zlib binding closed");return this[o].reset()}flush(n){if(n===undefined)n=r.Z_FULL_FLUSH;if(this.ended)return;const e=this[u];this[u]=n;this.write(s.alloc(0));this[u]=e}end(n,e,i){if(n)this.write(n,e);this.flush(this[v]);this[R]=true;return super.end(null,null,i)}get ended(){return this[R]}write(n,e,i){if(typeof e==="function")i=e,e="utf8";if(typeof n==="string")n=s.from(n,e);t(this[o],"zlib binding closed");const f=this[o]._handle;const r=f.close;f.close=(()=>{});const a=this[o].close;this[o].close=(()=>{});s.concat=(n=>n);let h;try{h=this[o]._processChunk(n,this[u])}catch(n){this[b](n)}finally{s.concat=l;if(this[o]){this[o]._handle=f;f.close=r;this[o].close=a;this[o].removeAllListeners("error")}}let w;if(h){if(Array.isArray(h)&&h.length>0){w=super.write(s.from(h[0]));for(let n=1;n<h.length;n++){w=super.write(h[n])}}else{w=super.write(s.from(h))}}if(i)i();return w}}class Deflate extends Zlib{constructor(n){super(n,"Deflate")}}class Inflate extends Zlib{constructor(n){super(n,"Inflate")}}class Gzip extends Zlib{constructor(n){super(n,"Gzip")}}class Gunzip extends Zlib{constructor(n){super(n,"Gunzip")}}class DeflateRaw extends Zlib{constructor(n){super(n,"DeflateRaw")}}class InflateRaw extends Zlib{constructor(n){super(n,"InflateRaw")}}class Unzip extends Zlib{constructor(n){super(n,"Unzip")}}e.Deflate=Deflate;e.Inflate=Inflate;e.Gzip=Gzip;e.Gunzip=Gunzip;e.DeflateRaw=DeflateRaw;e.InflateRaw=InflateRaw;e.Unzip=Unzip},149:function(n,e,i){var t=i(293);var s=t.Buffer;function copyProps(n,e){for(var i in n){e[i]=n[i]}}if(s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow){n.exports=t}else{copyProps(t,e);e.Buffer=SafeBuffer}function SafeBuffer(n,e,i){return s(n,e,i)}SafeBuffer.prototype=Object.create(s.prototype);copyProps(s,SafeBuffer);SafeBuffer.from=function(n,e,i){if(typeof n==="number"){throw new TypeError("Argument must not be a number")}return s(n,e,i)};SafeBuffer.alloc=function(n,e,i){if(typeof n!=="number"){throw new TypeError("Argument must be a number")}var t=s(n);if(e!==undefined){if(typeof i==="string"){t.fill(e,i)}else{t.fill(e)}}else{t.fill(0)}return t};SafeBuffer.allocUnsafe=function(n){if(typeof n!=="number"){throw new TypeError("Argument must be a number")}return s(n)};SafeBuffer.allocUnsafeSlow=function(n){if(typeof n!=="number"){throw new TypeError("Argument must be a number")}return t.SlowBuffer(n)}},159:function(n,e,i){"use strict";const t=i(891);const s=i(582);const f=i(747);const r=i(827);const a=i(381);const l=i(622);const h=n.exports=((n,e,i)=>{if(typeof e==="function")i=e;if(Array.isArray(n))e=n,n={};if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);const s=t(n);if(s.sync&&typeof i==="function")throw new TypeError("callback not supported for sync tar functions");if(!s.file&&typeof i==="function")throw new TypeError("callback only supported with file option");return s.file&&s.sync?w(s,e):s.file?d(s,e,i):s.sync?v(s,e):o(s,e)});const w=(n,e)=>{const i=new s.Sync(n);const t=new r.WriteStreamSync(n.file,{mode:n.mode||438});i.pipe(t);c(i,e)};const d=(n,e,i)=>{const t=new s(n);const f=new r.WriteStream(n.file,{mode:n.mode||438});t.pipe(f);const a=new Promise((n,e)=>{f.on("error",e);f.on("close",n);t.on("error",e)});u(t,e);return i?a.then(i,i):a};const c=(n,e)=>{e.forEach(e=>{if(e.charAt(0)==="@")a({file:l.resolve(n.cwd,e.substr(1)),sync:true,noResume:true,onentry:e=>n.add(e)});else n.add(e)});n.end()};const u=(n,e)=>{while(e.length){const i=e.shift();if(i.charAt(0)==="@")return a({file:l.resolve(n.cwd,i.substr(1)),noResume:true,onentry:e=>n.add(e)}).then(i=>u(n,e));else n.add(i)}n.end()};const v=(n,e)=>{const i=new s.Sync(n);c(i,e);return i};const o=(n,e)=>{const i=new s(n);u(i,e);return i}},197:function(n,e,i){"use strict";let t=Buffer;if(!t.alloc){t=i(149).Buffer}n.exports=t},203:function(n,e,i){"use strict";const t=i(796);const s=i(622);const f=i(232);const r=i(614);const a=i(612);const l=1024*1024;const h=i(662);const w=i(480);const d=i(133);const c=i(197);const u=c.from([31,139]);const v=Symbol("state");const o=Symbol("writeEntry");const b=Symbol("readEntry");const N=Symbol("nextEntry");const S=Symbol("processEntry");const R=Symbol("extendedHeader");const A=Symbol("globalExtendedHeader");const D=Symbol("meta");const M=Symbol("emitMeta");const B=Symbol("buffer");const W=Symbol("queue");const Z=Symbol("ended");const q=Symbol("emittedEnd");const C=Symbol("emit");const Y=Symbol("unzip");const G=Symbol("consumeChunk");const V=Symbol("consumeChunkSub");const J=Symbol("consumeBody");const X=Symbol("consumeMeta");const j=Symbol("consumeHeader");const Q=Symbol("consuming");const E=Symbol("bufferConcat");const T=Symbol("maybeEnd");const K=Symbol("writing");const y=Symbol("aborted");const H=Symbol("onDone");const I=n=>true;n.exports=t(class Parser extends r{constructor(n){n=n||{};super(n);if(n.ondone)this.on(H,n.ondone);else this.on(H,n=>{this.emit("prefinish");this.emit("finish");this.emit("end");this.emit("close")});this.strict=!!n.strict;this.maxMetaEntrySize=n.maxMetaEntrySize||l;this.filter=typeof n.filter==="function"?n.filter:I;this.writable=true;this.readable=false;this[W]=new a;this[B]=null;this[b]=null;this[o]=null;this[v]="begin";this[D]="";this[R]=null;this[A]=null;this[Z]=false;this[Y]=null;this[y]=false;if(typeof n.onwarn==="function")this.on("warn",n.onwarn);if(typeof n.onentry==="function")this.on("entry",n.onentry)}[j](n,e){const i=new f(n,e,this[R],this[A]);if(i.nullBlock)this[C]("nullBlock");else if(!i.cksumValid)this.warn("invalid entry",i);else if(!i.path)this.warn("invalid: path is required",i);else{const n=i.type;if(/^(Symbolic)?Link$/.test(n)&&!i.linkpath)this.warn("invalid: linkpath required",i);else if(!/^(Symbolic)?Link$/.test(n)&&i.linkpath)this.warn("invalid: linkpath forbidden",i);else{const n=this[o]=new h(i,this[R],this[A]);if(n.meta){if(n.size>this.maxMetaEntrySize){n.ignore=true;this[C]("ignoredEntry",n);this[v]="ignore"}else if(n.size>0){this[D]="";n.on("data",n=>this[D]+=n);this[v]="meta"}}else{this[R]=null;n.ignore=n.ignore||!this.filter(n.path,n);if(n.ignore){this[C]("ignoredEntry",n);this[v]=n.remain?"ignore":"begin"}else{if(n.remain)this[v]="body";else{this[v]="begin";n.end()}if(!this[b]){this[W].push(n);this[N]()}else this[W].push(n)}}}}}[S](n){let e=true;if(!n){this[b]=null;e=false}else if(Array.isArray(n))this.emit.apply(this,n);else{this[b]=n;this.emit("entry",n);if(!n.emittedEnd){n.on("end",n=>this[N]());e=false}}return e}[N](){do{}while(this[S](this[W].shift()));if(!this[W].length){const n=this[b];const e=!n||n.flowing||n.size===n.remain;if(e){if(!this[K])this.emit("drain")}else n.once("drain",n=>this.emit("drain"))}}[J](n,e){const i=this[o];const t=i.blockRemain;const s=t>=n.length&&e===0?n:n.slice(e,e+t);i.write(s);if(!i.blockRemain){this[v]="begin";this[o]=null;i.end()}return s.length}[X](n,e){const i=this[o];const t=this[J](n,e);if(!this[o])this[M](i);return t}[C](n,e,i){if(!this[W].length&&!this[b])this.emit(n,e,i);else this[W].push([n,e,i])}[M](n){this[C]("meta",this[D]);switch(n.type){case"ExtendedHeader":case"OldExtendedHeader":this[R]=w.parse(this[D],this[R],false);break;case"GlobalExtendedHeader":this[A]=w.parse(this[D],this[A],true);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[R]=this[R]||Object.create(null);this[R].path=this[D].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[R]=this[R]||Object.create(null);this[R].linkpath=this[D].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+n.type)}}abort(n,e){this[y]=true;this.warn(n,e);this.emit("abort",e);this.emit("error",e)}write(n){if(this[y])return;if(this[Y]===null&&n){if(this[B]){n=c.concat([this[B],n]);this[B]=null}if(n.length<u.length){this[B]=n;return true}for(let e=0;this[Y]===null&&e<u.length;e++){if(n[e]!==u[e])this[Y]=false}if(this[Y]===null){const e=this[Z];this[Z]=false;this[Y]=new d.Unzip;this[Y].on("data",n=>this[G](n));this[Y].on("error",n=>this.abort(n.message,n));this[Y].on("end",n=>{this[Z]=true;this[G]()});this[K]=true;const i=this[Y][e?"end":"write"](n);this[K]=false;return i}}this[K]=true;if(this[Y])this[Y].write(n);else this[G](n);this[K]=false;const e=this[W].length?false:this[b]?this[b].flowing:true;if(!e&&!this[W].length)this[b].once("drain",n=>this.emit("drain"));return e}[E](n){if(n&&!this[y])this[B]=this[B]?c.concat([this[B],n]):n}[T](){if(this[Z]&&!this[q]&&!this[y]&&!this[Q]){this[q]=true;const n=this[o];if(n&&n.blockRemain){const e=this[B]?this[B].length:0;this.warn("Truncated input (needed "+n.blockRemain+" more bytes, only "+e+" available)",n);if(this[B])n.write(this[B]);n.end()}this[C](H)}}[G](n){if(this[Q]){this[E](n)}else if(!n&&!this[B]){this[T]()}else{this[Q]=true;if(this[B]){this[E](n);const e=this[B];this[B]=null;this[V](e)}else{this[V](n)}while(this[B]&&this[B].length>=512&&!this[y]){const n=this[B];this[B]=null;this[V](n)}this[Q]=false}if(!this[B]||this[Z])this[T]()}[V](n){let e=0;let i=n.length;while(e+512<=i&&!this[y]){switch(this[v]){case"begin":this[j](n,e);e+=512;break;case"ignore":case"body":e+=this[J](n,e);break;case"meta":e+=this[X](n,e);break;default:throw new Error("invalid state: "+this[v])}}if(e<i){if(this[B])this[B]=c.concat([n.slice(e),this[B]]);else this[B]=n.slice(e)}}end(n){if(!this[y]){if(this[Y])this[Y].end(n);else{this[Z]=true;this.write(n)}}}})},211:function(n){n.exports=require("https")},232:function(n,e,i){"use strict";const t=i(197);const s=i(554);const f=i(622).posix;const r=i(858);const a=Symbol("slurp");const l=Symbol("type");class Header{constructor(n,e,i,s){this.cksumValid=false;this.needPax=false;this.nullBlock=false;this.block=null;this.path=null;this.mode=null;this.uid=null;this.gid=null;this.size=null;this.mtime=null;this.cksum=null;this[l]="0";this.linkpath=null;this.uname=null;this.gname=null;this.devmaj=0;this.devmin=0;this.atime=null;this.ctime=null;if(t.isBuffer(n))this.decode(n,e||0,i,s);else if(n)this.set(n)}decode(n,e,i,t){if(!e)e=0;if(!n||!(n.length>=e+512))throw new Error("need 512 bytes for header");this.path=w(n,e,100);this.mode=u(n,e+100,8);this.uid=u(n,e+108,8);this.gid=u(n,e+116,8);this.size=u(n,e+124,12);this.mtime=d(n,e+136,12);this.cksum=u(n,e+148,12);this[a](i);this[a](t,true);this[l]=w(n,e+156,1);if(this[l]==="")this[l]="0";if(this[l]==="0"&&this.path.substr(-1)==="/")this[l]="5";if(this[l]==="5")this.size=0;this.linkpath=w(n,e+157,100);if(n.slice(e+257,e+265).toString()==="ustar\x0000"){this.uname=w(n,e+265,32);this.gname=w(n,e+297,32);this.devmaj=u(n,e+329,8);this.devmin=u(n,e+337,8);if(n[e+475]!==0){const i=w(n,e+345,155);this.path=i+"/"+this.path}else{const i=w(n,e+345,130);if(i)this.path=i+"/"+this.path;this.atime=d(n,e+476,12);this.ctime=d(n,e+488,12)}}let s=8*32;for(let i=e;i<e+148;i++){s+=n[i]}for(let i=e+156;i<e+512;i++){s+=n[i]}this.cksumValid=s===this.cksum;if(this.cksum===null&&s===8*32)this.nullBlock=true}[a](n,e){for(let i in n){if(n[i]!==null&&n[i]!==undefined&&!(e&&i==="path"))this[i]=n[i]}}encode(n,e){if(!n){n=this.block=t.alloc(512);e=0}if(!e)e=0;if(!(n.length>=e+512))throw new Error("need 512 bytes for header");const i=this.ctime||this.atime?130:155;const s=h(this.path||"",i);const f=s[0];const r=s[1];this.needPax=s[2];this.needPax=B(n,e,100,f)||this.needPax;this.needPax=N(n,e+100,8,this.mode)||this.needPax;this.needPax=N(n,e+108,8,this.uid)||this.needPax;this.needPax=N(n,e+116,8,this.gid)||this.needPax;this.needPax=N(n,e+124,12,this.size)||this.needPax;this.needPax=D(n,e+136,12,this.mtime)||this.needPax;n[e+156]=this[l].charCodeAt(0);this.needPax=B(n,e+157,100,this.linkpath)||this.needPax;n.write("ustar\x0000",e+257,8);this.needPax=B(n,e+265,32,this.uname)||this.needPax;this.needPax=B(n,e+297,32,this.gname)||this.needPax;this.needPax=N(n,e+329,8,this.devmaj)||this.needPax;this.needPax=N(n,e+337,8,this.devmin)||this.needPax;this.needPax=B(n,e+345,i,r)||this.needPax;if(n[e+475]!==0)this.needPax=B(n,e+345,155,r)||this.needPax;else{this.needPax=B(n,e+345,130,r)||this.needPax;this.needPax=D(n,e+476,12,this.atime)||this.needPax;this.needPax=D(n,e+488,12,this.ctime)||this.needPax}let a=8*32;for(let i=e;i<e+148;i++){a+=n[i]}for(let i=e+156;i<e+512;i++){a+=n[i]}this.cksum=a;N(n,e+148,8,this.cksum);this.cksumValid=true;return this.needPax}set(n){for(let e in n){if(n[e]!==null&&n[e]!==undefined)this[e]=n[e]}}get type(){return s.name.get(this[l])||this[l]}get typeKey(){return this[l]}set type(n){if(s.code.has(n))this[l]=s.code.get(n);else this[l]=n}}const h=(n,e)=>{const i=100;let s=n;let r="";let a;const l=f.parse(n).root||".";if(t.byteLength(s)<i)a=[s,r,false];else{r=f.dirname(s);s=f.basename(s);do{if(t.byteLength(s)<=i&&t.byteLength(r)<=e)a=[s,r,false];else if(t.byteLength(s)>i&&t.byteLength(r)<=e)a=[s.substr(0,i-1),r,true];else{s=f.join(f.basename(r),s);r=f.dirname(r)}}while(r!==l&&!a);if(!a)a=[n.substr(0,i-1),"",true]}return a};const w=(n,e,i)=>n.slice(e,e+i).toString("utf8").replace(/\0.*/,"");const d=(n,e,i)=>c(u(n,e,i));const c=n=>n===null?null:new Date(n*1e3);const u=(n,e,i)=>n[e]&128?r.parse(n.slice(e,e+i)):o(n,e,i);const v=n=>isNaN(n)?null:n;const o=(n,e,i)=>v(parseInt(n.slice(e,e+i).toString("utf8").replace(/\0.*$/,"").trim(),8));const b={12:8589934591,8:2097151};const N=(n,e,i,t)=>t===null?false:t>b[i]||t<0?(r.encode(t,n.slice(e,e+i)),true):(S(n,e,i,t),false);const S=(n,e,i,t)=>n.write(R(t,i),e,i,"ascii");const R=(n,e)=>A(Math.floor(n).toString(8),e);const A=(n,e)=>(n.length===e-1?n:new Array(e-n.length-1).join("0")+n+" ")+"\0";const D=(n,e,i,t)=>t===null?false:N(n,e,i,t.getTime()/1e3);const M=new Array(156).join("\0");const B=(n,e,i,s)=>s===null?false:(n.write(s+M,e,i,"utf8"),s.length!==t.byteLength(s)||s.length>i);n.exports=Header},250:function(n,e,i){var t=i(619);var s=process.cwd;var f=null;var r=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!f)f=s.call(process);return f};try{process.cwd()}catch(n){}var a=process.chdir;process.chdir=function(n){f=null;a.call(process,n)};n.exports=patch;function patch(n){if(t.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)){patchLchmod(n)}if(!n.lutimes){patchLutimes(n)}n.chown=chownFix(n.chown);n.fchown=chownFix(n.fchown);n.lchown=chownFix(n.lchown);n.chmod=chmodFix(n.chmod);n.fchmod=chmodFix(n.fchmod);n.lchmod=chmodFix(n.lchmod);n.chownSync=chownFixSync(n.chownSync);n.fchownSync=chownFixSync(n.fchownSync);n.lchownSync=chownFixSync(n.lchownSync);n.chmodSync=chmodFixSync(n.chmodSync);n.fchmodSync=chmodFixSync(n.fchmodSync);n.lchmodSync=chmodFixSync(n.lchmodSync);n.stat=statFix(n.stat);n.fstat=statFix(n.fstat);n.lstat=statFix(n.lstat);n.statSync=statFixSync(n.statSync);n.fstatSync=statFixSync(n.fstatSync);n.lstatSync=statFixSync(n.lstatSync);if(!n.lchmod){n.lchmod=function(n,e,i){if(i)process.nextTick(i)};n.lchmodSync=function(){}}if(!n.lchown){n.lchown=function(n,e,i,t){if(t)process.nextTick(t)};n.lchownSync=function(){}}if(r==="win32"){n.rename=function(e){return function(i,t,s){var f=Date.now();var r=0;e(i,t,function CB(a){if(a&&(a.code==="EACCES"||a.code==="EPERM")&&Date.now()-f<6e4){setTimeout(function(){n.stat(t,function(n,f){if(n&&n.code==="ENOENT")e(i,t,CB);else s(a)})},r);if(r<100)r+=10;return}if(s)s(a)})}}(n.rename)}n.read=function(e){return function(i,t,s,f,r,a){var l;if(a&&typeof a==="function"){var h=0;l=function(w,d,c){if(w&&w.code==="EAGAIN"&&h<10){h++;return e.call(n,i,t,s,f,r,l)}a.apply(this,arguments)}}return e.call(n,i,t,s,f,r,l)}}(n.read);n.readSync=function(e){return function(i,t,s,f,r){var a=0;while(true){try{return e.call(n,i,t,s,f,r)}catch(n){if(n.code==="EAGAIN"&&a<10){a++;continue}throw n}}}}(n.readSync);function patchLchmod(n){n.lchmod=function(e,i,s){n.open(e,t.O_WRONLY|t.O_SYMLINK,i,function(e,t){if(e){if(s)s(e);return}n.fchmod(t,i,function(e){n.close(t,function(n){if(s)s(e||n)})})})};n.lchmodSync=function(e,i){var s=n.openSync(e,t.O_WRONLY|t.O_SYMLINK,i);var f=true;var r;try{r=n.fchmodSync(s,i);f=false}finally{if(f){try{n.closeSync(s)}catch(n){}}else{n.closeSync(s)}}return r}}function patchLutimes(n){if(t.hasOwnProperty("O_SYMLINK")){n.lutimes=function(e,i,s,f){n.open(e,t.O_SYMLINK,function(e,t){if(e){if(f)f(e);return}n.futimes(t,i,s,function(e){n.close(t,function(n){if(f)f(e||n)})})})};n.lutimesSync=function(e,i,s){var f=n.openSync(e,t.O_SYMLINK);var r;var a=true;try{r=n.futimesSync(f,i,s);a=false}finally{if(a){try{n.closeSync(f)}catch(n){}}else{n.closeSync(f)}}return r}}else{n.lutimes=function(n,e,i,t){if(t)process.nextTick(t)};n.lutimesSync=function(){}}}function chmodFix(e){if(!e)return e;return function(i,t,s){return e.call(n,i,t,function(n){if(chownErOk(n))n=null;if(s)s.apply(this,arguments)})}}function chmodFixSync(e){if(!e)return e;return function(i,t){try{return e.call(n,i,t)}catch(n){if(!chownErOk(n))throw n}}}function chownFix(e){if(!e)return e;return function(i,t,s,f){return e.call(n,i,t,s,function(n){if(chownErOk(n))n=null;if(f)f.apply(this,arguments)})}}function chownFixSync(e){if(!e)return e;return function(i,t,s){try{return e.call(n,i,t,s)}catch(n){if(!chownErOk(n))throw n}}}function statFix(e){if(!e)return e;return function(i,t){return e.call(n,i,function(n,e){if(!e)return t.apply(this,arguments);if(e.uid<0)e.uid+=4294967296;if(e.gid<0)e.gid+=4294967296;if(t)t.apply(this,arguments)})}}function statFixSync(e){if(!e)return e;return function(i){var t=e.call(n,i);if(t.uid<0)t.uid+=4294967296;if(t.gid<0)t.gid+=4294967296;return t}}function chownErOk(n){if(!n)return true;if(n.code==="ENOSYS")return true;var e=!process.getuid||process.getuid()!==0;if(e){if(n.code==="EINVAL"||n.code==="EPERM")return true}return false}}},293:function(n){n.exports=require("buffer")},303:function(n,e,i){"use strict";const t=i(197);const s=i(720);const f=i(480);const r=i(232);const a=i(662);const l=i(747);const h=i(622);const w=i(554);const d=16*1024*1024;const c=Symbol("process");const u=Symbol("file");const v=Symbol("directory");const o=Symbol("symlink");const b=Symbol("hardlink");const N=Symbol("header");const S=Symbol("read");const R=Symbol("lstat");const A=Symbol("onlstat");const D=Symbol("onread");const M=Symbol("onreadlink");const B=Symbol("openfile");const W=Symbol("onopenfile");const Z=Symbol("close");const q=Symbol("mode");const C=i(796);const Y=i(478);const G=i(904);const V=C(class WriteEntry extends s{constructor(n,e){e=e||{};super(e);if(typeof n!=="string")throw new TypeError("path is required");this.path=n;this.portable=!!e.portable;this.myuid=process.getuid&&process.getuid();this.myuser=process.env.USER||"";this.maxReadSize=e.maxReadSize||d;this.linkCache=e.linkCache||new Map;this.statCache=e.statCache||new Map;this.preservePaths=!!e.preservePaths;this.cwd=e.cwd||process.cwd();this.strict=!!e.strict;this.noPax=!!e.noPax;this.noMtime=!!e.noMtime;this.mtime=e.mtime||null;if(typeof e.onwarn==="function")this.on("warn",e.onwarn);if(!this.preservePaths&&h.win32.isAbsolute(n)){const e=h.win32.parse(n);this.warn("stripping "+e.root+" from absolute path",n);this.path=n.substr(e.root.length)}this.win32=!!e.win32||process.platform==="win32";if(this.win32){this.path=Y.decode(this.path.replace(/\\/g,"/"));n=n.replace(/\\/g,"/")}this.absolute=e.absolute||h.resolve(this.cwd,n);if(this.path==="")this.path="./";if(this.statCache.has(this.absolute))this[A](this.statCache.get(this.absolute));else this[R]()}[R](){l.lstat(this.absolute,(n,e)=>{if(n)return this.emit("error",n);this[A](e)})}[A](n){this.statCache.set(this.absolute,n);this.stat=n;if(!n.isFile())n.size=0;this.type=X(n);this.emit("stat",n);this[c]()}[c](){switch(this.type){case"File":return this[u]();case"Directory":return this[v]();case"SymbolicLink":return this[o]();default:return this.end()}}[q](n){return G(n,this.type==="Directory")}[N](){if(this.type==="Directory"&&this.portable)this.noMtime=true;this.header=new r({path:this.path,linkpath:this.linkpath,mode:this[q](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime});if(this.header.encode()&&!this.noPax)this.write(new f({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this.path,linkpath:this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode());this.write(this.header.block)}[v](){if(this.path.substr(-1)!=="/")this.path+="/";this.stat.size=0;this[N]();this.end()}[o](){l.readlink(this.absolute,(n,e)=>{if(n)return this.emit("error",n);this[M](e)})}[M](n){this.linkpath=n;this[N]();this.end()}[b](n){this.type="Link";this.linkpath=h.relative(this.cwd,n);this.stat.size=0;this[N]();this.end()}[u](){if(this.stat.nlink>1){const n=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(n)){const e=this.linkCache.get(n);if(e.indexOf(this.cwd)===0)return this[b](e)}this.linkCache.set(n,this.absolute)}this[N]();if(this.stat.size===0)return this.end();this[B]()}[B](){l.open(this.absolute,"r",(n,e)=>{if(n)return this.emit("error",n);this[W](e)})}[W](n){const e=512*Math.ceil(this.stat.size/512);const i=Math.min(e,this.maxReadSize);const s=t.allocUnsafe(i);this[S](n,s,0,s.length,0,this.stat.size,e)}[S](n,e,i,t,s,f,r){l.read(n,e,i,t,s,(a,l)=>{if(a)return this[Z](n,n=>this.emit("error",a));this[D](n,e,i,t,s,f,r,l)})}[Z](n,e){l.close(n,e)}[D](n,e,i,s,f,r,a,l){if(l<=0&&r>0){const e=new Error("encountered unexpected EOF");e.path=this.absolute;e.syscall="read";e.code="EOF";this[Z](n);return this.emit("error",e)}if(l>r){const e=new Error("did not encounter expected EOF");e.path=this.absolute;e.syscall="read";e.code="EOF";this[Z](n);return this.emit("error",e)}if(l===r){for(let n=l;n<s&&l<a;n++){e[n+i]=0;l++;r++}}const h=i===0&&l===e.length?e:e.slice(i,i+l);r-=l;a-=l;f+=l;i+=l;this.write(h);if(!r){if(a)this.write(t.alloc(a));this.end();this[Z](n,n=>n);return}if(i>=s){e=t.allocUnsafe(s);i=0}s=e.length-i;this[S](n,e,i,s,f,r,a)}});class WriteEntrySync extends V{constructor(n,e){super(n,e)}[R](){this[A](l.lstatSync(this.absolute))}[o](){this[M](l.readlinkSync(this.absolute))}[B](){this[W](l.openSync(this.absolute,"r"))}[S](n,e,i,t,s,f,r){let a=true;try{const h=l.readSync(n,e,i,t,s);this[D](n,e,i,t,s,f,r,h);a=false}finally{if(a)try{this[Z](n)}catch(n){}}}[Z](n){l.closeSync(n)}}const J=C(class WriteEntryTar extends s{constructor(n,e){e=e||{};super(e);this.preservePaths=!!e.preservePaths;this.portable=!!e.portable;this.strict=!!e.strict;this.noPax=!!e.noPax;this.noMtime=!!e.noMtime;this.readEntry=n;this.type=n.type;if(this.type==="Directory"&&this.portable)this.noMtime=true;this.path=n.path;this.mode=this[q](n.mode);this.uid=this.portable?null:n.uid;this.gid=this.portable?null:n.gid;this.uname=this.portable?null:n.uname;this.gname=this.portable?null:n.gname;this.size=n.size;this.mtime=this.noMtime?null:e.mtime||n.mtime;this.atime=this.portable?null:n.atime;this.ctime=this.portable?null:n.ctime;this.linkpath=n.linkpath;if(typeof e.onwarn==="function")this.on("warn",e.onwarn);if(h.isAbsolute(this.path)&&!this.preservePaths){const n=h.parse(this.path);this.warn("stripping "+n.root+" from absolute path",this.path);this.path=this.path.substr(n.root.length)}this.remain=n.size;this.blockRemain=n.startBlockSize;this.header=new r({path:this.path,linkpath:this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime});if(this.header.encode()&&!this.noPax)super.write(new f({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this.path,linkpath:this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode());super.write(this.header.block);n.pipe(this)}[q](n){return G(n,this.type==="Directory")}write(n){const e=n.length;if(e>this.blockRemain)throw new Error("writing more to entry than is appropriate");this.blockRemain-=e;return super.write(n)}end(){if(this.blockRemain)this.write(t.alloc(this.blockRemain));return super.end()}});V.Sync=WriteEntrySync;V.Tar=J;const X=n=>n.isFile()?"File":n.isDirectory()?"Directory":n.isSymbolicLink()?"SymbolicLink":"Unsupported";n.exports=V},304:function(n){n.exports=require("string_decoder")},324:function(n,e,i){var t=i(747);var s=i(669);var f=i(413);var r=f.Readable;var a=f.Writable;var l=f.PassThrough;var h=i(965);var w=i(614).EventEmitter;e.createFromBuffer=createFromBuffer;e.createFromFd=createFromFd;e.BufferSlicer=BufferSlicer;e.FdSlicer=FdSlicer;s.inherits(FdSlicer,w);function FdSlicer(n,e){e=e||{};w.call(this);this.fd=n;this.pend=new h;this.pend.max=1;this.refCount=0;this.autoClose=!!e.autoClose}FdSlicer.prototype.read=function(n,e,i,s,f){var r=this;r.pend.go(function(a){t.read(r.fd,n,e,i,s,function(n,e,i){a();f(n,e,i)})})};FdSlicer.prototype.write=function(n,e,i,s,f){var r=this;r.pend.go(function(a){t.write(r.fd,n,e,i,s,function(n,e,i){a();f(n,e,i)})})};FdSlicer.prototype.createReadStream=function(n){return new ReadStream(this,n)};FdSlicer.prototype.createWriteStream=function(n){return new WriteStream(this,n)};FdSlicer.prototype.ref=function(){this.refCount+=1};FdSlicer.prototype.unref=function(){var n=this;n.refCount-=1;if(n.refCount>0)return;if(n.refCount<0)throw new Error("invalid unref");if(n.autoClose){t.close(n.fd,onCloseDone)}function onCloseDone(e){if(e){n.emit("error",e)}else{n.emit("close")}}};s.inherits(ReadStream,r);function ReadStream(n,e){e=e||{};r.call(this,e);this.context=n;this.context.ref();this.start=e.start||0;this.endOffset=e.end;this.pos=this.start;this.destroyed=false}ReadStream.prototype._read=function(n){var e=this;if(e.destroyed)return;var i=Math.min(e._readableState.highWaterMark,n);if(e.endOffset!=null){i=Math.min(i,e.endOffset-e.pos)}if(i<=0){e.destroyed=true;e.push(null);e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var s=new Buffer(i);t.read(e.context.fd,s,0,i,e.pos,function(i,t){if(i){e.destroy(i)}else if(t===0){e.destroyed=true;e.push(null);e.context.unref()}else{e.pos+=t;e.push(s.slice(0,t))}n()})})};ReadStream.prototype.destroy=function(n){if(this.destroyed)return;n=n||new Error("stream destroyed");this.destroyed=true;this.emit("error",n);this.context.unref()};s.inherits(WriteStream,a);function WriteStream(n,e){e=e||{};a.call(this,e);this.context=n;this.context.ref();this.start=e.start||0;this.endOffset=e.end==null?Infinity:+e.end;this.bytesWritten=0;this.pos=this.start;this.destroyed=false;this.on("finish",this.destroy.bind(this))}WriteStream.prototype._write=function(n,e,i){var s=this;if(s.destroyed)return;if(s.pos+n.length>s.endOffset){var f=new Error("maximum file length exceeded");f.code="ETOOBIG";s.destroy();i(f);return}s.context.pend.go(function(e){if(s.destroyed)return e();t.write(s.context.fd,n,0,n.length,s.pos,function(n,t){if(n){s.destroy();e();i(n)}else{s.bytesWritten+=t;s.pos+=t;s.emit("progress");e();i()}})})};WriteStream.prototype.destroy=function(){if(this.destroyed)return;this.destroyed=true;this.context.unref()};s.inherits(BufferSlicer,w);function BufferSlicer(n,e){w.call(this);e=e||{};this.refCount=0;this.buffer=n;this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}BufferSlicer.prototype.read=function(n,e,i,t,s){var f=t+i;var r=f-this.buffer.length;var a=r>0?r:i;this.buffer.copy(n,e,t,f);setImmediate(function(){s(null,a)})};BufferSlicer.prototype.write=function(n,e,i,t,s){n.copy(this.buffer,t,e,e+i);setImmediate(function(){s(null,i,n)})};BufferSlicer.prototype.createReadStream=function(n){n=n||{};var e=new l(n);e.destroyed=false;e.start=n.start||0;e.endOffset=n.end;e.pos=e.endOffset||this.buffer.length;var i=this.buffer.slice(e.start,e.pos);var t=0;while(true){var s=t+this.maxChunkSize;if(s>=i.length){if(t<i.length){e.write(i.slice(t,i.length))}break}e.write(i.slice(t,s));t=s}e.end();e.destroy=function(){e.destroyed=true};return e};BufferSlicer.prototype.createWriteStream=function(n){var e=this;n=n||{};var i=new a(n);i.start=n.start||0;i.endOffset=n.end==null?this.buffer.length:+n.end;i.bytesWritten=0;i.pos=i.start;i.destroyed=false;i._write=function(n,t,s){if(i.destroyed)return;var f=i.pos+n.length;if(f>i.endOffset){var r=new Error("maximum file length exceeded");r.code="ETOOBIG";i.destroyed=true;s(r);return}n.copy(e.buffer,i.pos,0,n.length);i.bytesWritten+=n.length;i.pos=f;i.emit("progress");s()};i.destroy=function(){i.destroyed=true};return i};BufferSlicer.prototype.ref=function(){this.refCount+=1};BufferSlicer.prototype.unref=function(){this.refCount-=1;if(this.refCount<0){throw new Error("invalid unref")}};function createFromBuffer(n,e){return new BufferSlicer(n,e)}function createFromFd(n,e){return new FdSlicer(n,e)}},357:function(n){n.exports=require("assert")},381:function(n,e,i){"use strict";const t=i(197);const s=i(891);const f=i(203);const r=i(747);const a=i(827);const l=i(622);const h=n.exports=((n,e,i)=>{if(typeof n==="function")i=n,e=null,n={};else if(Array.isArray(n))e=n,n={};if(typeof e==="function")i=e,e=null;if(!e)e=[];else e=Array.from(e);const t=s(n);if(t.sync&&typeof i==="function")throw new TypeError("callback not supported for sync tar functions");if(!t.file&&typeof i==="function")throw new TypeError("callback only supported with file option");if(e.length)d(t,e);if(!t.noResume)w(t);return t.file&&t.sync?c(t):t.file?u(t,i):v(t)});const w=n=>{const e=n.onentry;n.onentry=e?n=>{e(n);n.resume()}:n=>n.resume()};const d=(n,e)=>{const i=new Map(e.map(n=>[n.replace(/\/+$/,""),true]));const t=n.filter;const s=(n,e)=>{const t=e||l.parse(n).root||".";const f=n===t?false:i.has(n)?i.get(n):s(l.dirname(n),t);i.set(n,f);return f};n.filter=t?(n,e)=>t(n,e)&&s(n.replace(/\/+$/,"")):n=>s(n.replace(/\/+$/,""))};const c=n=>{const e=v(n);const i=n.file;let s=true;let f;try{const a=r.statSync(i);const l=n.maxReadSize||16*1024*1024;if(a.size<l){e.end(r.readFileSync(i))}else{let n=0;const s=t.allocUnsafe(l);f=r.openSync(i,"r");while(n<a.size){let i=r.readSync(f,s,0,l,n);n+=i;e.write(s.slice(0,i))}e.end()}s=false}finally{if(s&&f)try{r.closeSync(f)}catch(n){}}};const u=(n,e)=>{const i=new f(n);const t=n.maxReadSize||16*1024*1024;const s=n.file;const l=new Promise((n,e)=>{i.on("error",e);i.on("end",n);r.stat(s,(n,f)=>{if(n)e(n);else{const n=new a.ReadStream(s,{readSize:t,size:f.size});n.on("error",e);n.pipe(i)}})});return e?l.then(e,e):l};const v=n=>new f(n)},396:function(n){"use strict";n.exports=function(n){n.prototype[Symbol.iterator]=function*(){for(let n=this.head;n;n=n.next){yield n.value}}}},413:function(n){n.exports=require("stream")},417:function(n){n.exports=require("crypto")},478:function(n){"use strict";const e=["|","<",">","?",":"];const i=e.map(n=>String.fromCharCode(61440+n.charCodeAt(0)));const t=new Map(e.map((n,e)=>[n,i[e]]));const s=new Map(i.map((n,i)=>[n,e[i]]));n.exports={encode:n=>e.reduce((n,e)=>n.split(e).join(t.get(e)),n),decode:n=>i.reduce((n,e)=>n.split(e).join(s.get(e)),n)}},480:function(n,e,i){"use strict";const t=i(197);const s=i(232);const f=i(622);class Pax{constructor(n,e){this.atime=n.atime||null;this.charset=n.charset||null;this.comment=n.comment||null;this.ctime=n.ctime||null;this.gid=n.gid||null;this.gname=n.gname||null;this.linkpath=n.linkpath||null;this.mtime=n.mtime||null;this.path=n.path||null;this.size=n.size||null;this.uid=n.uid||null;this.uname=n.uname||null;this.dev=n.dev||null;this.ino=n.ino||null;this.nlink=n.nlink||null;this.global=e||false}encode(){const n=this.encodeBody();if(n==="")return null;const e=t.byteLength(n);const i=512*Math.ceil(1+e/512);const r=t.allocUnsafe(i);for(let n=0;n<512;n++){r[n]=0}new s({path:("PaxHeader/"+f.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:e,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(r);r.write(n,512,e,"utf8");for(let n=e+512;n<r.length;n++){r[n]=0}return r}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(n){if(this[n]===null||this[n]===undefined)return"";const e=this[n]instanceof Date?this[n].getTime()/1e3:this[n];const i=" "+(n==="dev"||n==="ino"||n==="nlink"?"SCHILY.":"")+n+"="+e+"\n";const s=t.byteLength(i);let f=Math.floor(Math.log(s)/Math.log(10))+1;if(s+f>=Math.pow(10,f))f+=1;const r=f+s;return r+i}}Pax.parse=((n,e,i)=>new Pax(r(a(n),e),i));const r=(n,e)=>e?Object.keys(n).reduce((e,i)=>(e[i]=n[i],e),e):n;const a=n=>n.replace(/\n$/,"").split("\n").reduce(l,Object.create(null));const l=(n,e)=>{const i=parseInt(e,10);if(i!==t.byteLength(e)+1)return n;e=e.substr((i+" ").length);const s=e.split("=");const f=s.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!f)return n;const r=s.join("=");n[f]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(f)?new Date(r*1e3):/^[0-9]+$/.test(r)?+r:r;return n};n.exports=Pax},538:function(n,e,i){var t=i(293).Buffer;var s=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];if(typeof Int32Array!=="undefined"){s=new Int32Array(s)}function ensureBuffer(n){if(t.isBuffer(n)){return n}var e=typeof t.alloc==="function"&&typeof t.from==="function";if(typeof n==="number"){return e?t.alloc(n):new t(n)}else if(typeof n==="string"){return e?t.from(n):new t(n)}else{throw new Error("input must be buffer, number, or string, received "+typeof n)}}function bufferizeInt(n){var e=ensureBuffer(4);e.writeInt32BE(n,0);return e}function _crc32(n,e){n=ensureBuffer(n);if(t.isBuffer(e)){e=e.readUInt32BE(0)}var i=~~e^-1;for(var f=0;f<n.length;f++){i=s[(i^n[f])&255]^i>>>8}return i^-1}function crc32(){return bufferizeInt(_crc32.apply(null,arguments))}crc32.signed=function(){return _crc32.apply(null,arguments)};crc32.unsigned=function(){return _crc32.apply(null,arguments)>>>0};n.exports=crc32},554:function(n,e){"use strict";e.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);e.code=new Map(Array.from(e.name).map(n=>[n[1],n[0]]))},577:function(n,e,i){"use strict";const t=i(626);const s=i(747);const f=i(622);const r=i(941);class SymlinkError extends Error{constructor(n,e){super("Cannot extract through symbolic link");this.path=e;this.symlink=n}get name(){return"SylinkError"}}class CwdError extends Error{constructor(n,e){super(e+": Cannot cd into '"+n+"'");this.path=n;this.code=e}get name(){return"CwdError"}}const a=n.exports=((n,e,i)=>{const a=e.umask;const h=e.mode|448;const w=(h&a)!==0;const d=e.uid;const c=e.gid;const u=typeof d==="number"&&typeof c==="number"&&(d!==e.processUid||c!==e.processGid);const v=e.preserve;const o=e.unlink;const b=e.cache;const N=e.cwd;const S=(e,t)=>{if(e)i(e);else{b.set(n,true);if(t&&u)r(t,d,c,n=>S(n));else if(w)s.chmod(n,h,i);else i()}};if(b&&b.get(n)===true)return S();if(n===N)return s.lstat(n,(e,i)=>{if(e||!i.isDirectory())e=new CwdError(n,e&&e.code||"ENOTDIR");S(e)});if(v)return t(n,h,S);const R=f.relative(N,n);const A=R.split(/\/|\\/);l(N,A,h,b,o,N,null,S)});const l=(n,e,i,t,f,r,a,w)=>{if(!e.length)return w(null,a);const d=e.shift();const c=n+"/"+d;if(t.get(c))return l(c,e,i,t,f,r,a,w);s.mkdir(c,i,h(c,e,i,t,f,r,a,w))};const h=(n,e,i,t,r,a,w,d)=>c=>{if(c){if(c.path&&f.dirname(c.path)===a&&(c.code==="ENOTDIR"||c.code==="ENOENT"))return d(new CwdError(a,c.code));s.lstat(n,(f,u)=>{if(f)d(f);else if(u.isDirectory())l(n,e,i,t,r,a,w,d);else if(r)s.unlink(n,f=>{if(f)return d(f);s.mkdir(n,i,h(n,e,i,t,r,a,w,d))});else if(u.isSymbolicLink())return d(new SymlinkError(n,n+"/"+e.join("/")));else d(c)})}else{w=w||n;l(n,e,i,t,r,a,w,d)}};const w=n.exports.sync=((n,e)=>{const i=e.umask;const a=e.mode|448;const l=(a&i)!==0;const h=e.uid;const w=e.gid;const d=typeof h==="number"&&typeof w==="number"&&(h!==e.processUid||w!==e.processGid);const c=e.preserve;const u=e.unlink;const v=e.cache;const o=e.cwd;const b=e=>{v.set(n,true);if(e&&d)r.sync(e,h,w);if(l)s.chmodSync(n,a)};if(v&&v.get(n)===true)return b();if(n===o){let e=false;let i="ENOTDIR";try{e=s.lstatSync(n).isDirectory()}catch(n){i=n.code}finally{if(!e)throw new CwdError(n,i)}b();return}if(c)return b(t.sync(n,a));const N=f.relative(o,n);const S=N.split(/\/|\\/);let R=null;for(let n=S.shift(),e=o;n&&(e+="/"+n);n=S.shift()){if(v.get(e))continue;try{s.mkdirSync(e,a);R=R||e;v.set(e,true)}catch(n){if(n.path&&f.dirname(n.path)===o&&(n.code==="ENOTDIR"||n.code==="ENOENT"))return new CwdError(o,n.code);const i=s.lstatSync(e);if(i.isDirectory()){v.set(e,true);continue}else if(u){s.unlinkSync(e);s.mkdirSync(e,a);R=R||e;v.set(e,true);continue}else if(i.isSymbolicLink())return new SymlinkError(e,e+"/"+S.join("/"))}}return b(R)})},582:function(n,e,i){"use strict";const t=i(197);class PackJob{constructor(n,e){this.path=n||"./";this.absolute=e;this.entry=null;this.stat=null;this.readdir=null;this.pending=false;this.ignore=false;this.piped=false}}const s=i(720);const f=i(133);const r=i(662);const a=i(303);const l=a.Sync;const h=a.Tar;const w=i(612);const d=t.alloc(1024);const c=Symbol("onStat");const u=Symbol("ended");const v=Symbol("queue");const o=Symbol("current");const b=Symbol("process");const N=Symbol("processing");const S=Symbol("processJob");const R=Symbol("jobs");const A=Symbol("jobDone");const D=Symbol("addFSEntry");const M=Symbol("addTarEntry");const B=Symbol("stat");const W=Symbol("readdir");const Z=Symbol("onreaddir");const q=Symbol("pipe");const C=Symbol("entry");const Y=Symbol("entryOpt");const G=Symbol("writeEntryClass");const V=Symbol("write");const J=Symbol("ondrain");const X=i(747);const j=i(622);const Q=i(796);const E=Q(class Pack extends s{constructor(n){super(n);n=n||Object.create(null);this.opt=n;this.cwd=n.cwd||process.cwd();this.maxReadSize=n.maxReadSize;this.preservePaths=!!n.preservePaths;this.strict=!!n.strict;this.noPax=!!n.noPax;this.prefix=(n.prefix||"").replace(/(\\|\/)+$/,"");this.linkCache=n.linkCache||new Map;this.statCache=n.statCache||new Map;this.readdirCache=n.readdirCache||new Map;this[G]=a;if(typeof n.onwarn==="function")this.on("warn",n.onwarn);this.zip=null;if(n.gzip){if(typeof n.gzip!=="object")n.gzip={};this.zip=new f.Gzip(n.gzip);this.zip.on("data",n=>super.write(n));this.zip.on("end",n=>super.end());this.zip.on("drain",n=>this[J]());this.on("resume",n=>this.zip.resume())}else this.on("drain",this[J]);this.portable=!!n.portable;this.noDirRecurse=!!n.noDirRecurse;this.follow=!!n.follow;this.noMtime=!!n.noMtime;this.mtime=n.mtime||null;this.filter=typeof n.filter==="function"?n.filter:n=>true;this[v]=new w;this[R]=0;this.jobs=+n.jobs||4;this[N]=false;this[u]=false}[V](n){return super.write(n)}add(n){this.write(n);return this}end(n){if(n)this.write(n);this[u]=true;this[b]();return this}write(n){if(this[u])throw new Error("write after end");if(n instanceof r)this[M](n);else this[D](n);return this.flowing}[M](n){const e=j.resolve(this.cwd,n.path);if(this.prefix)n.path=this.prefix+"/"+n.path.replace(/^\.(\/+|$)/,"");if(!this.filter(n.path,n))n.resume();else{const i=new PackJob(n.path,e,false);i.entry=new h(n,this[Y](i));i.entry.on("end",n=>this[A](i));this[R]+=1;this[v].push(i)}this[b]()}[D](n){const e=j.resolve(this.cwd,n);if(this.prefix)n=this.prefix+"/"+n.replace(/^\.(\/+|$)/,"");this[v].push(new PackJob(n,e));this[b]()}[B](n){n.pending=true;this[R]+=1;const e=this.follow?"stat":"lstat";X[e](n.absolute,(e,i)=>{n.pending=false;this[R]-=1;if(e)this.emit("error",e);else this[c](n,i)})}[c](n,e){this.statCache.set(n.absolute,e);n.stat=e;if(!this.filter(n.path,e))n.ignore=true;this[b]()}[W](n){n.pending=true;this[R]+=1;X.readdir(n.absolute,(e,i)=>{n.pending=false;this[R]-=1;if(e)return this.emit("error",e);this[Z](n,i)})}[Z](n,e){this.readdirCache.set(n.absolute,e);n.readdir=e;this[b]()}[b](){if(this[N])return;this[N]=true;for(let n=this[v].head;n!==null&&this[R]<this.jobs;n=n.next){this[S](n.value);if(n.value.ignore){const e=n.next;this[v].removeNode(n);n.next=e}}this[N]=false;if(this[u]&&!this[v].length&&this[R]===0){if(this.zip)this.zip.end(d);else{super.write(d);super.end()}}}get[o](){return this[v]&&this[v].head&&this[v].head.value}[A](n){this[v].shift();this[R]-=1;this[b]()}[S](n){if(n.pending)return;if(n.entry){if(n===this[o]&&!n.piped)this[q](n);return}if(!n.stat){if(this.statCache.has(n.absolute))this[c](n,this.statCache.get(n.absolute));else this[B](n)}if(!n.stat)return;if(n.ignore)return;if(!this.noDirRecurse&&n.stat.isDirectory()&&!n.readdir){if(this.readdirCache.has(n.absolute))this[Z](n,this.readdirCache.get(n.absolute));else this[W](n);if(!n.readdir)return}n.entry=this[C](n);if(!n.entry){n.ignore=true;return}if(n===this[o]&&!n.piped)this[q](n)}[Y](n){return{onwarn:(n,e)=>{this.warn(n,e)},noPax:this.noPax,cwd:this.cwd,absolute:n.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime}}[C](n){this[R]+=1;try{return new this[G](n.path,this[Y](n)).on("end",()=>this[A](n)).on("error",n=>this.emit("error",n))}catch(n){this.emit("error",n)}}[J](){if(this[o]&&this[o].entry)this[o].entry.resume()}[q](n){n.piped=true;if(n.readdir)n.readdir.forEach(e=>{const i=this.prefix?n.path.slice(this.prefix.length+1)||"./":n.path;const t=i==="./"?"":i.replace(/\/*$/,"/");this[D](t+e)});const e=n.entry;const i=this.zip;if(i)e.on("data",n=>{if(!i.write(n))e.pause()});else e.on("data",n=>{if(!super.write(n))e.pause()})}pause(){if(this.zip)this.zip.pause();return super.pause()}});class PackSync extends E{constructor(n){super(n);this[G]=l}pause(){}resume(){}[B](n){const e=this.follow?"statSync":"lstatSync";this[c](n,X[e](n.absolute))}[W](n,e){this[Z](n,X.readdirSync(n.absolute))}[q](n){const e=n.entry;const i=this.zip;if(n.readdir)n.readdir.forEach(e=>{const i=this.prefix?n.path.slice(this.prefix.length+1)||"./":n.path;const t=i==="./"?"":i.replace(/\/*$/,"/");this[D](t+e)});if(i)e.on("data",n=>{i.write(n)});else e.on("data",n=>{super[V](n)})}}E.Sync=PackSync;n.exports=E},598:function(n,e,i){var t=i(747);var s=i(250);var f=i(93);var r=i(608);var a=[];var l=i(669);function noop(){}var h=noop;if(l.debuglog)h=l.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))h=function(){var n=l.format.apply(l,arguments);n="GFS4: "+n.split(/\n/).join("\nGFS4: ");console.error(n)};if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")){process.on("exit",function(){h(a);i(357).equal(a.length,0)})}n.exports=patch(r(t));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!t.__patched){n.exports=patch(t);t.__patched=true}n.exports.close=function(n){return function(e,i){return n.call(t,e,function(n){if(!n)retry();if(typeof i==="function")i.apply(this,arguments)})}}(t.close);n.exports.closeSync=function(n){return function(e){var i=n.apply(t,arguments);retry();return i}}(t.closeSync);if(!/\bgraceful-fs\b/.test(t.closeSync.toString())){t.closeSync=n.exports.closeSync;t.close=n.exports.close}function patch(n){s(n);n.gracefulify=patch;n.FileReadStream=ReadStream;n.FileWriteStream=WriteStream;n.createReadStream=createReadStream;n.createWriteStream=createWriteStream;var e=n.readFile;n.readFile=readFile;function readFile(n,i,t){if(typeof i==="function")t=i,i=null;return go$readFile(n,i,t);function go$readFile(n,i,t){return e(n,i,function(e){if(e&&(e.code==="EMFILE"||e.code==="ENFILE"))enqueue([go$readFile,[n,i,t]]);else{if(typeof t==="function")t.apply(this,arguments);retry()}})}}var i=n.writeFile;n.writeFile=writeFile;function writeFile(n,e,t,s){if(typeof t==="function")s=t,t=null;return go$writeFile(n,e,t,s);function go$writeFile(n,e,t,s){return i(n,e,t,function(i){if(i&&(i.code==="EMFILE"||i.code==="ENFILE"))enqueue([go$writeFile,[n,e,t,s]]);else{if(typeof s==="function")s.apply(this,arguments);retry()}})}}var t=n.appendFile;if(t)n.appendFile=appendFile;function appendFile(n,e,i,s){if(typeof i==="function")s=i,i=null;return go$appendFile(n,e,i,s);function go$appendFile(n,e,i,s){return t(n,e,i,function(t){if(t&&(t.code==="EMFILE"||t.code==="ENFILE"))enqueue([go$appendFile,[n,e,i,s]]);else{if(typeof s==="function")s.apply(this,arguments);retry()}})}}var r=n.readdir;n.readdir=readdir;function readdir(n,e,i){var t=[n];if(typeof e!=="function"){t.push(e)}else{i=e}t.push(go$readdir$cb);return go$readdir(t);function go$readdir$cb(n,e){if(e&&e.sort)e.sort();if(n&&(n.code==="EMFILE"||n.code==="ENFILE"))enqueue([go$readdir,[t]]);else{if(typeof i==="function")i.apply(this,arguments);retry()}}}function go$readdir(e){return r.apply(n,e)}if(process.version.substr(0,4)==="v0.8"){var a=f(n);ReadStream=a.ReadStream;WriteStream=a.WriteStream}var l=n.ReadStream;if(l){ReadStream.prototype=Object.create(l.prototype);ReadStream.prototype.open=ReadStream$open}var h=n.WriteStream;if(h){WriteStream.prototype=Object.create(h.prototype);WriteStream.prototype.open=WriteStream$open}n.ReadStream=ReadStream;n.WriteStream=WriteStream;function ReadStream(n,e){if(this instanceof ReadStream)return l.apply(this,arguments),this;else return ReadStream.apply(Object.create(ReadStream.prototype),arguments)}function ReadStream$open(){var n=this;open(n.path,n.flags,n.mode,function(e,i){if(e){if(n.autoClose)n.destroy();n.emit("error",e)}else{n.fd=i;n.emit("open",i);n.read()}})}function WriteStream(n,e){if(this instanceof WriteStream)return h.apply(this,arguments),this;else return WriteStream.apply(Object.create(WriteStream.prototype),arguments)}function WriteStream$open(){var n=this;open(n.path,n.flags,n.mode,function(e,i){if(e){n.destroy();n.emit("error",e)}else{n.fd=i;n.emit("open",i)}})}function createReadStream(n,e){return new ReadStream(n,e)}function createWriteStream(n,e){return new WriteStream(n,e)}var w=n.open;n.open=open;function open(n,e,i,t){if(typeof i==="function")t=i,i=null;return go$open(n,e,i,t);function go$open(n,e,i,t){return w(n,e,i,function(s,f){if(s&&(s.code==="EMFILE"||s.code==="ENFILE"))enqueue([go$open,[n,e,i,t]]);else{if(typeof t==="function")t.apply(this,arguments);retry()}})}}return n}function enqueue(n){h("ENQUEUE",n[0].name,n[1]);a.push(n)}function retry(){var n=a.shift();if(n){h("RETRY",n[0].name,n[1]);n[0].apply(null,n[1])}}},605:function(n){n.exports=require("http")},608:function(n){"use strict";n.exports=clone;function clone(n){if(n===null||typeof n!=="object")return n;if(n instanceof Object)var e={__proto__:n.__proto__};else var e=Object.create(null);Object.getOwnPropertyNames(n).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))});return e}},612:function(n,e,i){"use strict";n.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(n){var e=this;if(!(e instanceof Yallist)){e=new Yallist}e.tail=null;e.head=null;e.length=0;if(n&&typeof n.forEach==="function"){n.forEach(function(n){e.push(n)})}else if(arguments.length>0){for(var i=0,t=arguments.length;i<t;i++){e.push(arguments[i])}}return e}Yallist.prototype.removeNode=function(n){if(n.list!==this){throw new Error("removing node which does not belong to this list")}var e=n.next;var i=n.prev;if(e){e.prev=i}if(i){i.next=e}if(n===this.head){this.head=e}if(n===this.tail){this.tail=i}n.list.length--;n.next=null;n.prev=null;n.list=null};Yallist.prototype.unshiftNode=function(n){if(n===this.head){return}if(n.list){n.list.removeNode(n)}var e=this.head;n.list=this;n.next=e;if(e){e.prev=n}this.head=n;if(!this.tail){this.tail=n}this.length++};Yallist.prototype.pushNode=function(n){if(n===this.tail){return}if(n.list){n.list.removeNode(n)}var e=this.tail;n.list=this;n.prev=e;if(e){e.next=n}this.tail=n;if(!this.head){this.head=n}this.length++};Yallist.prototype.push=function(){for(var n=0,e=arguments.length;n<e;n++){push(this,arguments[n])}return this.length};Yallist.prototype.unshift=function(){for(var n=0,e=arguments.length;n<e;n++){unshift(this,arguments[n])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var n=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return n};Yallist.prototype.shift=function(){if(!this.head){return undefined}var n=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return n};Yallist.prototype.forEach=function(n,e){e=e||this;for(var i=this.head,t=0;i!==null;t++){n.call(e,i.value,t,this);i=i.next}};Yallist.prototype.forEachReverse=function(n,e){e=e||this;for(var i=this.tail,t=this.length-1;i!==null;t--){n.call(e,i.value,t,this);i=i.prev}};Yallist.prototype.get=function(n){for(var e=0,i=this.head;i!==null&&e<n;e++){i=i.next}if(e===n&&i!==null){return i.value}};Yallist.prototype.getReverse=function(n){for(var e=0,i=this.tail;i!==null&&e<n;e++){i=i.prev}if(e===n&&i!==null){return i.value}};Yallist.prototype.map=function(n,e){e=e||this;var i=new Yallist;for(var t=this.head;t!==null;){i.push(n.call(e,t.value,this));t=t.next}return i};Yallist.prototype.mapReverse=function(n,e){e=e||this;var i=new Yallist;for(var t=this.tail;t!==null;){i.push(n.call(e,t.value,this));t=t.prev}return i};Yallist.prototype.reduce=function(n,e){var i;var t=this.head;if(arguments.length>1){i=e}else if(this.head){t=this.head.next;i=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var s=0;t!==null;s++){i=n(i,t.value,s);t=t.next}return i};Yallist.prototype.reduceReverse=function(n,e){var i;var t=this.tail;if(arguments.length>1){i=e}else if(this.tail){t=this.tail.prev;i=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var s=this.length-1;t!==null;s--){i=n(i,t.value,s);t=t.prev}return i};Yallist.prototype.toArray=function(){var n=new Array(this.length);for(var e=0,i=this.head;i!==null;e++){n[e]=i.value;i=i.next}return n};Yallist.prototype.toArrayReverse=function(){var n=new Array(this.length);for(var e=0,i=this.tail;i!==null;e++){n[e]=i.value;i=i.prev}return n};Yallist.prototype.slice=function(n,e){e=e||this.length;if(e<0){e+=this.length}n=n||0;if(n<0){n+=this.length}var i=new Yallist;if(e<n||e<0){return i}if(n<0){n=0}if(e>this.length){e=this.length}for(var t=0,s=this.head;s!==null&&t<n;t++){s=s.next}for(;s!==null&&t<e;t++,s=s.next){i.push(s.value)}return i};Yallist.prototype.sliceReverse=function(n,e){e=e||this.length;if(e<0){e+=this.length}n=n||0;if(n<0){n+=this.length}var i=new Yallist;if(e<n||e<0){return i}if(n<0){n=0}if(e>this.length){e=this.length}for(var t=this.length,s=this.tail;s!==null&&t>e;t--){s=s.prev}for(;s!==null&&t>n;t--,s=s.prev){i.push(s.value)}return i};Yallist.prototype.reverse=function(){var n=this.head;var e=this.tail;for(var i=n;i!==null;i=i.prev){var t=i.prev;i.prev=i.next;i.next=t}this.head=e;this.tail=n;return this};function push(n,e){n.tail=new Node(e,n.tail,null,n);if(!n.head){n.head=n.tail}n.length++}function unshift(n,e){n.head=new Node(e,null,n.head,n);if(!n.tail){n.tail=n.head}n.length++}function Node(n,e,i,t){if(!(this instanceof Node)){return new Node(n,e,i,t)}this.list=t;this.value=n;if(e){e.next=this;this.prev=e}else{this.prev=null}if(i){i.prev=this;this.next=i}else{this.next=null}}try{i(396)(Yallist)}catch(n){}},614:function(n){n.exports=require("events")},619:function(n){n.exports=require("constants")},622:function(n){n.exports=require("path")},626:function(n,e,i){var t=i(622);var s=i(747);var f=parseInt("0777",8);n.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP;function mkdirP(n,e,i,r){if(typeof e==="function"){i=e;e={}}else if(!e||typeof e!=="object"){e={mode:e}}var a=e.mode;var l=e.fs||s;if(a===undefined){a=f&~process.umask()}if(!r)r=null;var h=i||function(){};n=t.resolve(n);l.mkdir(n,a,function(i){if(!i){r=r||n;return h(null,r)}switch(i.code){case"ENOENT":mkdirP(t.dirname(n),e,function(i,t){if(i)h(i,t);else mkdirP(n,e,h,t)});break;default:l.stat(n,function(n,e){if(n||!e.isDirectory())h(i,r);else h(null,r)});break}})}mkdirP.sync=function sync(n,e,i){if(!e||typeof e!=="object"){e={mode:e}}var r=e.mode;var a=e.fs||s;if(r===undefined){r=f&~process.umask()}if(!i)i=null;n=t.resolve(n);try{a.mkdirSync(n,r);i=i||n}catch(s){switch(s.code){case"ENOENT":i=sync(t.dirname(n),e,i);sync(n,e,i);break;default:var l;try{l=a.statSync(n)}catch(n){throw s}if(!l.isDirectory())throw s;break}}return i}},630:function(n,e,i){"use strict";const t=i(197);const s=i(891);const f=i(582);const r=i(203);const a=i(747);const l=i(827);const h=i(381);const w=i(622);const d=i(232);const c=n.exports=((n,e,i)=>{const t=s(n);if(!t.file)throw new TypeError("file is required");if(t.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);return t.sync?u(t,e):o(t,e,i)});const u=(n,e)=>{const i=new f.Sync(n);let s=true;let r;let l;try{try{r=a.openSync(n.file,"r+")}catch(e){if(e.code==="ENOENT")r=a.openSync(n.file,"w+");else throw e}const f=a.fstatSync(r);const h=t.alloc(512);n:for(l=0;l<f.size;l+=512){for(let n=0,e=0;n<512;n+=e){e=a.readSync(r,h,n,h.length-n,l+n);if(l===0&&h[0]===31&&h[1]===139)throw new Error("cannot append to compressed archives");if(!e)break n}let e=new d(h);if(!e.cksumValid)break;let i=512*Math.ceil(e.size/512);if(l+i+512>f.size)break;l+=i;if(n.mtimeCache)n.mtimeCache.set(e.path,e.mtime)}s=false;v(n,i,l,r,e)}finally{if(s)try{a.closeSync(r)}catch(n){}}};const v=(n,e,i,t,s)=>{const f=new l.WriteStreamSync(n.file,{fd:t,start:i});e.pipe(f);b(e,s)};const o=(n,e,i)=>{e=Array.from(e);const s=new f(n);const r=(e,i,s)=>{const f=(n,i)=>{if(n)a.close(e,e=>s(n));else s(null,i)};let r=0;if(i===0)return f(null,0);let l=0;const h=t.alloc(512);const w=(t,s)=>{if(t)return f(t);l+=s;if(l<512&&s)return a.read(e,h,l,h.length-l,r+l,w);if(r===0&&h[0]===31&&h[1]===139)return f(new Error("cannot append to compressed archives"));if(l<512)return f(null,r);const c=new d(h);if(!c.cksumValid)return f(null,r);const u=512*Math.ceil(c.size/512);if(r+u+512>i)return f(null,r);r+=u+512;if(r>=i)return f(null,r);if(n.mtimeCache)n.mtimeCache.set(c.path,c.mtime);l=0;a.read(e,h,0,512,r,w)};a.read(e,h,0,512,r,w)};const h=new Promise((i,t)=>{s.on("error",t);let f="r+";const h=(w,d)=>{if(w&&w.code==="ENOENT"&&f==="r+"){f="w+";return a.open(n.file,f,h)}if(w)return t(w);a.fstat(d,(f,a)=>{if(f)return t(f);r(d,a.size,(f,r)=>{if(f)return t(f);const a=new l.WriteStream(n.file,{fd:d,start:r});s.pipe(a);a.on("error",t);a.on("close",i);N(s,e)})})};a.open(n.file,f,h)});return i?h.then(i,i):h};const b=(n,e)=>{e.forEach(e=>{if(e.charAt(0)==="@")h({file:w.resolve(n.cwd,e.substr(1)),sync:true,noResume:true,onentry:e=>n.add(e)});else n.add(e)});n.end()};const N=(n,e)=>{while(e.length){const i=e.shift();if(i.charAt(0)==="@")return h({file:w.resolve(n.cwd,i.substr(1)),noResume:true,onentry:e=>n.add(e)}).then(i=>N(n,e));else n.add(i)}n.end()}},631:function(n){n.exports=require("net")},656:function(n,e,i){"use strict";const t=i(891);const s=i(63);const f=i(747);const r=i(827);const a=i(622);const l=n.exports=((n,e,i)=>{if(typeof n==="function")i=n,e=null,n={};else if(Array.isArray(n))e=n,n={};if(typeof e==="function")i=e,e=null;if(!e)e=[];else e=Array.from(e);const s=t(n);if(s.sync&&typeof i==="function")throw new TypeError("callback not supported for sync tar functions");if(!s.file&&typeof i==="function")throw new TypeError("callback only supported with file option");if(e.length)h(s,e);return s.file&&s.sync?w(s):s.file?d(s,i):s.sync?c(s):u(s)});const h=(n,e)=>{const i=new Map(e.map(n=>[n.replace(/\/+$/,""),true]));const t=n.filter;const s=(n,e)=>{const t=e||a.parse(n).root||".";const f=n===t?false:i.has(n)?i.get(n):s(a.dirname(n),t);i.set(n,f);return f};n.filter=t?(n,e)=>t(n,e)&&s(n.replace(/\/+$/,"")):n=>s(n.replace(/\/+$/,""))};const w=n=>{const e=new s.Sync(n);const i=n.file;let t=true;let a;const l=f.statSync(i);const h=n.maxReadSize||16*1024*1024;const w=new r.ReadStreamSync(i,{readSize:h,size:l.size});w.pipe(e)};const d=(n,e)=>{const i=new s(n);const t=n.maxReadSize||16*1024*1024;const a=n.file;const l=new Promise((n,e)=>{i.on("error",e);i.on("close",n);f.stat(a,(n,s)=>{if(n)e(n);else{const n=new r.ReadStream(a,{readSize:t,size:s.size});n.on("error",e);n.pipe(i)}})});return e?l.then(e,e):l};const c=n=>{return new s.Sync(n)};const u=n=>{return new s(n)}},662:function(n,e,i){"use strict";const t=i(554);const s=i(720);const f=Symbol("slurp");n.exports=class ReadEntry extends s{constructor(n,e,i){super();this.extended=e;this.globalExtended=i;this.header=n;this.startBlockSize=512*Math.ceil(n.size/512);this.blockRemain=this.startBlockSize;this.remain=n.size;this.type=n.type;this.meta=false;this.ignore=false;switch(this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=true;break;default:this.ignore=true}this.path=n.path;this.mode=n.mode;if(this.mode)this.mode=this.mode&4095;this.uid=n.uid;this.gid=n.gid;this.uname=n.uname;this.gname=n.gname;this.size=n.size;this.mtime=n.mtime;this.atime=n.atime;this.ctime=n.ctime;this.linkpath=n.linkpath;this.uname=n.uname;this.gname=n.gname;if(e)this[f](e);if(i)this[f](i,true)}write(n){const e=n.length;if(e>this.blockRemain)throw new Error("writing more to entry than is appropriate");const i=this.remain;const t=this.blockRemain;this.remain=Math.max(0,i-e);this.blockRemain=Math.max(0,t-e);if(this.ignore)return true;if(i>=e)return super.write(n);return super.write(n.slice(0,i))}[f](n,e){for(let i in n){if(n[i]!==null&&n[i]!==undefined&&!(e&&i==="path"))this[i]=n[i]}}}},669:function(n){n.exports=require("util")},720:function(n,e,i){"use strict";const t=i(614);const s=i(612);const f=Symbol("EOF");const r=Symbol("maybeEmitEnd");const a=Symbol("emittedEnd");const l=Symbol("closed");const h=Symbol("read");const w=Symbol("flush");const d=process.env._MP_NO_ITERATOR_SYMBOLS_!=="1";const c=d&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const u=d&&Symbol.iterator||Symbol("iterator not implemented");const v=Symbol("flushChunk");const o=i(304).StringDecoder;const b=Symbol("encoding");const N=Symbol("decoder");const S=Symbol("flowing");const R=Symbol("resume");const A=Symbol("bufferLength");const D=Symbol("bufferPush");const M=Symbol("bufferShift");const B=Symbol("objectMode");let W=Buffer;if(!W.alloc){W=i(149).Buffer}n.exports=class MiniPass extends t{constructor(n){super();this[S]=false;this.pipes=new s;this.buffer=new s;this[B]=n&&n.objectMode||false;if(this[B])this[b]=null;else this[b]=n&&n.encoding||null;if(this[b]==="buffer")this[b]=null;this[N]=this[b]?new o(this[b]):null;this[f]=false;this[a]=false;this[l]=false;this.writable=true;this.readable=true;this[A]=0}get bufferLength(){return this[A]}get encoding(){return this[b]}set encoding(n){if(this[B])throw new Error("cannot set encoding in objectMode");if(this[b]&&n!==this[b]&&(this[N]&&this[N].lastNeed||this[A]))throw new Error("cannot change encoding");if(this[b]!==n){this[N]=n?new o(n):null;if(this.buffer.length)this.buffer=this.buffer.map(n=>this[N].write(n))}this[b]=n}setEncoding(n){this.encoding=n}write(n,e,i){if(this[f])throw new Error("write after end");if(typeof e==="function")i=e,e="utf8";if(!e)e="utf8";if(typeof n==="string"&&!this[B]&&!(e===this[b]&&!this[N].lastNeed)){n=W.from(n,e)}if(W.isBuffer(n)&&this[b])n=this[N].write(n);try{return this.flowing?(this.emit("data",n),this.flowing):(this[D](n),false)}finally{this.emit("readable");if(i)i()}}read(n){try{if(this[A]===0||n===0||n>this[A])return null;if(this[B])n=null;if(this.buffer.length>1&&!this[B]){if(this.encoding)this.buffer=new s([Array.from(this.buffer).join("")]);else this.buffer=new s([W.concat(Array.from(this.buffer),this[A])])}return this[h](n||null,this.buffer.head.value)}finally{this[r]()}}[h](n,e){if(n===e.length||n===null)this[M]();else{this.buffer.head.value=e.slice(n);e=e.slice(0,n);this[A]-=n}this.emit("data",e);if(!this.buffer.length&&!this[f])this.emit("drain");return e}end(n,e,i){if(typeof n==="function")i=n,n=null;if(typeof e==="function")i=e,e="utf8";if(n)this.write(n,e);if(i)this.once("end",i);this[f]=true;this.writable=false;if(this.flowing)this[r]()}[R](){this[S]=true;this.emit("resume");if(this.buffer.length)this[w]();else if(this[f])this[r]();else this.emit("drain")}resume(){return this[R]()}pause(){this[S]=false}get flowing(){return this[S]}[D](n){if(this[B])this[A]+=1;else this[A]+=n.length;return this.buffer.push(n)}[M](){if(this.buffer.length){if(this[B])this[A]-=1;else this[A]-=this.buffer.head.value.length}return this.buffer.shift()}[w](){do{}while(this[v](this[M]()));if(!this.buffer.length&&!this[f])this.emit("drain")}[v](n){return n?(this.emit("data",n),this.flowing):false}pipe(n,e){if(n===process.stdout||n===process.stderr)(e=e||{}).end=false;const i={dest:n,opts:e,ondrain:n=>this[R]()};this.pipes.push(i);n.on("drain",i.ondrain);this[R]();return n}addListener(n,e){return this.on(n,e)}on(n,e){try{return super.on(n,e)}finally{if(n==="data"&&!this.pipes.length&&!this.flowing)this[R]();else if(n==="end"&&this[a]){super.emit("end");this.removeAllListeners("end")}}}get emittedEnd(){return this[a]}[r](){if(!this[a]&&this.buffer.length===0&&this[f]){this.emit("end");this.emit("prefinish");this.emit("finish");if(this[l])this.emit("close")}}emit(n,e){if(n==="data"){if(!e)return;if(this.pipes.length)this.pipes.forEach(n=>n.dest.write(e)||this.pause())}else if(n==="end"){if(this[a]===true)return;this[a]=true;this.readable=false;if(this[N]){e=this[N].end();if(e){this.pipes.forEach(n=>n.dest.write(e));super.emit("data",e)}}this.pipes.forEach(n=>{n.dest.removeListener("drain",n.ondrain);if(!n.opts||n.opts.end!==false)n.dest.end()})}else if(n==="close"){this[l]=true;if(!this[a])return}const i=new Array(arguments.length);i[0]=n;i[1]=e;if(arguments.length>2){for(let n=2;n<arguments.length;n++){i[n]=arguments[n]}}try{return super.emit.apply(this,i)}finally{if(n!=="end")this[r]();else this.removeAllListeners("end")}}collect(){return new Promise((n,e)=>{const i=[];this.on("data",n=>i.push(n));this.on("end",()=>n(i));this.on("error",e)})}[c](){const n=()=>{const n=this.read();if(n!==null)return Promise.resolve({done:false,value:n});if(this[f])return Promise.resolve({done:true});let e=null;let i=null;const t=n=>{this.removeListener("data",s);this.removeListener("end",r);i(n)};const s=n=>{this.removeListener("error",t);this.removeListener("end",r);this.pause();e({value:n,done:!!this[f]})};const r=()=>{this.removeListener("error",t);this.removeListener("data",s);e({done:true})};return new Promise((n,f)=>{i=f;e=n;this.once("error",t);this.once("end",r);this.once("data",s)})};return{next:n}}[u](){const n=()=>{const n=this.read();const e=n===null;return{value:n,done:e}};return{next:n}}}},726:function(n,e,i){(function(n){"use strict";var e={},t=function(){return w.__string_rec(this,"")},s=s||{},f;function $extend(n,e){var i=Object.create(n);for(var t in e)i[t]=e[t];if(e.toString!==Object.prototype.toString)i.toString=e.toString;return i}var r=s["Attribute"]={__ename__:"Attribute",__constructs__:["Off","Bold","Underline","Blink","ReverseVideo","Concealed","BoldOff","UnderlineOff","BlinkOff","NormalVideo","ConcealedOff","Black","Red","Green","Yellow","Blue","Magenta","Cyan","White","DefaultForeground","BlackBack","RedBack","GreenBack","YellowBack","BlueBack","MagentaBack","CyanBack","WhiteBack","DefaultBackground"],Off:{_hx_index:0,__enum__:"Attribute",toString:t},Bold:{_hx_index:1,__enum__:"Attribute",toString:t},Underline:{_hx_index:2,__enum__:"Attribute",toString:t},Blink:{_hx_index:3,__enum__:"Attribute",toString:t},ReverseVideo:{_hx_index:4,__enum__:"Attribute",toString:t},Concealed:{_hx_index:5,__enum__:"Attribute",toString:t},BoldOff:{_hx_index:6,__enum__:"Attribute",toString:t},UnderlineOff:{_hx_index:7,__enum__:"Attribute",toString:t},BlinkOff:{_hx_index:8,__enum__:"Attribute",toString:t},NormalVideo:{_hx_index:9,__enum__:"Attribute",toString:t},ConcealedOff:{_hx_index:10,__enum__:"Attribute",toString:t},Black:{_hx_index:11,__enum__:"Attribute",toString:t},Red:{_hx_index:12,__enum__:"Attribute",toString:t},Green:{_hx_index:13,__enum__:"Attribute",toString:t},Yellow:{_hx_index:14,__enum__:"Attribute",toString:t},Blue:{_hx_index:15,__enum__:"Attribute",toString:t},Magenta:{_hx_index:16,__enum__:"Attribute",toString:t},Cyan:{_hx_index:17,__enum__:"Attribute",toString:t},White:{_hx_index:18,__enum__:"Attribute",toString:t},DefaultForeground:{_hx_index:19,__enum__:"Attribute",toString:t},BlackBack:{_hx_index:20,__enum__:"Attribute",toString:t},RedBack:{_hx_index:21,__enum__:"Attribute",toString:t},GreenBack:{_hx_index:22,__enum__:"Attribute",toString:t},YellowBack:{_hx_index:23,__enum__:"Attribute",toString:t},BlueBack:{_hx_index:24,__enum__:"Attribute",toString:t},MagentaBack:{_hx_index:25,__enum__:"Attribute",toString:t},CyanBack:{_hx_index:26,__enum__:"Attribute",toString:t},WhiteBack:{_hx_index:27,__enum__:"Attribute",toString:t},DefaultBackground:{_hx_index:28,__enum__:"Attribute",toString:t}};var a=function(){};e["Sys"]=a;a.__name__="Sys";a.systemName=function(){var n=process.platform;switch(n){case"darwin":return"Mac";case"freebsd":return"BSD";case"linux":return"Linux";case"win32":return"Windows";default:var e=n;return e}};var l=i(129);var h=function(){};e["Reflect"]=h;h.__name__="Reflect";h.field=function(n,e){try{return n[e]}catch(n){var i=n instanceof Bn?n.val:n;return null}};h.fields=function(n){var e=[];if(n!=null){var i=Object.prototype.hasOwnProperty;for(var t in n){if(t!="__id__"&&t!="hx__closures__"&&i.call(n,t)){e.push(t)}}}return e};h.isFunction=function(n){if(typeof n=="function"){return!(n.__name__||n.__ename__)}else{return false}};h.compare=function(n,e){if(n==e){return 0}else if(n>e){return 1}else{return-1}};h.isEnumValue=function(n){if(n!=null){return n.__enum__!=null}else{return false}};h.deleteField=function(n,e){if(!Object.prototype.hasOwnProperty.call(n,e)){return false}delete n[e];return true};h.copy=function(n){if(n==null){return null}var e={};var i=0;var t=h.fields(n);while(i<t.length){var s=t[i];++i;e[s]=h.field(n,s)}return e};var w=function(){};e["js.Boot"]=w;w.__name__="js.Boot";w.getClass=function(n){if(n==null){return null}else if(n instanceof Array){return Array}else{var e=n.__class__;if(e!=null){return e}var i=w.__nativeClassName(n);if(i!=null){return w.__resolveNativeClass(i)}return null}};w.__string_rec=function(n,e){if(n==null){return"null"}if(e.length>=5){return"<...>"}var i=typeof n;if(i=="function"&&(n.__name__||n.__ename__)){i="object"}switch(i){case"function":return"<function>";case"object":if(n.__enum__){var t=s[n.__enum__];var f=t.__constructs__[n._hx_index];var r=t[f];if(r.__params__){e=e+"\t";return f+"("+function(i){var t;var s=[];{var f=0;var a=r.__params__;while(true){if(!(f<a.length)){break}var l=a[f];f=f+1;s.push(w.__string_rec(n[l],e))}}t=s;return t}(this).join(",")+")"}else{return f}}if(n instanceof Array){var a="[";e+="\t";var l=0;var h=n.length;while(l<h){var d=l++;a+=(d>0?",":"")+w.__string_rec(n[d],e)}a+="]";return a}var c;try{c=n.toString}catch(n){var u=n instanceof Bn?n.val:n;return"???"}if(c!=null&&c!=Object.toString&&typeof c=="function"){var v=n.toString();if(v!="[object Object]"){return v}}var o="{\n";e+="\t";var b=n.hasOwnProperty!=null;var N=null;for(N in n){if(b&&!n.hasOwnProperty(N)){continue}if(N=="prototype"||N=="__class__"||N=="__super__"||N=="__interfaces__"||N=="__properties__"){continue}if(o.length!=2){o+=", \n"}o+=e+N+" : "+w.__string_rec(n[N],e)}e=e.substring(1);o+="\n"+e+"}";return o;case"string":return n;default:return String(n)}};w.__interfLoop=function(n,e){if(n==null){return false}if(n==e){return true}if(Object.prototype.hasOwnProperty.call(n,"__interfaces__")){var i=n.__interfaces__;var t=0;var s=i.length;while(t<s){var f=t++;var r=i[f];if(r==e||w.__interfLoop(r,e)){return true}}}return w.__interfLoop(n.__super__,e)};w.__instanceof=function(n,e){if(e==null){return false}switch(e){case Array:return n instanceof Array;case $e:return typeof n=="boolean";case ke:return n!=null;case ge:return typeof n=="number";case xe:if(typeof n=="number"){return(n|0)===n}else{return false}break;case String:return typeof n=="string";default:if(n!=null){if(typeof e=="function"){if(w.__downcastCheck(n,e)){return true}}else if(typeof e=="object"&&w.__isNativeObj(e)){if(n instanceof e){return true}}}else{return false}if(e==_e?n.__name__!=null:false){return true}if(e==ni?n.__ename__!=null:false){return true}return n.__enum__!=null?s[n.__enum__]==e:false}};w.__downcastCheck=function(n,e){if(!(n instanceof e)){if(e.__isInterface__){return w.__interfLoop(w.getClass(n),e)}else{return false}}else{return true}};w.__nativeClassName=function(n){var e=w.__toStr.call(n).slice(8,-1);if(e=="Object"||e=="Function"||e=="Math"||e=="JSON"){return null}return e};w.__isNativeObj=function(n){return w.__nativeClassName(n)!=null};w.__resolveNativeClass=function(e){return n[e]};var d=function(){};e["Std"]=d;d.__name__="Std";d.string=function(n){return w.__string_rec(n,"")};d.parseInt=function(n){if(n!=null){var e=0;var i=n.length;while(e<i){var t=e++;var s=n.charCodeAt(t);if(s<=8||s>=14&&s!=32&&s!=45){var f=parseInt(n,n[t+1]=="x"||n[t+1]=="X"?16:10);if(isNaN(f)){return null}else{return f}}}}return null};var c=function(){};e["ANSI"]=c;c.__name__="ANSI";c.aset=function(n){if(c.strip||c.stripIfUnavailable&&!c.available){return""}var e=""+"[";var i=[];var t=0;while(t<n.length){var s=n[t];++t;if(!w.__instanceof(s,r)){throw new Bn("Set argument is not an Attribute: "+d.string(s))}i.push(c.values.get(s))}return e+i.join(";")+"m"};c.detectSupport=function(){if(a.systemName().toLowerCase().indexOf("window")==-1){var n=-1;try{n=l.spawnSync("tput",["colors"]).error==null?0:125}catch(n){var e=n instanceof Bn?n.val:n}return n==0}else{return process.env["ANSICON"]!=null}};var u=function(){};e["DateTools"]=u;u.__name__="DateTools";u.__format_get=function(n,e){switch(e){case"%":return"%";case"A":return u.DAY_NAMES[n.getDay()];case"B":return u.MONTH_NAMES[n.getMonth()];case"C":return A.lpad(d.string(n.getFullYear()/100|0),"0",2);case"D":return u.__format(n,"%m/%d/%y");case"F":return u.__format(n,"%Y-%m-%d");case"I":case"l":var i=n.getHours()%12;return A.lpad(d.string(i==0?12:i),e=="I"?"0":" ",2);case"M":return A.lpad(d.string(n.getMinutes()),"0",2);case"R":return u.__format(n,"%H:%M");case"S":return A.lpad(d.string(n.getSeconds()),"0",2);case"T":return u.__format(n,"%H:%M:%S");case"Y":return d.string(n.getFullYear());case"a":return u.DAY_SHORT_NAMES[n.getDay()];case"b":case"h":return u.MONTH_SHORT_NAMES[n.getMonth()];case"d":return A.lpad(d.string(n.getDate()),"0",2);case"e":return d.string(n.getDate());case"H":case"k":return A.lpad(d.string(n.getHours()),e=="H"?"0":" ",2);case"m":return A.lpad(d.string(n.getMonth()+1),"0",2);case"n":return"\n";case"p":if(n.getHours()>11){return"PM"}else{return"AM"}break;case"r":return u.__format(n,"%I:%M:%S %p");case"s":return d.string(n.getTime()/1e3|0);case"t":return"\t";case"u":var t=n.getDay();if(t==0){return"7"}else if(t==null){return"null"}else{return""+t}break;case"w":return d.string(n.getDay());case"y":return A.lpad(d.string(n.getFullYear()%100),"0",2);default:throw new Bn("Date.format %"+e+"- not implemented yet.")}};u.__format=function(n,e){var i="";var t=0;while(true){var s=e.indexOf("%",t);if(s<0){break}var f=s-t;i+=f==null?o.substr(e,t,null):o.substr(e,t,f);i+=d.string(u.__format_get(n,o.substr(e,s+1,1)));t=s+2}var r=e.length-t;i+=r==null?o.substr(e,t,null):o.substr(e,t,r);return i};u.format=function(n,e){return u.__format(n,e)};var v=function(n,e){this.r=new RegExp(n,e.split("u").join(""))};e["EReg"]=v;v.__name__="EReg";v.prototype={match:function(n){if(this.r.global){this.r.lastIndex=0}this.r.m=this.r.exec(n);this.r.s=n;return this.r.m!=null},matched:function(n){if(this.r.m!=null&&n>=0&&n<this.r.m.length){return this.r.m[n]}else{throw new Bn("EReg::matched")}},matchedLeft:function(){if(this.r.m==null){throw new Bn("No string matched")}return o.substr(this.r.s,0,this.r.m.index)},matchedRight:function(){if(this.r.m==null){throw new Bn("No string matched")}var n=this.r.m.index+this.r.m[0].length;return o.substr(this.r.s,n,this.r.s.length-n)},matchedPos:function(){if(this.r.m==null){throw new Bn("No string matched")}return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(n,e,i){if(i==null){i=-1}if(this.r.global){this.r.lastIndex=e;this.r.m=this.r.exec(i<0?n:o.substr(n,0,e+i));var t=this.r.m!=null;if(t){this.r.s=n}return t}else{var s=this.match(i<0?o.substr(n,e,null):o.substr(n,e,i));if(s){this.r.s=n;this.r.m.index+=e}return s}},map:function(n,e){var i=0;var t="";while(true){if(i>=n.length){break}else if(!this.matchSub(n,i)){t+=d.string(o.substr(n,i,null));break}var s=this.matchedPos();t+=d.string(o.substr(n,i,s.pos-i));t+=d.string(e(this));if(s.len==0){t+=d.string(o.substr(n,s.pos,1));i=s.pos+1}else{i=s.pos+s.len}if(!this.r.global){break}}if(!this.r.global&&i>0&&i<n.length){t+=d.string(o.substr(n,i,null))}return t},__class__:v};var o=function(){};e["HxOverrides"]=o;o.__name__="HxOverrides";o.dateStr=function(n){var e=n.getMonth()+1;var i=n.getDate();var t=n.getHours();var s=n.getMinutes();var f=n.getSeconds();return n.getFullYear()+"-"+(e<10?"0"+e:""+e)+"-"+(i<10?"0"+i:""+i)+" "+(t<10?"0"+t:""+t)+":"+(s<10?"0"+s:""+s)+":"+(f<10?"0"+f:""+f)};o.strDate=function(n){switch(n.length){case 8:var e=n.split(":");var i=new Date;i["setTime"](0);i["setUTCHours"](e[0]);i["setUTCMinutes"](e[1]);i["setUTCSeconds"](e[2]);return i;case 10:var t=n.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var s=n.split(" ");var f=s[0].split("-");var r=s[1].split(":");return new Date(f[0],f[1]-1,f[2],r[0],r[1],r[2]);default:throw new Bn("Invalid date format : "+n)}};o.cca=function(n,e){var i=n.charCodeAt(e);if(i!=i){return undefined}return i};o.substr=function(n,e,i){if(i==null){i=n.length}else if(i<0){if(e==0){i=n.length+i}else{return""}}return n.substr(e,i)};o.remove=function(n,e){var i=n.indexOf(e);if(i==-1){return false}n.splice(i,1);return true};o.iter=function(n){return{cur:0,arr:n,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var b=function(n,e){this.min=n;this.max=e};e["IntIterator"]=b;b.__name__="IntIterator";b.prototype={__class__:b};var N=function(){};e["Lambda"]=N;N.__name__="Lambda";N.has=function(n,e){var i=$getIterator(n);while(i.hasNext()){var t=i.next();if(t==e){return true}}return false};Math.__name__="Math";var S=function(){this.b=""};e["StringBuf"]=S;S.__name__="StringBuf";S.prototype={__class__:S};var R=function(){};e["haxe.SysTools"]=R;R.__name__="haxe.SysTools";R.quoteUnixArg=function(n){if(n==""){return"''"}if(!new v("[^a-zA-Z0-9_@%+=:,./-]","").match(n)){return n}return"'"+A.replace(n,"'","'\"'\"'")+"'"};R.quoteWinArg=function(n,e){if(!new v('^[^ \t\\\\"]+$',"").match(n)){var i="";var t=n.indexOf(" ")!=-1||n.indexOf("\t")!=-1||n=="";if(t){i+='"'}var s=new S;var f=0;var r=n.length;while(f<r){var a=f++;var l=o.cca(n,a);if(l==null){var h=l;if(s.b.length>0){i+=d.string(s.b);s=new S}i+=String.fromCodePoint(h)}else{switch(l){case 34:var w=s.b;i+=w==null?"null":""+w;i+=w==null?"null":""+w;s=new S;i+='\\"';break;case 92:s.b+="\\";break;default:var c=l;if(s.b.length>0){i+=d.string(s.b);s=new S}i+=String.fromCodePoint(c)}}}i+=d.string(s.b);if(t){i+=d.string(s.b);i+='"'}n=i}if(e){var u="";var b=0;var N=n.length;while(b<N){var A=b++;var D=o.cca(n,A);if(R.winMetaCharacters.indexOf(D)>=0){u+=String.fromCodePoint(94)}u+=String.fromCodePoint(D)}return u}else{return n}};var A=function(){};e["StringTools"]=A;A.__name__="StringTools";A.startsWith=function(n,e){if(n.length>=e.length){return n.lastIndexOf(e,0)==0}else{return false}};A.endsWith=function(n,e){var i=e.length;var t=n.length;if(t>=i){return n.indexOf(e,t-i)==t-i}else{return false}};A.isSpace=function(n,e){var i=o.cca(n,e);if(!(i>8&&i<14)){return i==32}else{return true}};A.ltrim=function(n){var e=n.length;var i=0;while(i<e&&A.isSpace(n,i))++i;if(i>0){return o.substr(n,i,e-i)}else{return n}};A.rtrim=function(n){var e=n.length;var i=0;while(i<e&&A.isSpace(n,e-i-1))++i;if(i>0){return o.substr(n,0,e-i)}else{return n}};A.trim=function(n){return A.ltrim(A.rtrim(n))};A.lpad=function(n,e,i){if(e.length<=0){return n}var t="";i-=n.length;while(t.length<i)t+=e==null?"null":""+e;t+=n==null?"null":""+n;return t};A.replace=function(n,e,i){return n.split(e).join(i)};var D=function(){};e["haxe.io.Output"]=D;D.__name__="haxe.io.Output";D.prototype={writeByte:function(n){throw new Bn("Not implemented")},writeBytes:function(n,e,i){if(e<0||i<0||e+i>n.length){throw new Bn(P.OutsideBounds)}var t=n.b;var s=i;while(s>0){this.writeByte(t[e]);++e;--s}return i},writeFullBytes:function(n,e,i){while(i>0){var t=this.writeBytes(n,e,i);e+=t;i-=t}},writeString:function(n,e){var i=O.ofString(n,e);this.writeFullBytes(i,0,i.length)},__class__:D};var M=function(n){this.fd=n};e["_Sys.FileOutput"]=M;M.__name__="_Sys.FileOutput";M.__super__=D;M.prototype=$extend(D.prototype,{writeByte:function(n){Sn.writeSync(this.fd,String.fromCodePoint(n))},writeBytes:function(n,e,i){var t=n.b;return Sn.writeSync(this.fd,Vn.from(t.buffer,t.byteOffset,n.length),e,i)},writeString:function(n,e){Sn.writeSync(this.fd,n)},__class__:M});var B=s["ValueType"]={__ename__:"ValueType",__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"],TNull:{_hx_index:0,__enum__:"ValueType",toString:t},TInt:{_hx_index:1,__enum__:"ValueType",toString:t},TFloat:{_hx_index:2,__enum__:"ValueType",toString:t},TBool:{_hx_index:3,__enum__:"ValueType",toString:t},TObject:{_hx_index:4,__enum__:"ValueType",toString:t},TFunction:{_hx_index:5,__enum__:"ValueType",toString:t},TClass:(f=function(n){return{_hx_index:6,c:n,__enum__:"ValueType",toString:t}},f.__params__=["c"],f),TEnum:(f=function(n){return{_hx_index:7,e:n,__enum__:"ValueType",toString:t}},f.__params__=["e"],f),TUnknown:{_hx_index:8,__enum__:"ValueType",toString:t}};var W=function(){};e["Type"]=W;W.__name__="Type";W.createEnum=function(n,e,i){var t=h.field(n,e);if(t==null){throw new Bn("No such constructor "+e)}if(h.isFunction(t)){if(i==null){throw new Bn("Constructor "+e+" need parameters")}return t.apply(n,i)}if(i!=null&&i.length!=0){throw new Bn("Constructor "+e+" does not need parameters")}return t};W.typeof=function(n){switch(typeof n){case"boolean":return B.TBool;case"function":if(n.__name__||n.__ename__){return B.TObject}return B.TFunction;case"number":if(Math.ceil(n)==n%2147483648){return B.TInt}return B.TFloat;case"object":if(n==null){return B.TNull}var e=n.__enum__;if(e!=null){return B.TEnum(s[e])}var i=w.getClass(n);if(i!=null){return B.TClass(i)}return B.TObject;case"string":return B.TClass(String);case"undefined":return B.TNull;default:return B.TUnknown}};W.enumParameters=function(n){var e=s[n.__enum__];var i=e.__constructs__[n._hx_index];var t=e[i].__params__;if(t!=null){var f=[];var r=0;while(r<t.length){var a=t[r];++r;f.push(n[a])}return f}else{return[]}};var Z=s["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"],CFunction:{_hx_index:0,__enum__:"haxe.StackItem",toString:t},Module:(f=function(n){return{_hx_index:1,m:n,__enum__:"haxe.StackItem",toString:t}},f.__params__=["m"],f),FilePos:(f=function(n,e,i,s){return{_hx_index:2,s:n,file:e,line:i,column:s,__enum__:"haxe.StackItem",toString:t}},f.__params__=["s","file","line","column"],f),Method:(f=function(n,e){return{_hx_index:3,classname:n,method:e,__enum__:"haxe.StackItem",toString:t}},f.__params__=["classname","method"],f),LocalFunction:(f=function(n){return{_hx_index:4,v:n,__enum__:"haxe.StackItem",toString:t}},f.__params__=["v"],f)};var q=function(){};e["haxe.IMap"]=q;q.__name__="haxe.IMap";q.__isInterface__=true;q.prototype={__class__:q};var C=function(n){this.params=[];this.headers={};this.url=ce.fromString(n)};e["haxe.Http"]=C;C.__name__="haxe.Http";C.prototype={setHeader:function(n,e){var i=this.headers[n];if(i==null){this.headers[n]=[e]}else{var t=i;t.push(e)}return this},setParameter:function(n,e){var i=this.params;i.push(me.ofString(n)+"="+me.ofString(e));return this},onData:function(n){},onError:function(n){},request:function(n){var e=this;if(this.rawPostData!=null){n=true}if(n==null){n=false}var i=this.params.join("&");var t=this.url.scheme;var s=ze.get_name(this.url.host);var f=ze.get_port(this.url.host);var r=this.url;var a;if(i==""){a=""}else if(n==null){var l=i;a=(this.url.query==null?"?":"&")+l}else if(n==true){a=""}else{var h=i;a=(this.url.query==null?"?":"&")+h}var w=this.rawPostData;var c;if(w==null){c=n?i:null}else{var u=w;c=u}(t==null?Zn.request:t=="https"?qn.request:Zn.request)({hostname:s,port:f,protocol:this.url.scheme+":",method:n?"POST":"GET",path:(r.query==null?r.path:r.path+"?"+r.query)+a,headers:this.headers},function(n){var i=[];n.on("end",function(){e.onData(Vn.concat(i).toString())});n.on("data",$bind(i,$arrayPush));n.on("error",function(n){e.onError(d.string(n))})}).on("error",function(n){e.onError(d.string(n))}).end(c)},__class__:C};var Y=function(){this.buf=new S;this.cache=[];this.useCache=Y.USE_CACHE;this.useEnumIndex=Y.USE_ENUM_INDEX;this.shash=new L;this.scount=0};e["haxe.Serializer"]=Y;Y.__name__="haxe.Serializer";Y.prototype={toString:function(){return this.buf.b},serializeString:function(n){var e=this.shash;var i=ei[n]!=null?e.getReserved(n):e.h[n];if(i!=null){this.buf.b+="R";this.buf.b+=i==null?"null":""+i;return}var t=this.shash;var s=this.scount++;if(ei[n]!=null){t.setReserved(n,s)}else{t.h[n]=s}this.buf.b+="y";n=encodeURIComponent(n);this.buf.b+=d.string(n.length);this.buf.b+=":";this.buf.b+=n==null?"null":""+n},serializeRef:function(n){var e=typeof n;var i=0;var t=this.cache.length;while(i<t){var s=i++;var f=this.cache[s];if(typeof f==e&&f==n){this.buf.b+="r";this.buf.b+=s==null?"null":""+s;return true}}this.cache.push(n);return false},serializeFields:function(n){var e=0;var i=h.fields(n);while(e<i.length){var t=i[e];++e;this.serializeString(t);this.serialize(h.field(n,t))}this.buf.b+="g"},serialize:function(n){var e=W.typeof(n);switch(e._hx_index){case 0:this.buf.b+="n";break;case 1:var i=n;if(i==0){this.buf.b+="z";return}this.buf.b+="i";this.buf.b+=i==null?"null":""+i;break;case 2:var t=n;if(isNaN(t)){this.buf.b+="k"}else if(!isFinite(t)){this.buf.b+=t<0?"m":"p"}else{this.buf.b+="d";this.buf.b+=t==null?"null":""+t}break;case 3:this.buf.b+=n?"t":"f";break;case 4:if(w.__instanceof(n,_e)){var f=n.__name__;this.buf.b+="A";this.serializeString(f)}else if(w.__instanceof(n,ni)){this.buf.b+="B";this.serializeString(n.__ename__)}else{if(this.useCache&&this.serializeRef(n)){return}this.buf.b+="o";this.serializeFields(n)}break;case 5:throw new Bn("Cannot serialize function");case 6:var r=e.c;if(r==String){this.serializeString(n);return}if(this.useCache&&this.serializeRef(n)){return}switch(r){case Array:var a=0;this.buf.b+="a";var l=n["length"];var c=0;var u=l;while(c<u){var v=c++;if(n[v]==null){++a}else{if(a>0){if(a==1){this.buf.b+="n"}else{this.buf.b+="u";this.buf.b+=a==null?"null":""+a}a=0}this.serialize(n[v])}}if(a>0){if(a==1){this.buf.b+="n"}else{this.buf.b+="u";this.buf.b+=a==null?"null":""+a}}this.buf.b+="h";break;case Date:var b=n;this.buf.b+="v";this.buf.b+=d.string(b.getTime());break;case E:this.buf.b+="q";var N=n;var S=N.keys();while(S.hasNext()){var R=S.next();this.buf.b+=":";this.buf.b+=R==null?"null":""+R;this.serialize(N.h[R])}this.buf.b+="h";break;case T:this.buf.b+="l";var A=n;var D=A.h;while(D!=null){var M=D.item;D=D.next;var B=M;this.serialize(B)}this.buf.b+="h";break;case H:this.buf.b+="M";var Z=n;var q=Z.keys();while(q.hasNext()){var C=q.next();var G=h.field(C,"__id__");h.deleteField(C,"__id__");this.serialize(C);C["__id__"]=G;this.serialize(Z.h[C.__id__])}this.buf.b+="h";break;case L:this.buf.b+="b";var V=n;var J=V.keys();while(J.hasNext()){var X=J.next();this.serializeString(X);this.serialize(ei[X]!=null?V.getReserved(X):V.h[X])}this.buf.b+="h";break;case O:var j=n;this.buf.b+="s";this.buf.b+=d.string(Math.ceil(j.length*8/6));this.buf.b+=":";var Q=0;var K=j.length-2;var y=Y.BASE64_CODES;if(y==null){var I=new Array(Y.BASE64.length);y=I;var z=0;var P=Y.BASE64.length;while(z<P){var m=z++;y[m]=o.cca(Y.BASE64,m)}Y.BASE64_CODES=y}while(Q<K){var p=j.b[Q++];var U=j.b[Q++];var F=j.b[Q++];this.buf.b+=String.fromCodePoint(y[p>>2]);this.buf.b+=String.fromCodePoint(y[(p<<4|U>>4)&63]);this.buf.b+=String.fromCodePoint(y[(U<<2|F>>6)&63]);this.buf.b+=String.fromCodePoint(y[F&63])}if(Q==K){var x=j.b[Q++];var k=j.b[Q++];this.buf.b+=String.fromCodePoint(y[x>>2]);this.buf.b+=String.fromCodePoint(y[(x<<4|k>>4)&63]);this.buf.b+=String.fromCodePoint(y[k<<2&63])}else if(Q==K+1){var g=j.b[Q++];this.buf.b+=String.fromCodePoint(y[g>>2]);this.buf.b+=String.fromCodePoint(y[g<<4&63])}break;default:if(this.useCache){this.cache.pop()}if(n.hxSerialize!=null){this.buf.b+="C";this.serializeString(r.__name__);if(this.useCache){this.cache.push(n)}n.hxSerialize(this);this.buf.b+="g"}else{this.buf.b+="c";this.serializeString(r.__name__);if(this.useCache){this.cache.push(n)}this.serializeFields(n)}}break;case 7:var $=e.e;if(this.useCache){if(this.serializeRef(n)){return}this.cache.pop()}this.buf.b+=d.string(this.useEnumIndex?"j":"w");this.serializeString($.__ename__);if(this.useEnumIndex){this.buf.b+=":";this.buf.b+=d.string(n._hx_index)}else{var _=n;this.serializeString(s[_.__enum__].__constructs__[_._hx_index])}this.buf.b+=":";var nn=W.enumParameters(n);this.buf.b+=d.string(nn.length);var en=0;while(en<nn.length){var tn=nn[en];++en;this.serialize(tn)}if(this.useCache){this.cache.push(n)}break;default:throw new Bn("Cannot serialize "+d.string(n))}},__class__:Y};var G=function(n){var e=this;this.id=setInterval(function(){e.run()},n)};e["haxe.Timer"]=G;G.__name__="haxe.Timer";G.delay=function(n,e){var i=new G(e);i.run=function(){i.stop();n()};return i};G.prototype={stop:function(){if(this.id==null){return}clearInterval(this.id);this.id=null},run:function(){},__class__:G};var V=function(){};e["haxe._Unserializer.DefaultResolver"]=V;V.__name__="haxe._Unserializer.DefaultResolver";V.prototype={resolveClass:function(n){return e[n]},resolveEnum:function(n){return s[n]},__class__:V};var J=function(n){this.buf=n;this.length=n.length;this.pos=0;this.scache=[];this.cache=[];var e=J.DEFAULT_RESOLVER;if(e==null){e=new V;J.DEFAULT_RESOLVER=e}this.resolver=e};e["haxe.Unserializer"]=J;J.__name__="haxe.Unserializer";J.initCodes=function(){var n=[];var e=0;var i=J.BASE64.length;while(e<i){var t=e++;n[J.BASE64.charCodeAt(t)]=t}return n};J.prototype={readDigits:function(){var n=0;var e=false;var i=this.pos;while(true){var t=this.buf.charCodeAt(this.pos);if(t!=t){break}if(t==45){if(this.pos!=i){break}e=true;this.pos++;continue}if(t<48||t>57){break}n=n*10+(t-48);this.pos++}if(e){n*=-1}return n},readFloat:function(){var n=this.pos;while(true){var e=this.buf.charCodeAt(this.pos);if(e!=e){break}if(e>=43&&e<58||e==101||e==69){this.pos++}else{break}}return parseFloat(o.substr(this.buf,n,this.pos-n))},unserializeObject:function(n){while(true){if(this.pos>=this.length){throw new Bn("Invalid object")}if(this.buf.charCodeAt(this.pos)==103){break}var e=this.unserialize();if(typeof e!="string"){throw new Bn("Invalid object key")}var i=this.unserialize();n[e]=i}this.pos++},unserializeEnum:function(n,e){if(this.buf.charCodeAt(this.pos++)!=58){throw new Bn("Invalid enum format")}var i=this.readDigits();if(i==0){return W.createEnum(n,e)}var t=[];while(i-- >0)t.push(this.unserialize());return W.createEnum(n,e,t)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var n=this.unserialize();var e=this.resolver.resolveClass(n);if(e==null){throw new Bn("Class not found "+n)}return e;case 66:var i=this.unserialize();var t=this.resolver.resolveEnum(i);if(t==null){throw new Bn("Enum not found "+i)}return t;case 67:var s=this.unserialize();var f=this.resolver.resolveClass(s);if(f==null){throw new Bn("Class not found "+s)}var r=Object.create(f.prototype);this.cache.push(r);r.hxUnserialize(this);if(this.buf.charCodeAt(this.pos++)!=103){throw new Bn("Invalid custom data")}return r;case 77:var a=new H;this.cache.push(a);var l=this.buf;while(this.buf.charCodeAt(this.pos)!=104){var h=this.unserialize();a.set(h,this.unserialize())}this.pos++;return a;case 82:var w=this.readDigits();if(w<0||w>=this.scache.length){throw new Bn("Invalid string reference")}return this.scache[w];case 97:var d=this.buf;var c=[];this.cache.push(c);while(true){var u=this.buf.charCodeAt(this.pos);if(u==104){this.pos++;break}if(u==117){this.pos++;var v=this.readDigits();c[c.length+v-1]=null}else{c.push(this.unserialize())}}return c;case 98:var b=new L;this.cache.push(b);var N=this.buf;while(this.buf.charCodeAt(this.pos)!=104){var S=this.unserialize();var R=this.unserialize();if(ei[S]!=null){b.setReserved(S,R)}else{b.h[S]=R}}this.pos++;return b;case 99:var A=this.unserialize();var D=this.resolver.resolveClass(A);if(D==null){throw new Bn("Class not found "+A)}var M=Object.create(D.prototype);this.cache.push(M);this.unserializeObject(M);return M;case 100:return this.readFloat();case 102:return false;case 105:return this.readDigits();case 106:var B=this.unserialize();var W=this.resolver.resolveEnum(B);if(W==null){throw new Bn("Enum not found "+B)}this.pos++;var Z=this.readDigits();var q=W.__constructs__.slice()[Z];if(q==null){throw new Bn("Unknown enum index "+B+"@"+Z)}var C=this.unserializeEnum(W,q);this.cache.push(C);return C;case 107:return NaN;case 108:var Y=new T;this.cache.push(Y);var G=this.buf;while(this.buf.charCodeAt(this.pos)!=104)Y.add(this.unserialize());this.pos++;return Y;case 109:return-Infinity;case 110:return null;case 111:var V={};this.cache.push(V);this.unserializeObject(V);return V;case 112:return Infinity;case 113:var X=new E;this.cache.push(X);var j=this.buf;var Q=this.buf.charCodeAt(this.pos++);while(Q==58){var K=this.readDigits();var y=this.unserialize();X.h[K]=y;Q=this.buf.charCodeAt(this.pos++)}if(Q!=104){throw new Bn("Invalid IntMap format")}return X;case 114:var I=this.readDigits();if(I<0||I>=this.cache.length){throw new Bn("Invalid reference")}return this.cache[I];case 115:var z=this.readDigits();var P=this.buf;if(this.buf.charCodeAt(this.pos++)!=58||this.length-this.pos<z){throw new Bn("Invalid bytes length")}var m=J.CODES;if(m==null){m=J.initCodes();J.CODES=m}var p=this.pos;var U=z&3;var F=(z>>2)*3+(U>=2?U-1:0);var x=p+(z-U);var k=new O(new ArrayBuffer(F));var g=0;while(p<x){var $=m[P.charCodeAt(p++)];var _=m[P.charCodeAt(p++)];k.b[g++]=$<<2|_>>4;var nn=m[P.charCodeAt(p++)];k.b[g++]=_<<4|nn>>2;var en=m[P.charCodeAt(p++)];k.b[g++]=nn<<6|en}if(U>=2){var tn=m[P.charCodeAt(p++)];var sn=m[P.charCodeAt(p++)];k.b[g++]=tn<<2|sn>>4;if(U==3){var fn=m[P.charCodeAt(p++)];k.b[g++]=sn<<4|fn>>2}}this.pos+=z;this.cache.push(k);return k;case 116:return true;case 118:var rn;if(this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&this.buf.charCodeAt(this.pos+4)==45){rn=o.strDate(o.substr(this.buf,this.pos,19));this.pos+=19}else{rn=new Date(this.readFloat())}this.cache.push(rn);return rn;case 119:var an=this.unserialize();var ln=this.resolver.resolveEnum(an);if(ln==null){throw new Bn("Enum not found "+an)}var hn=this.unserializeEnum(ln,this.unserialize());this.cache.push(hn);return hn;case 120:throw Bn.wrap(this.unserialize());case 121:var wn=this.readDigits();if(this.buf.charCodeAt(this.pos++)!=58||this.length-this.pos<wn){throw new Bn("Invalid string length")}var dn=o.substr(this.buf,this.pos,wn);this.pos+=wn;dn=decodeURIComponent(dn.split("+").join(" "));this.scache.push(dn);return dn;case 122:return 0;default:}this.pos--;throw new Bn("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:J};var X=function(){};e["haxe.ds.BalancedTree"]=X;X.__name__="haxe.ds.BalancedTree";X.__interfaces__=[q];X.prototype={set:function(n,e){this.root=this.setLoop(n,e,this.root)},get:function(n){var e=this.root;while(e!=null){var i=this.compare(n,e.key);if(i==0){return e.value}if(i<0){e=e.left}else{e=e.right}}return null},keys:function(){var n=[];this.keysLoop(this.root,n);return o.iter(n)},setLoop:function(n,e,i){if(i==null){return new j(null,n,e,null)}var t=this.compare(n,i.key);if(t==0){return new j(i.left,n,e,i.right,i==null?0:i._height)}else if(t<0){var s=this.setLoop(n,e,i.left);return this.balance(s,i.key,i.value,i.right)}else{var f=this.setLoop(n,e,i.right);return this.balance(i.left,i.key,i.value,f)}},keysLoop:function(n,e){if(n!=null){this.keysLoop(n.left,e);e.push(n.key);this.keysLoop(n.right,e)}},balance:function(n,e,i,t){var s=n==null?0:n._height;var f=t==null?0:t._height;if(s>f+2){var r=n.left;var a=n.right;if((r==null?0:r._height)>=(a==null?0:a._height)){return new j(n.left,n.key,n.value,new j(n.right,e,i,t))}else{return new j(new j(n.left,n.key,n.value,n.right.left),n.right.key,n.right.value,new j(n.right.right,e,i,t))}}else if(f>s+2){var l=t.right;var h=t.left;if((l==null?0:l._height)>(h==null?0:h._height)){return new j(new j(n,e,i,t.left),t.key,t.value,t.right)}else{return new j(new j(n,e,i,t.left.left),t.left.key,t.left.value,new j(t.left.right,t.key,t.value,t.right))}}else{return new j(n,e,i,t,(s>f?s:f)+1)}},compare:function(n,e){return h.compare(n,e)},__class__:X};var j=function(n,e,i,t,s){if(s==null){s=-1}this.left=n;this.key=e;this.value=i;this.right=t;if(s==-1){var f;var r=this.left;var a=this.right;if((r==null?0:r._height)>(a==null?0:a._height)){var l=this.left;f=l==null?0:l._height}else{var h=this.right;f=h==null?0:h._height}this._height=f+1}else{this._height=s}};e["haxe.ds.TreeNode"]=j;j.__name__="haxe.ds.TreeNode";j.prototype={__class__:j};var Q=function(){X.call(this)};e["haxe.ds.EnumValueMap"]=Q;Q.__name__="haxe.ds.EnumValueMap";Q.__interfaces__=[q];Q.__super__=X;Q.prototype=$extend(X.prototype,{compare:function(n,e){var i=n._hx_index-e._hx_index;if(i!=0){return i}var t=W.enumParameters(n);var s=W.enumParameters(e);if(t.length==0&&s.length==0){return 0}return this.compareArgs(t,s)},compareArgs:function(n,e){var i=n.length-e.length;if(i!=0){return i}var t=0;var s=n.length;while(t<s){var f=t++;var r=this.compareArg(n[f],e[f]);if(r!=0){return r}}return 0},compareArg:function(n,e){if(h.isEnumValue(n)&&h.isEnumValue(e)){return this.compare(n,e)}else if(n instanceof Array&&e instanceof Array){return this.compareArgs(n,e)}else{return h.compare(n,e)}},__class__:Q});var E=function(){this.h={}};e["haxe.ds.IntMap"]=E;E.__name__="haxe.ds.IntMap";E.__interfaces__=[q];E.prototype={get:function(n){return this.h[n]},keys:function(){var n=[];for(var e in this.h)this.h.hasOwnProperty(e)?n.push(e|0):null;return o.iter(n)},__class__:E};var T=function(){this.length=0};e["haxe.ds.List"]=T;T.__name__="haxe.ds.List";T.prototype={add:function(n){var e=new K(n,null);if(this.h==null){this.h=e}else{this.q.next=e}this.q=e;this.length++},iterator:function(){return new y(this.h)},__class__:T};var K=function(n,e){this.item=n;this.next=e};e["haxe.ds._List.ListNode"]=K;K.__name__="haxe.ds._List.ListNode";K.prototype={__class__:K};var y=function(n){this.head=n};e["haxe.ds._List.ListIterator"]=y;y.__name__="haxe.ds._List.ListIterator";y.prototype={hasNext:function(){return this.head!=null},next:function(){var n=this.head.item;this.head=this.head.next;return n},__class__:y};var H=function(){this.h={__keys__:{}}};e["haxe.ds.ObjectMap"]=H;H.__name__="haxe.ds.ObjectMap";H.__interfaces__=[q];H.prototype={set:function(e,i){var t=e.__id__;if(t==null){t=e.__id__=n.$haxeUID++}this.h[t]=i;this.h.__keys__[t]=e},get:function(n){return this.h[n.__id__]},keys:function(){var n=[];for(var e in this.h.__keys__){if(this.h.hasOwnProperty(e)){n.push(this.h.__keys__[e])}}return o.iter(n)},__class__:H};var I=s["haxe.ds.Option"]={__ename__:"haxe.ds.Option",__constructs__:["Some","None"],Some:(f=function(n){return{_hx_index:0,v:n,__enum__:"haxe.ds.Option",toString:t}},f.__params__=["v"],f),None:{_hx_index:1,__enum__:"haxe.ds.Option",toString:t}};var L=function(){this.h={}};e["haxe.ds.StringMap"]=L;L.__name__="haxe.ds.StringMap";L.__interfaces__=[q];L.prototype={get:function(n){if(ei[n]!=null){return this.getReserved(n)}return this.h[n]},setReserved:function(n,e){if(this.rh==null){this.rh={}}this.rh["$"+n]=e},getReserved:function(n){if(this.rh==null){return null}else{return this.rh["$"+n]}},keys:function(){return o.iter(this.arrayKeys())},arrayKeys:function(){var n=[];for(var e in this.h){if(this.h.hasOwnProperty(e)){n.push(e)}}if(this.rh!=null){for(var e in this.rh){if(e.charCodeAt(0)==36){n.push(e.substr(1))}}}return n},__class__:L};var O=function(n){this.length=n.byteLength;this.b=new Uint8Array(n);this.b.bufferValue=n;n.hxBytes=this;n.bytes=this.b};e["haxe.io.Bytes"]=O;O.__name__="haxe.io.Bytes";O.ofString=function(n,e){if(e==z.RawNative){var i=new Uint8Array(n.length<<1);var t=0;var s=n.length;while(t<s){var f=t++;var r=n.charCodeAt(f);i[f<<1]=r&255;i[f<<1|1]=r>>8}return new O(i.buffer)}var a=[];var l=0;while(l<n.length){var h=n.charCodeAt(l++);if(55296<=h&&h<=56319){h=h-55232<<10|n.charCodeAt(l++)&1023}if(h<=127){a.push(h)}else if(h<=2047){a.push(192|h>>6);a.push(128|h&63)}else if(h<=65535){a.push(224|h>>12);a.push(128|h>>6&63);a.push(128|h&63)}else{a.push(240|h>>18);a.push(128|h>>12&63);a.push(128|h>>6&63);a.push(128|h&63)}}return new O(new Uint8Array(a).buffer)};O.prototype={sub:function(n,e){if(n<0||e<0||n+e>this.length){throw new Bn(P.OutsideBounds)}return new O(this.b.buffer.slice(n+this.b.byteOffset,n+this.b.byteOffset+e))},getString:function(n,e,i){if(n<0||e<0||n+e>this.length){throw new Bn(P.OutsideBounds)}if(i==null){i=z.UTF8}var t="";var s=this.b;var f=n;var r=n+e;switch(i._hx_index){case 0:var a=n>0;while(f<r){var l=s[f++];if(l<128){if(l==0){break}t+=String.fromCodePoint(l)}else if(l<224){var h=(l&63)<<6|s[f++]&127;t+=String.fromCodePoint(h)}else if(l<240){var w=s[f++];var d=(l&31)<<12|(w&127)<<6|s[f++]&127;t+=String.fromCodePoint(d)}else{var c=s[f++];var u=s[f++];var v=(l&15)<<18|(c&127)<<12|(u&127)<<6|s[f++]&127;t+=String.fromCodePoint(v)}}break;case 1:while(f<r){var o=s[f++]|s[f++]<<8;t+=String.fromCodePoint(o)}break}return t},toString:function(){return this.getString(0,this.length)},__class__:O};var z=s["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:["UTF8","RawNative"],UTF8:{_hx_index:0,__enum__:"haxe.io.Encoding",toString:t},RawNative:{_hx_index:1,__enum__:"haxe.io.Encoding",toString:t}};var P=s["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:{_hx_index:0,__enum__:"haxe.io.Error",toString:t},Overflow:{_hx_index:1,__enum__:"haxe.io.Error",toString:t},OutsideBounds:{_hx_index:2,__enum__:"haxe.io.Error",toString:t},Custom:(f=function(n){return{_hx_index:3,e:n,__enum__:"haxe.io.Error",toString:t}},f.__params__=["e"],f)};var m=function(n){switch(n){case".":case"..":this.dir=n;this.file="";return}var e=n.lastIndexOf("/");var i=n.lastIndexOf("\\");if(e<i){this.dir=o.substr(n,0,i);n=o.substr(n,i+1,null);this.backslash=true}else if(i<e){this.dir=o.substr(n,0,e);n=o.substr(n,e+1,null)}else{this.dir=null}var t=n.lastIndexOf(".");if(t!=-1){this.ext=o.substr(n,t+1,null);this.file=o.substr(n,0,t)}else{this.ext=null;this.file=n}};e["haxe.io.Path"]=m;m.__name__="haxe.io.Path";m.withoutExtension=function(n){var e=new m(n);e.ext=null;return e.toString()};m.withoutDirectory=function(n){var e=new m(n);e.dir=null;return e.toString()};m.directory=function(n){var e=new m(n);if(e.dir==null){return""}return e.dir};m.extension=function(n){var e=new m(n);if(e.ext==null){return""}return e.ext};m.withExtension=function(n,e){var i=new m(n);i.ext=e;return i.toString()};m.join=function(n){var e=[];var i=0;var t=n;while(i<t.length){var s=t[i];++i;if(s!=null&&s!=""){e.push(s)}}var f=e;if(f.length==0){return""}var r=f[0];var a=1;var l=f.length;while(a<l){var h=a++;r=m.addTrailingSlash(r);r+=f[h]}return m.normalize(r)};m.normalize=function(n){var e="/";n=n.split("\\").join(e);if(n==e){return e}var i=[];var t=0;var s=n.split(e);while(t<s.length){var f=s[t];++t;if(f==".."&&i.length>0&&i[i.length-1]!=".."){i.pop()}else if(f==""){if(i.length>0||o.cca(n,0)==47){i.push(f)}}else if(f!="."){i.push(f)}}var r=i.join(e);var a="";var l=false;var h=false;var w=0;var d=r;while(w<d.length){var c=d;var u=w++;var v=c.charCodeAt(u);if(v>=55296&&v<=56319){v=v-55232<<10|c.charCodeAt(u+1)&1023}var b=v;if(b>=65536){++w}var N=b;switch(N){case 47:if(!l){h=true}else{var S=N;l=false;if(h){a+="/";h=false}a+=String.fromCodePoint(S)}break;case 58:a+=":";l=true;break;default:var R=N;l=false;if(h){a+="/";h=false}a+=String.fromCodePoint(R)}}return a};m.addTrailingSlash=function(n){if(n.length==0){return"/"}var e=n.lastIndexOf("/");var i=n.lastIndexOf("\\");if(e<i){if(i!=n.length-1){return n+"\\"}else{return n}}else if(e!=n.length-1){return n+"/"}else{return n}};m.removeTrailingSlashes=function(n){n:while(true){var e=o.cca(n,n.length-1);if(e==null){break}else{switch(e){case 47:case 92:n=o.substr(n,0,-1);break;default:break n}}}return n};m.isAbsolute=function(n){if(A.startsWith(n,"/")){return true}if(n.charAt(1)==":"){return true}if(A.startsWith(n,"\\\\")){return true}return false};m.prototype={toString:function(){return(this.dir==null?"":this.dir+(this.backslash?"\\":"/"))+this.file+(this.ext==null?"":"."+this.ext)},__class__:m};var p=function(n){this.map=n;this.keys=n.keys()};e["haxe.iterators.MapKeyValueIterator"]=p;p.__name__="haxe.iterators.MapKeyValueIterator";p.prototype={hasNext:function(){return this.keys.hasNext()},next:function(){var n=this.keys.next();return{value:this.map.get(n),key:n}},__class__:p};var U=function(){};e["haxe.remoting.AsyncConnection"]=U;U.__name__="haxe.remoting.AsyncConnection";U.__isInterface__=true;U.prototype={__class__:U};var F=function(n,e){this.__data=n;this.__path=e};e["haxe.remoting.HttpAsyncConnection"]=F;F.__name__="haxe.remoting.HttpAsyncConnection";F.__interfaces__=[U];F.urlConnect=function(n){return new F({url:n,error:function(n){throw Bn.wrap(n)}},[])};F.prototype={resolve:function(n){var e=new F(this.__data,this.__path.slice());e.__path.push(n);return e},setErrorHandler:function(n){this.__data.error=n},call:function(n,e){var i=new C(this.__data.url);var t=new Y;t.serialize(this.__path);t.serialize(n);i.setHeader("X-Haxe-Remoting","1");i.setParameter("__x",t.toString());var s=this.__data.error;i.onData=function(n){var i=true;var t;try{if(o.substr(n,0,3)!="hxr"){throw new Bn("Invalid response : '"+n+"'")}var f=new J(o.substr(n,3,null));t=f.unserialize()}catch(n){t=null;i=false;s(n instanceof Bn?n.val:n)}if(i&&e!=null){e(t)}};i.onError=s;i.request(true)},__class__:F};var x=function(n,e){this.cwd=n;this.args=e};e["haxeshim.Args"]=x;x.__name__="haxeshim.Args";x.interpolate=function(n,e){if(n.indexOf("${")==-1){return Rn.Success(n)}var i="";var t=0;while(t<n.length){var s=n.indexOf("${",t);if(s==-1){var f=null;i+=f==null?o.substr(n,t,null):o.substr(n,t,f);break}else{var r=s;var a=r-t;i+=a==null?o.substr(n,t,null):o.substr(n,t,a);var l=r+2;var h;var w=n.indexOf("}",l);if(w==-1){return Rn.Failure("unclosed interpolation in "+n)}else{var c=w;h=c}var u=o.substr(n,l,h-l);var v;var b=e(u);if(b==null){return Rn.Failure("unknown variable "+u)}else{var N=b;if(N=="$"+"{"+u+"}"){v=N}else{var S=x.interpolate(N,e);if(S._hx_index==0){var R=S.data;v=R}else{var A=S;return A}}}i+=d.string(v);t=h+1}}return Rn.Success(i)};x.fromMultilineString=function(n,e,i,t){if(t==null){t=false}var s=[];var f=new en;var r=function(n){if(n=="__dirname"){return m.directory(e)}else{return i(n)}};var a=function(n,i){var t=function(n){s.push({pos:tn.File(e,i),val:n})};if(n.charAt(0)=="-"){t(n)}else{var a=x.interpolate(n,r);switch(a._hx_index){case 0:var l=a.data;t(l);break;case 1:var h=a.failure;f.fail(h,tn.File(e,i));break}}};var l=n.split("\n");var h=A.trim;var w=new Array(l.length);var d=0;var c=l.length;while(d<c){var u=d++;w[u]=h(l[u])}var v=w;var b=0;var N=v.length;while(b<N){var S=b++;var R=v[S];var D=function(n,e){return function(i){e[0](i,n[0])}}([S],[a]);var M=R.charAt(0);if(M!=null){switch(M){case"#":break;case"-":var B=R.indexOf(" ");if(B==-1){D(R)}else{var W=B;D(o.substr(R,0,W));D(A.trim(o.substr(R,W,null)))}break;default:var Z=A.trim(R);if(Z!=""){var q=Z;if(t){D("-cp")}D(q)}}}}return f.produce(s)};x.split=function(n,e,i,t){var s=[];var f=0;var r=n.length;while(f<r){var a=f++;s.push({val:n[a],pos:tn.Cmd(a)})}var l=s;var h=[];var w=[];var d=[];var c=new en;var u=function(n){if(m.isAbsolute(n)){return n}else{return m.join([e,n])}};var v=function(){if(w.length>0){var n=h.concat(w);var i=new x(e,n);w=[];d.push(i)}};while(true){var o=l.shift();if(o==null){v();break}else{var b=[o];var N=function(n){return function(e){var i=l.shift();if(i==null){c.fail(""+n[0].val+" without argument",n[0].pos)}else{var t=i;e(t)}}}(b);var S=b[0].val;switch(S){case"--each":h=w;w=[];break;case"--next":v();break;case"--run":case"-x":var R=[b[0]].concat(l);w=w.concat(R);l=[];v();break;case"--cwd":case"-C":var D=l.shift();if(D==null){c.fail(""+b[0].val+" without argument",b[0].pos)}else{var M=D;e=u(M.val);if(!i.isDirectory(e)){c.fail("Cannot use "+e+" as working directory",M.pos);l=[]}}break;default:var B=S;if(m.extension(B)=="hxml"){B=u(B);var W=i.readFile(B);switch(W._hx_index){case 0:var Z=W.data;var q=x.fromMultilineString(Z,B,t);l=c.getResult(q).concat(l);break;case 1:var C=W.failure;c.fail(C,b[0].pos);break}}else{var Y=S;if(A.startsWith(Y,"${")){var G=x.interpolate(Y,t);switch(G._hx_index){case 0:var V=G.data;w.push({val:V,pos:b[0].pos});break;case 1:var J=G.failure;c.fail(J,b[0].pos);break}}else{w.push(b[0])}}}}}return c.produce(d)};x.prototype={__class__:x};var k=function(){};e["haxeshim.Attempt"]=k;k.__name__="haxeshim.Attempt";k.to=function(n,e,i){return new Me(new Ye(function(){return Re.catchExceptions(e,function(e){return Re.withData(null,"Failed to "+n,e,i)},{fileName:"haxeshim/Attempt.hx",lineNumber:8,className:"haxeshim.Attempt",methodName:"to"})}))};var g=s["haxeshim.ServerKind"]={__ename__:"haxeshim.ServerKind",__constructs__:["Port","Stdio"],Port:(f=function(n){return{_hx_index:0,num:n,__enum__:"haxeshim.ServerKind",toString:t}},f.__params__=["num"],f),Stdio:{_hx_index:1,__enum__:"haxeshim.ServerKind",toString:t}};var $=s["haxeshim.StdioState"]={__ename__:"haxeshim.StdioState",__constructs__:["AwaitingHeader","AwaitingData"],AwaitingHeader:(f=function(n){return{_hx_index:0,buf:n,__enum__:"haxeshim.StdioState",toString:t}},f.__params__=["buf"],f),AwaitingData:(f=function(n,e){return{_hx_index:1,buf:n,total:e,__enum__:"haxeshim.StdioState",toString:t}},f.__params__=["buf","total"],f)};var _=function(n,e,i){this.freePort=Be.async(function(n){var e=Cn.createServer();e.listen(0,function(){var i=e.address().port;e.close(function(){n(Rn.Success(i))})})},true);this.args=i;this.scope=e;switch(n._hx_index){case 0:var t=n.num;this.waitOnPort(t);break;case 1:this.stdio();break}};e["haxeshim.CompilerServer"]=_;_.__name__="haxeshim.CompilerServer";_.prototype={handleIntSignals:function(){var n=function(){process.exit()};process.on("SIGINT",n);process.on("SIGTERM",n)},stdio:function(){var n=this;Sn.watch(this.scope.configFile,{persistent:false},function(e,i){var t=10;var s=null;s=function(e){if(e==null){e=0}try{n.scope.reload()}catch(n){var i=n instanceof Bn?n.val:n;if(e>=t){cn.get().error("Reloading .haxerc after change detected failed "+t+" times!");process.exit(500)}else{var f=s;var r=e+1;G.delay(function(){f(r);return},100)}}};s()});var e=null;var i=function(){if(e!=null){e.kill()}};process.on("exit",i);this.handleIntSignals();process.stdin.on("end",i);process.stdin.on("close",i);var t=$.AwaitingHeader(Vn.alloc(0));var s=function(n){var e=Vn.alloc(4+n.length);e.writeInt32LE(n.length,0);n.copy(e,4);return e};var r=function(i){var t=Vn.alloc(0);var r=i.indexOf(1);var a;if(r==-1){a=i}else{var h=r;t=i.slice(h);a=i.slice(0,h)}var w=n.parseArgs(a);if(e==null||w.version!=n.lastVersion){if(e!=null){e.kill();e.stdout.unpipe(process.stdout);e.stderr.unpipe(process.stderr)}n.lastVersion=w.version;var d=n.scope.haxeInstallation;e=l.spawn(d.compiler,n.args.concat(["--wait","stdio"]),{cwd:n.scope.cwd,env:nn.toVars(fn.mergeEnv(d.env())),stdio:"pipe"});var c=e;e.on("exit",function(n,i){if(e==c){e=null}});e.stdout.pipe(process.stdout);e.stderr.pipe(process.stderr)}var u=(f=n.scope,$bind(f,f.resolve));var v=w.args;var o=Re.catchExceptions(function(){return u(v)},null,{fileName:"haxeshim/CompilerServer.hx",lineNumber:142,className:"haxeshim.CompilerServer",methodName:"stdio"});switch(o._hx_index){case 0:var b=o.data;var N=Vn.from(b.join("\n"));var S=e.stdin;var R=Vn.concat([N,t]);S.write(s(R));break;case 1:var A=o.failure;fn.die(A.code,A.message);break}};var a=function(){while(true){var n;switch(t._hx_index){case 0:var e=t.buf;n=e.length>=4?$.AwaitingData(e.slice(4),e.readInt32LE(0)):t;break;case 1:var i=t.total;var s=t.buf;if(s.length>=i){var f=s.slice(0,i);r(f);n=$.AwaitingHeader(s.slice(i))}else{n=t}break;default:n=t}if(t==n){break}t=n}};process.stdin.on("data",function(n){switch(t._hx_index){case 0:var e=t.buf;t=$.AwaitingHeader(Vn.concat([e,n]));break;case 1:var i=t.total;var s=t.buf;t=$.AwaitingData(Vn.concat([s,n]),i);break}a()})},parseArgs:function(n){var e=n.toString().split("\n");var i;var t=e.indexOf("--haxe-version");if(t==-1){i=this.lastVersion==null?this.scope.haxeInstallation.version:this.lastVersion}else{var s=t;i=e.splice(s,2).pop()}return{version:i,args:e}},waitOnPort:function(n){var e=this;var i=function(){if(e.waiting!=null){e.waiting.handle(function(n){if(n._hx_index==0){var e=n.data;e.kill()}})}};process.on("exit",i);this.handleIntSignals();var t=Cn.createServer(function(n){var i=[];n.on("data",function(t){var s=t.indexOf(0);if(s==-1){i.push(t)}else{var f=s;var r=t.slice(0,f);i.push(r);var a=t.slice(f+1);n.unshift(a);var l=Vn.concat(i).toString().split("\n");i=[];var h;var w=l.indexOf("--haxe-version");if(w==-1){h=e.lastVersion==null?e.scope.haxeInstallation.version:e.lastVersion}else{var d=w;h=l.splice(d,2).pop()}e.connect(h).handle(function(e){switch(e._hx_index){case 0:var i=e.data;i.write(l.join("\n")+String.fromCodePoint(0));i.pipe(n,{end:true});break;case 1:var t=e.failure;n.end(t.message+"\n"+""+"\n","utf8");break}})}});n.on("error",function(){});n.on("end",function(){})});t.listen(n)},disconnect:function(){if(this.waiting==null){return new Me(new bn(Rn.Success(De.Noise)))}else{return Je.next(this.waiting,function(n){var e=n.kill().map(Rn.Success);return e.gather()})}},connect:function(n){var e=this;if(n!=this.lastVersion||this.waiting==null){this.lastVersion=n;var i=this.waiting=Je.next(this.disconnect(),function(i){return Je.next(e.freePort,Xe.ofSafeSync(function(i){var t=e.scope.getInstallation(n);var s=fn.async(t.compiler,e.scope.cwd,e.args.concat(["--wait",i==null?"null":""+i]),t.env());return{died:Be.async(function(n){var e=n;var i=function(){e(De.Noise)};s.on("exit",i);var t=n;var f=function(){t(De.Noise)};s.on("error",f);var r=n;var a=function(){r(De.Noise)};s.on("disconnect",a)}),version:n,socket:function(){return Be.async(function(n){var e=10;var t=null;t=function(s){var f=Cn.createConnection(i,"127.0.0.1");f.on("error",function(f){if(s>=e){var r=Rn.Failure(new Re(null,"Failed to connect to 127.0.0.1:"+i+" after "+e+" attempts because "+f,{fileName:"haxeshim/CompilerServer.hx",lineNumber:291,className:"haxeshim.CompilerServer",methodName:"connect"}));n(r)}else{var a=t;var l=s+1;G.delay(function(){a(l);return},100)}}).on("connect",function(){n(Rn.Success(f))})};t(1)})},kill:function(){s.kill();return Be.async(function(n){var e=n;G.delay(function(){e(De.Noise)},500)})}}}))});this.waiting.handle(function(n){switch(n._hx_index){case 0:var t=n.data;t.died.handle(ue.fromNiladic(function(){if(e.waiting==i){e.waiting=null}}));break;case 1:var s=n.failure;e.waiting=null;break}})}return Je.next(this.waiting,function(n){return n.socket()})},__class__:_};var nn={};e["haxeshim._Env.Env_Impl_"]=nn;nn.__name__="haxeshim._Env.Env_Impl_";nn.ofVars=function(n){var e={};var i=e;var t=0;var s=h.fields(n);while(t<s.length){var f=s[t];++t;i[hn.IS_WINDOWS?f.toUpperCase():f]=n[f]}var r=i;return r};nn.ofMap=function(n){var e={};var i=e;var t=n.keys();while(t.hasNext()){var s=t.next();i[hn.IS_WINDOWS?s.toUpperCase():s]=ei[s]!=null?n.getReserved(s):n.h[s]}var f=i;return f};nn.vars=function(n){return n};nn.toVars=function(n){return h.copy(n)};nn.get=function(n,e){return n[hn.IS_WINDOWS?e.toUpperCase():e]};nn.mergeInto=function(n,e){var i=nn.vars(e);if(n==null){var t=i;var s=t;return s}else if(i==null){var f=n;var r=f;return r}else{var a=n;var l=i;var w={};var d=w;var c=l;var u=0;var v=h.fields(c);while(u<v.length){var o=v[u];++u;d[o]=c[o]}var b=a;var N=0;var S=h.fields(b);while(N<S.length){var R=S[N];++N;d[R]=b[R]}var A=d;return A}};var en=function(){this.errors=[]};e["haxeshim.Errors"]=en;en.__name__="haxeshim.Errors";en.getCode=function(n){var e=0;var i=n;while(e<i.length){var t=i[e];++e;var s=t.code;if(s!=null){var f=s;return f}}return 500};en.prototype={fail:function(n,e,i){this.errors.push({message:n,pos:e,code:i})},produce:function(n){if(this.errors.length==0){return Rn.Success(n)}else{return Rn.Failure({result:n,errors:this.errors})}},getResult:function(n){switch(n._hx_index){case 0:var e=n.data;return e;case 1:var i=n.failure;var t=0;var s=i.errors;while(t<s.length){var f=s[t];++t;this.errors.push(f)}return i.result}},__class__:en};var tn=s["haxeshim.Pos"]={__ename__:"haxeshim.Pos",__constructs__:["File","Cmd","Custom"],File:(f=function(n,e){return{_hx_index:0,path:n,line:e,__enum__:"haxeshim.Pos",toString:t}},f.__params__=["path","line"],f),Cmd:(f=function(n){return{_hx_index:1,index:n,__enum__:"haxeshim.Pos",toString:t}},f.__params__=["index"],f),Custom:(f=function(n){return{_hx_index:2,source:n,__enum__:"haxeshim.Pos",toString:t}},f.__params__=["source"],f)};var sn=function(){};e["haxeshim.PosTools"]=sn;sn.__name__="haxeshim.PosTools";sn.toString=function(n){switch(n._hx_index){case 0:var e=n.line;var i=n.path;return""+i+":"+e;case 1:var t=n.index;return"CLI arg#"+t;case 2:var s=n.source;return s}};var fn=function(){};e["haxeshim.Exec"]=fn;fn.__name__="haxeshim.Exec";fn.die=function(n,e){if(e!=null){cn.get().error(e)}process.exit(n);throw new Bn("unreachable")};fn.dieFromErrors=function(n){var e=null;var i=cn.get();var t=0;var s=n;while(t<s.length){var f=s[t];++t;i.error(sn.toString(f.pos)+(": "+f.message))}process.exit(en.getCode(n));throw new Bn("unreachable")};fn.gracefully=function(n){try{return n()}catch(n){var e=n instanceof Bn?n.val:n;if(e instanceof Re){var i=e;return fn.die(i.code,i.message)}else{return fn.die(500,d.string(e))}}};fn.mergeEnv=function(n){return nn.mergeInto(n,nn.ofVars(process.env))};fn.async=function(n,e,i,t){return l.spawn(n,i,{cwd:e,stdio:"inherit",env:nn.toVars(fn.mergeEnv(t))})};fn.shell=function(n,e,i){try{return Rn.Success(l.execSync(n,{cwd:e,stdio:"inherit",env:nn.toVars(fn.mergeEnv(i))}))}catch(e){var t=e instanceof Bn?e.val:e;return Rn.Failure(new Re(t.status,"Failed to invoke `"+n+"` because "+d.string(t),{fileName:"haxeshim/Exec.hx",lineNumber:47,className:"haxeshim.Exec",methodName:"shell"}))}};fn.sync=function(n,e,i,t){var s=l.spawnSync(n,i,{cwd:e,stdio:"inherit",env:nn.toVars(fn.mergeEnv(t))});var f=s.stdout;var r=s.stderr;var a=s.status;var h=s.signal;var w=s.pid;var c=s.output;var u=s.error;if(u==null){var v=a;return Rn.Success(v)}else{var o=a;var b=u;return Rn.Failure(new Re(o,"Failed to call "+n+" because "+d.string(b),{fileName:"haxeshim/Exec.hx",lineNumber:54,className:"haxeshim.Exec",methodName:"sync"}))}};fn.eval=function(n,e,i,t){var s=l.spawnSync(n,i,{cwd:e,env:nn.toVars(fn.mergeEnv(t))});var f=s;if(f.error==null){return Rn.Success({status:f.status,stdout:f.stdout.toString(),stderr:f.stderr.toString()})}else{var r=s.stdout;var a=s.stderr;var h=s.status;var w=s.signal;var c=s.pid;var u=s.output;var v=s.error;return Rn.Failure(new Re(null,"Failed to call "+n+" because "+d.string(v),{fileName:"haxeshim/Exec.hx",lineNumber:66,className:"haxeshim.Exec",methodName:"eval"}))}};var rn={};e["haxeshim._Fs.Payload_Impl_"]=rn;rn.__name__="haxeshim._Fs.Payload_Impl_";rn.ofString=function(n){return O.ofString(n)};var an=function(){};e["haxeshim.Fs"]=an;an.__name__="haxeshim.Fs";an.get=function(n,e){var i=n;return k.to("get content of "+n,function(){return Sn.readFileSync(i,{encoding:"utf8"})},e)};an.save=function(n,e,i){return Je.noise(Je.next(an.ensureDir(n),function(t){var s=n;var f=function(n){var e=n.b;var i=Vn.from(e.buffer,e.byteOffset,n.length);Sn.writeFileSync(s,i)};var r=e;var a=function(){f(r)};return k.to("save to "+n,a,i)}))};an.exists=function(n){var e=n;return k.to("check the existence of "+n,function(){return Nn.exists(e)},{fileName:"haxeshim/Fs.hx",lineNumber:26,className:"haxeshim.Fs",methodName:"exists"})};an.ensureDir=function(n){var e=A.endsWith(n,"/")||A.endsWith(n,"\\");if(e){n=m.removeTrailingSlashes(n)}var i=m.directory(n);if(m.removeTrailingSlashes(i)==n){return new Me(new bn(Rn.Success(De.Noise)))}else{return Je.next(Je.next(an.exists(i),function(n){if(n){return new Me(new bn(Rn.Success(De.Noise)))}else{return an.ensureDir(m.addTrailingSlash(i))}}),function(i){if(e){return Je.next(an.exists(n),function(e){return k.to("create directory "+n,function(){if(!e){Nn.createDirectory(n)}return De.Noise},{fileName:"haxeshim/Fs.hx",lineNumber:49,className:"haxeshim.Fs",methodName:"ensureDir"})})}else{return new Me(new bn(Rn.Success(De.Noise)))}})}};an.isDirectory=function(n){var e=n;return k.to("check if "+n+" is a directory",function(){return Nn.isDirectory(e)},{fileName:"haxeshim/Fs.hx",lineNumber:60,className:"haxeshim.Fs",methodName:"isDirectory"})};an.move=function(n,e){return Je.noise(Je.next(an.ensureDir(e),function(i){var t=n;var s=function(n){Sn.renameSync(t,n)};var f=e;var r=function(){s(f)};return k.to("move "+n+" to "+e,r,{fileName:"haxeshim/Fs.hx",lineNumber:67,className:"haxeshim.Fs",methodName:"move"})}))};an.copy=function(n,e,i,t){var s=null;s=function(n,e,f){if(i==null||i(n)){return Je.next(an.isDirectory(n),function(i){if(i){return Je.next(an.ensureDir(m.addTrailingSlash(e)),function(i){var t=[];var f=0;var r=Sn.readdirSync(n);while(f<r.length){var a=r[f];++f;t.push(s(""+n+"/"+a,""+e+"/"+a,false))}return Je.noise(Je.inParallel(t))})}else{return Je.next(Je.next(f?an.ensureDir(e):Je.NOISE,function(i){if(t==null||t({src:n,dest:e})){return new Me(new bn(Rn.Success(false)))}else{return an.exists(e)}}),function(i){if(i){return new Me(new bn(Rn.Success(De.Noise)))}else{var t=n;var s=e;var f=function(){de.copy(t,s)};return Je.noise(k.to("copy "+n+" to "+e,f,{fileName:"haxeshim/Fs.hx",lineNumber:92,className:"haxeshim.Fs",methodName:"copy"}))}})}})}else{return new Me(new bn(Rn.Success(De.Noise)))}};return s(n,e,true)};an.ls=function(n,e){var i=[];var t=0;var s=Sn.readdirSync(n);while(t<s.length){var f=s[t];++t;var r=""+n+"/"+f;var a;if(e==null||e(r)){a=r}else{continue}i.push(a)}return i};an.delete=function(n){return k.to("delete "+n,function(){if(n!=null&&Nn.exists(n)){if(Nn.isDirectory(n)){var e=0;var i=Sn.readdirSync(n);while(e<i.length){var t=i[e];++e;an.delete(""+n+"/"+t)}if(Nn.exists(n)){var s=0;var f=Sn.readdirSync(n);while(s<f.length){var r=f[s];++s;var a=n+"/"+r;if(Nn.isDirectory(a)){if(Nn.exists(a)){var l=0;var h=Sn.readdirSync(a);while(l<h.length){var w=h[l];++l;var d=a+"/"+w;if(Nn.isDirectory(d)){Nn.deleteDirectory(d)}else{Sn.unlinkSync(d)}}Sn.rmdirSync(a)}}else{Sn.unlinkSync(a)}}Sn.rmdirSync(n)}}else{Sn.unlinkSync(n)}}return},{fileName:"haxeshim/Fs.hx",lineNumber:107,className:"haxeshim.Fs",methodName:"delete"})};an.peel=function(n,e){var i=0;var t=0;var s=e;while(t<s){var f=t++;var r=n.indexOf("/",i);if(r==-1){return I.None}else{var a=r;i=a+1}}return I.Some(o.substr(n,i,null))};an.findNearest=function(n,e){while(true)if(Nn.exists(""+e+"/"+n)){return I.Some(""+e+"/"+n)}else{var i=m.directory(e);var t=i;if(e==t){return I.None}else{var s=i;e=s}}};var ln=function(n){this.scope=n};e["haxeshim.HaxeCli"]=ln;ln.__name__="haxeshim.HaxeCli";ln.prototype={installLibs:function(n){return this.scope.withLogger(cn.get(n),(f=this.scope,$bind(f,f.installLibs))).handle(function(n){if(n._hx_index==1){var e=n.failure;process.exit(e.code)}})},dispatch:function(n){var e=function(){var n={cwd:null};return fn.gracefully(function(){return An.seek(n)})};var i;var t;i=n.indexOf("--wait");var s=i;if(s>=0&&s<n.length-1){var f;var r=n.splice(s,2).pop();var a;if(r==null){a=d.parseInt(r);var l=a;f=g.Port(l)}else if(r=="stdio"){f=g.Stdio}else{a=d.parseInt(r);var h=a;f=g.Port(h)}new _(f,e(),n)}else{t=n.slice(0,2);if(t.length==2){if(t[0]=="--run"){var w=t[1];if(w.indexOf("-")!=-1&&w.toLowerCase()==w){var c=n.slice(2);var u=e();switch(w){case"install-libs":var v;switch(c.length){case 0:v=false;break;case 1:v=c[0]=="--silent"?true:fn.die(422,"unexpected arguments "+d.string(c));break;default:v=fn.die(422,"unexpected arguments "+d.string(c))}this.installLibs(v);break;case"resolve-args":var o=$bind(u,u.resolve);var b=c;var N=fn.gracefully(function(){return o(b)}).join("\n");process.stdout.write(d.string(N));process.stdout.write("\n");process.exit(0);break;case"show-version":if(c.length>0){fn.die(422,"too many arguments")}var S;var R=fn.eval(u.haxeInstallation.compiler,u.cwd,["-version"]);switch(R._hx_index){case 0:var D=R.data;S=A.trim(D.stdout.toString()+D.stderr.toString());break;case 1:var M=R.failure;S=fn.die(M.code,M.message);break}process.stdout.write(d.string("-D haxe-ver="+S));process.stdout.write("\n");process.stdout.write(d.string("-cp "+u.haxeInstallation.stdLib));process.stdout.write("\n");break;default:var B=w;fn.die(404,"Unknown extension "+B)}}else{var W=n;var Z=e();var q=W.indexOf("--haxe-version");if(W.indexOf("--connect")==-1){var C=q==-1}else if(q==-1){W.push("--haxe-version");W.push(Z.haxeInstallation.version)}var Y=Z.haxeInstallation.compiler;var G=Y;if(Nn.exists(G)){var V=function(n){switch(n._hx_index){case 0:var e=n.data;return e;case 1:var i=n.failure;var t=i.result;var s=i.errors;return fn.dieFromErrors(s)}};var J=function(n){var e=Z.cwd;var i=Z.haxeInstallation.env();var t=fn.sync(G,e,n,i);switch(t._hx_index){case 0:var s=t.data;if(s!=0){var f=s;fn.die(f)}break;case 1:var r=t.failure;fn.die(r.code,r.message);break}};if(W.length==0){J(W)}else{var X=0;var j=V(Z.getBuilds(W));while(X<j.length){var Q=j[X];++X;var E=V(Q);V(E.checkClassPaths());var T=[];var K=0;var y=E.args;while(K<y.length){var H=y[K];++K;T.push(H.val)}J(T)}}}else{var I=Y;fn.die(404,'haxe compiler not found at the expected location "'+I+'"')}}}else{var L=n;var O=e();var z=L.indexOf("--haxe-version");if(L.indexOf("--connect")==-1){var P=z==-1}else if(z==-1){L.push("--haxe-version");L.push(O.haxeInstallation.version)}var m=O.haxeInstallation.compiler;var p=m;if(Nn.exists(p)){var U=function(n){switch(n._hx_index){case 0:var e=n.data;return e;case 1:var i=n.failure;var t=i.result;var s=i.errors;return fn.dieFromErrors(s)}};var F=function(n){var e=O.cwd;var i=O.haxeInstallation.env();var t=fn.sync(p,e,n,i);switch(t._hx_index){case 0:var s=t.data;if(s!=0){var f=s;fn.die(f)}break;case 1:var r=t.failure;fn.die(r.code,r.message);break}};if(L.length==0){F(L)}else{var x=0;var k=U(O.getBuilds(L));while(x<k.length){var $=k[x];++x;var nn=U($);U(nn.checkClassPaths());var en=[];var tn=0;var sn=nn.args;while(tn<sn.length){var rn=sn[tn];++tn;en.push(rn.val)}F(en)}}}else{var an=m;fn.die(404,'haxe compiler not found at the expected location "'+an+'"')}}}else{var ln=n;var hn=e();var wn=ln.indexOf("--haxe-version");if(ln.indexOf("--connect")==-1){var dn=wn==-1}else if(wn==-1){ln.push("--haxe-version");ln.push(hn.haxeInstallation.version)}var cn=hn.haxeInstallation.compiler;var un=cn;if(Nn.exists(un)){var vn=function(n){switch(n._hx_index){case 0:var e=n.data;return e;case 1:var i=n.failure;var t=i.result;var s=i.errors;return fn.dieFromErrors(s)}};var on=function(n){var e=hn.cwd;var i=hn.haxeInstallation.env();var t=fn.sync(un,e,n,i);switch(t._hx_index){case 0:var s=t.data;if(s!=0){var f=s;fn.die(f)}break;case 1:var r=t.failure;fn.die(r.code,r.message);break}};if(ln.length==0){on(ln)}else{var bn=0;var Sn=vn(hn.getBuilds(ln));while(bn<Sn.length){var Rn=Sn[bn];++bn;var Dn=vn(Rn);vn(Dn.checkClassPaths());var Mn=[];var Bn=0;var Wn=Dn.args;while(Bn<Wn.length){var Zn=Wn[Bn];++Bn;Mn.push(Zn.val)}on(Mn)}}}else{var qn=cn;fn.die(404,'haxe compiler not found at the expected location "'+qn+'"')}}}},__class__:ln};var hn=function(){};e["haxeshim.Os"]=hn;hn.__name__="haxeshim.Os";hn.slashes=function(n){if(hn.IS_WINDOWS){return A.replace(n,"/","\\")}else{return n}};var wn=function(n,e,i){this.path=n;this.version=e;this.compiler=""+n+"/haxe"+wn.EXT;this.haxelib=""+n+"/haxelib"+wn.EXT;this.stdLib=""+n+"/std";this.haxelibRepo=i};e["haxeshim.HaxeInstallation"]=wn;wn.__name__="haxeshim.HaxeInstallation";wn.prototype={env:function(){var n=nn.ofVars({HAXE_STD_PATH:this.stdLib,HAXEPATH:this.path,HAXELIB_PATH:this.haxelibRepo,HAXE_VERSION:this.version});return nn.mergeInto(n,Dn.ENV)},__class__:wn};var dn=function(n){Dn.setEnv();this.scope=n;this.installation=n.haxeInstallation};e["haxeshim.HaxelibCli"]=dn;dn.__name__="haxeshim.HaxelibCli";dn.exit=function(n){switch(n._hx_index){case 0:var e=n.data;process.exit(0);break;case 1:var i=n.failure;fn.die(i.code,i.message);break}};dn.exitWithCode=function(n){switch(n._hx_index){case 0:var e=n.data;process.exit(e);break;case 1:var i=n.failure;fn.die(i.code,i.message);break}};dn.prototype={callHaxelib:function(n){dn.exitWithCode(fn.sync(this.installation.haxelib,process.cwd(),n,this.installation.env()))},run:function(n){var e=this;this.scope.getLibCommand(n).handle(function(i){switch(i._hx_index){case 0:var t=i.data;dn.exit(t());break;case 1:var s=i.failure;var f=["run"].concat(n);e.callHaxelib(f);break}})},__class__:dn};var cn=function(){};e["haxeshim.Logger"]=cn;cn.__name__="haxeshim.Logger";cn.get=function(n){if(n==null){n=false}if(n){if(cn.SILENT==null){cn.SILENT=new cn}return cn.SILENT}else{if(cn.DEFAULT==null){cn.DEFAULT=new un}return cn.DEFAULT}};cn.prototype={error:function(n){},warning:function(n){},info:function(n){},success:function(n){},progress:function(n){},__class__:cn};var un=function(){cn.call(this)};e["haxeshim._Logger.SysLogger"]=un;un.__name__="haxeshim._Logger.SysLogger";un.__super__=cn;un.prototype=$extend(cn.prototype,{log:function(n,e){this.progress("");var i=un.out;var t;switch(n._hx_index){case 0:t=[r.Red];break;case 1:t=[r.Yellow];break;case 2:t=[r.DefaultForeground];break;case 3:t=[r.Green];break}i.writeString(c.aset(t)+e+c.aset([r.Off])+"\n")},error:function(n){this.log(vn.Error,n)},warning:function(n){this.log(vn.Warning,n)},info:function(n){this.log(vn.Info,n)},success:function(n){this.log(vn.Success,n)},progress:function(n){if(un.isTTY){if(n.length>80){n=o.substr(n,0,77)+"..."}un.out.writeString((c.strip||c.stripIfUnavailable&&!c.available?"":"[2K")+(c.strip||c.stripIfUnavailable&&!c.available?"":"["+1+"G")+n)}},__class__:un});var vn=s["haxeshim._Logger.Level"]={__ename__:"haxeshim._Logger.Level",__constructs__:["Error","Warning","Info","Success"],Error:{_hx_index:0,__enum__:"haxeshim._Logger.Level",toString:t},Warning:{_hx_index:1,__enum__:"haxeshim._Logger.Level",toString:t},Info:{_hx_index:2,__enum__:"haxeshim._Logger.Level",toString:t},Success:{_hx_index:3,__enum__:"haxeshim._Logger.Level",toString:t}};var on=function(){};e["tink.core._Lazy.LazyObject"]=on;on.__name__="tink.core._Lazy.LazyObject";on.__isInterface__=true;on.prototype={__class__:on};var bn=function(n){this.value=n};e["tink.core._Lazy.LazyConst"]=bn;bn.__name__="tink.core._Lazy.LazyConst";bn.__interfaces__=[on];bn.prototype={get:function(){return this.value},map:function(n){var e=this;return new Ye(function(){return n(e.value)})},__class__:bn};var Nn=function(){};e["sys.FileSystem"]=Nn;Nn.__name__="sys.FileSystem";Nn.exists=function(n){try{Sn.accessSync(n);return true}catch(n){var e=n instanceof Bn?n.val:n;return false}};Nn.isDirectory=function(n){try{return Sn.statSync(n).isDirectory()}catch(n){var e=n instanceof Bn?n.val:n;return false}};Nn.createDirectory=function(n){try{Sn.mkdirSync(n)}catch(s){var e=s instanceof Bn?s.val:s;if(e.code=="ENOENT"){Nn.createDirectory(Yn.dirname(n));Sn.mkdirSync(n)}else{var i;try{i=Sn.statSync(n)}catch(n){var t=n instanceof Bn?n.val:n;throw e}if(!i.isDirectory()){throw e}}}};Nn.deleteDirectory=function(n){if(Nn.exists(n)){var e=0;var i=Sn.readdirSync(n);while(e<i.length){var t=i[e];++e;var s=n+"/"+t;if(Nn.isDirectory(s)){Nn.deleteDirectory(s)}else{Sn.unlinkSync(s)}}Sn.rmdirSync(n)}};var Sn=i(747);var Rn=s["tink.core.Outcome"]={__ename__:"tink.core.Outcome",__constructs__:["Success","Failure"],Success:(f=function(n){return{_hx_index:0,data:n,__enum__:"tink.core.Outcome",toString:t}},f.__params__=["data"],f),Failure:(f=function(n){return{_hx_index:1,failure:n,__enum__:"tink.core.Outcome",toString:t}},f.__params__=["failure"],f)};var An=function(n,e,i,t){this.logger=cn.get(false);this.haxeshimRoot=n;this.isGlobal=e;this.scopeDir=i;this.scopeLibDir=""+i+"/haxe_libraries";this.cwd=t;this.configFile=""+i+"/"+An.CONFIG_FILE;this.versionDir=""+n+"/versions";this.haxelibRepo=""+n+"/haxelib";var s=process.env["HAXE_LIBCACHE"];var f=process.env["HAXESHIM_LIBCACHE"];var r;if(f==null){if(s==null){r=""+n+"/haxe_libraries"}else{var a=s;r=a}}else{var l=f;r=l}this.libCache=r};e["haxeshim.Scope"]=An;An.__name__="haxeshim.Scope";An.create=function(n,e){return an.save(""+n+"/"+An.CONFIG_FILE,rn.ofString(JSON.stringify(e,null,"  ")),{fileName:"haxeshim/Scope.hx",lineNumber:186,className:"haxeshim.Scope",methodName:"create"})};An.exists=function(n){return Nn.exists(""+n+"/"+An.CONFIG_FILE)};An.seek=function(n){if(n==null){n={}}var e;var i=n.cwd;if(i==null){e=process.cwd()}else{var t=i;e=t}var s;var f=n.startLookingIn;if(f==null){s=e}else{var r=f;s=r}var a;var l=n.haxeshimRoot;if(l==null){a=An.DEFAULT_ROOT}else{var h=l;a=h}var w=function(n,e,i,t){return new An(n,e,i,t)};var d=a;var c=e;var u=function(n,e){return w(d,n,e,c)};var v;var o=an.findNearest(An.CONFIG_FILE,Yn.resolve(s));switch(o._hx_index){case 0:var b=o.v;v=u(false,m.directory(b));break;case 1:v=u(true,a);break}v.reload();return v};An.env=function(n){var e=process.env[n];if(e==null){return I.None}else if(e==""){return I.None}else{var i=e;return I.Some(i)}};An.prototype={withLogger:function(n,e){var i=this;var t=this.logger;this.logger=n;return Re.tryFinally(e,function(){return i.logger=t})},installLibs:function(){var n=this;return k.to("install libraries",function(){var e=n.getInstallationInstructions();var i=0;var t=e.missing;if(t.length!=0){var s=t;i=404;var f=0;while(f<s.length){var r=s[f];++f;n.logger.error(""+r.lib+" has no install instruction for missing classpath "+r.cp+"\n")}}var a=e.instructions.install.length+e.instructions.postInstall.length;var l=0;var h=e.instructions.install;var w=0;while(w<h.length){var d=h[w];++w;n.logger.progress("["+ ++l+"/"+a+"] "+d);var c=fn.shell(d,process.cwd());if(c._hx_index==1){var u=c.failure;i=u.code}}var v=e.instructions.postInstall;var o=0;while(o<v.length){var b=v[o];++o;n.logger.progress("["+ ++l+"/"+a+"] "+b);var N=fn.shell(b,process.cwd());if(N._hx_index==1){var S=N.failure;i=S.code}}if(i!=0){throw new Bn(new Re(i,"failed to install libraries",{fileName:"haxeshim/Scope.hx",lineNumber:111,className:"haxeshim.Scope",methodName:"installLibs"}))}return De.Noise},{fileName:"haxeshim/Scope.hx",lineNumber:83,className:"haxeshim.Scope",methodName:"installLibs"})},reload:function(){var n;try{n=Sn.readFileSync(this.configFile,{encoding:"utf8"})}catch(n){throw new Bn(this.isGlobal?"Global config file "+this.configFile+" does not exist or cannot be opened":"Unable to open file "+this.configFile+" because "+d.string(n instanceof Bn?n.val:n))}var e;try{e=JSON.parse(n)}catch(e){var i=e instanceof Bn?e.val:e;new M(2).writeString("Invalid JSON in file "+this.configFile+":\n\n"+n+"\n\n");throw Bn.wrap(i)}this.setConfig(e)},setConfig:function(n){if(n.version==null){throw new Bn("No version set in "+this.configFile)}if(n.resolveLibs==null){n.resolveLibs=this.isGlobal?"mixed":"scoped"}var e=n.resolveLibs;switch(e){case"haxelib":case"mixed":case"scoped":break;default:var i=e;throw new Bn("invalid value "+i+" for `resolveLibs` in "+this.configFile)}this.config=n;this.haxeInstallation=this.getInstallation(n.version)},getVar:function(n){var e=process.env[n];if(e==null){return this.getDefault(n)}else if(e==""){return this.getDefault(n)}else{var i=e;return i}},getDefault:function(n){switch(n){case"CWD":return this.cwd;case"HAXESHIM_LIBCACHE":case"HAXE_LIBCACHE":return this.libCache;case"SCOPE_DIR":return this.scopeDir;default:return null}},delete:function(){Sn.unlinkSync(this.configFile)},reconfigure:function(n){var e=this;return Je.next(an.save(this.configFile,rn.ofString(JSON.stringify(n,null,"  ")),{fileName:"haxeshim/Scope.hx",lineNumber:193,className:"haxeshim.Scope",methodName:"reconfigure"}),function(i){e.setConfig(n);return new Me(new bn(Rn.Success(i)))})},path:function(n){if(m.isAbsolute(n)){return I.Some(n)}else if(A.startsWith(n,"./")||A.startsWith(n,"../")){return I.Some(""+this.cwd+"/"+n)}else{return I.None}},getInstallation:function(n){var e=this.path(n);switch(e._hx_index){case 0:var i=e.v;return new wn(i,n,this.haxelibRepo);case 1:return new wn(""+this.versionDir+"/"+n,n,this.haxelibRepo)}},resolveThroughHaxelib:function(n){var e=this.haxeInstallation.haxelib;var i=this.cwd;var t=[];var s=0;while(s<n.length){var f=n[s];++s;t.push(f.val)}var r=fn.eval(e,i,["path"].concat(t),this.haxeInstallation.env());switch(r._hx_index){case 0:var a=r.data;var l;var h=a.stderr;if(a.status==0){var w=a.stdout;return x.fromMultilineString(w,"haxelib path",$bind(this,this.getVar),true)}else{l=new Re(a.status,a.stdout+a.stderr,{fileName:"haxeshim/Scope.hx",lineNumber:228,className:"haxeshim.Scope",methodName:"resolveThroughHaxelib"});var d=l;var c=new en;c.fail(d.message,tn.Custom("haxelib path"),d.code);return c.produce([])}break;case 1:var u=r.failure;var v=new en;v.fail(u.message,tn.Custom("haxelib path"),u.code);return v.produce([])}},interpolate:function(n,e){var i=this;var t;if(e==null){t=$bind(this,this.getVar)}else{var s=e;t=function(n){var e=s(n);if(e==null){return i.getVar(n)}else{var t=e;return t}}}return Ve.sure(x.interpolate(n,t))},parseDirectives:function(n){var e=new L;var i=0;var t=n.split("\n");var s=A.trim;var f=new Array(t.length);var r=0;var a=t.length;while(r<a){var l=r++;f[l]=s(t[l])}var h=f;while(i<h.length){var w=h[i];++i;if(A.startsWith(w,"#")){var d=A.ltrim(o.substr(w,1,null));if(A.startsWith(d,"@")){var c=d.indexOf(":");if(c!=-1){var u=c;var v=d.substring(1,u);var b;var N=ei[v]!=null?e.getReserved(v):e.h[v];if(N==null){var S=[];if(ei[v]!=null){e.setReserved(v,S)}else{e.h[v]=S}b=S}else{var R=N;b=R}b.push(this.interpolate(A.ltrim(o.substr(d,u+1,null))))}}}}return e},libHxml:function(n){return""+this.scopeLibDir+"/"+n+".hxml"},getDirectives:function(n){return Je.next(an.get(this.libHxml(n),{fileName:"haxeshim/Scope.hx",lineNumber:266,className:"haxeshim.Scope",methodName:"getDirectives"}),Xe.ofSafeSync($bind(this,this.parseDirectives)))},getLibCommand:function(n){var e=this;var i=[];var t=0;while(t<n.length){var s=n[t];++t;i.push(this.interpolate(s))}n=i;var f=n.shift();return Je.next(this.getDirectives(f),function(i){var t=ei["run"]!=null?i.getReserved("run"):i.h["run"];if(t==null){return new Me(new bn(Rn.Failure(new Re(null,"no @run directive found for library "+f,{fileName:"haxeshim/Scope.hx",lineNumber:275,className:"haxeshim.Scope",methodName:"getLibCommand"}))))}else{switch(t.length){case 0:return new Me(new bn(Rn.Failure(new Re(null,"no @run directive found for library "+f,{fileName:"haxeshim/Scope.hx",lineNumber:275,className:"haxeshim.Scope",methodName:"getLibCommand"}))));case 1:var s=t[0];var r=[e.interpolate(s)];var a=hn.IS_WINDOWS?function(n){return R.quoteWinArg(n,true)}:R.quoteUnixArg;var l=new Array(n.length);var h=0;var w=n.length;while(h<w){var d=h++;l[d]=a(n[d])}var c=r.concat(l).join(" ");var u=process.cwd();var v=e.haxeInstallation.env();return new Me(new bn(Rn.Success(function(){return fn.shell(c,u,v)})));default:return new Me(new bn(Rn.Failure(new Re(null,"more than one @run directive for library "+f,{fileName:"haxeshim/Scope.hx",lineNumber:280,className:"haxeshim.Scope",methodName:"getLibCommand"}))))}}})},getInstallationInstructions:function(){var n=[];var e={install:[],postInstall:[]};if(Nn.exists(this.scopeLibDir)){var i=0;var t=Sn.readdirSync(this.scopeLibDir);while(i<t.length){var s=t[i];++i;var f=""+this.scopeLibDir+"/"+s;if(!Nn.isDirectory(f)&&A.endsWith(f,".hxml")){var r=Sn.readFileSync(f,{encoding:"utf8"});var a;var l=x.fromMultilineString(r,f,$bind(this,this.getVar));switch(l._hx_index){case 0:var h=l.data;var w=[];var d=0;while(d<h.length){var c=h[d];++d;w.push(c.val)}a=w;break;case 1:var u=l.failure;var v=u.errors;var o=u.result;var b=[];var N=0;while(N<o.length){var S=o[N];++N;b.push(S.val)}a=b;break}var R=0;var D=a.length;while(R<D)if(a[R++]=="-cp"){var M=a[R++];if(!Nn.exists(M)){var B=this.parseDirectives(r);var W=ei["install"]!=null?B.getReserved("install"):B.h["install"];if(W==null){n.push({lib:s,cp:M})}else if(W.length==0){n.push({lib:s,cp:M})}else{var Z=W;var q=0;while(q<Z.length){var C=Z[q];++q;e.install.push(C)}var Y=ei["post-install"]!=null?B.getReserved("post-install"):B.h["post-install"];if(Y!=null){var G=Y;var V=0;while(V<G.length){var J=G[V];++V;e.postInstall.push(J)}}}R=D}}}}}return{missing:n,instructions:e}},resolveArgs:function(n){var e=this.cwd;var i=function(n){if(m.isAbsolute(n)){return n}else{return m.join([e,n])}};e=i(n.cwd);var t=[];var s=[];var f=new en;var r=[];var a=[];var l=[];var h=0;n:while(h<n.args.length){var w=n.args[h++];switch(w.val){case"--run":l=n.args.slice(h-1);break n;case"--connect":case"--display":case"--server-connect":case"--server-listen":a.push(w);var c=n.args[h++];if(c==null){f.fail(""+w.val+" requires argument",w.pos)}else{var u=c;a.push(u)}break;case"--wait":a.push(w);break;default:r.push(w)}}var v=new L;n:while(r.length>0){var o=[r.shift()];var b=function(n){return function(e){f.fail(e,n[0].pos)}}(o);var N=o[0].val;switch(N){case"--connect":case"--cwd":case"--each":case"--next":case"--run":case"--wait":case"-C":case"-x":var S=N;b(""+S+" not allowed here");break n;case"-lib":var R=r.shift();if(R==null){b("-lib requires argument")}else{var A=R;var D=A.val;if(!(ei[D]!=null?v.getReserved(D):v.h[D])){var M=A.val;if(ei[M]!=null){v.setReserved(M,true)}else{v.h[M]=true}var B=this.config.resolveLibs;var W;if(B=="haxelib"){s.push(A)}else{W=B=="mixed";var Z=W;var q=this.libHxml(A.val);var C;try{C=Rn.Success(Sn.readFileSync(q,{encoding:"utf8"}))}catch(n){C=Rn.Failure("could not get contents of "+q+" because "+d.string(n instanceof Bn?n.val:n))}switch(C._hx_index){case 0:var Y=C.data;var G=x.fromMultilineString(Y,q,$bind(this,this.getVar));r=f.getResult(G).concat(r);break;case 1:var V=C.failure;if(Nn.exists(q)){b(V)}else if(Z){s.push(A)}else{b("-lib "+A.val+" is missing "+q)}break}}}}break;default:t.push(o[0])}}var J=a.concat(t);var X=this.resolveThroughHaxelib(s);t=J.concat(f.getResult(X)).concat(l);return f.produce(new Mn(e,t))},getBuilds:function(n){var e=new en;var i=[];var t=0;var s=e.getResult(x.split(n,this.cwd,An.fs,$bind(this,this.getVar)));while(t<s.length){var f=s[t];++t;if(f.args.length>0){i.push(this.resolveArgs(f))}}return e.produce(i)},resolve:function(n){var e=[];var i=new en;var t=0;var s=i.getResult(x.split(n,this.cwd,An.fs,$bind(this,this.getVar)));while(t<s.length){var f=s[t];++t;if(f.args.length>0){if(e.length!=0){e.push("--next")}if(f.cwd!=this.cwd){e.push("--cwd");e.push(f.cwd)}var r=0;var a=i.getResult(this.resolveArgs(f)).args;while(r<a.length){var l=a[r];++r;e.push(l.val)}}}var h=i.produce(42);if(h._hx_index==1){var w;w=h.failure.errors[0];var c=w;process.stdout.write(d.string(c.message));process.stdout.write("\n");var u;var v=c.code;if(v==null){u=500}else{var o=v;u=o}process.exit(u)}return e},__class__:An};var Dn=function(){};e["haxeshim.Neko"]=Dn;Dn.__name__="haxeshim.Neko";Dn.setEnv=function(){if(Dn.isset){if(hn.IS_WINDOWS){var n=0;var e=Dn.ENV;var i=e==null?[]:h.fields(e);while(n<i.length){var t=i[n];++n;var s=nn.get(Dn.ENV,t);process.env[t]=s}}Dn.isset=false}};var Mn=function(n,e){x.call(this,n,e)};e["haxeshim.ResolvedArgs"]=Mn;Mn.__name__="haxeshim.ResolvedArgs";Mn.__super__=x;Mn.prototype=$extend(x.prototype,{checkClassPaths:function(){var n=new en;var e=0;var i=this.args.length;while(e<i){var t=e++;switch(this.args[t].val){case"--class-path":case"-cp":case"-p":if(t+1<this.args.length){var s=this.args[t+1];try{Sn.readdirSync(s.val)}catch(e){var f=e instanceof Bn?e.val:e;n.fail("classpath "+s.val+" is not a directory or cannot be read from",s.pos)}}break;default:}}return n.produce(De.Noise)},__class__:Mn});var Bn=function(n){Error.call(this);this.val=n;if(Error.captureStackTrace){Error.captureStackTrace(this,Bn)}};e["js._Boot.HaxeError"]=Bn;Bn.__name__="js._Boot.HaxeError";Bn.wrap=function(n){if(n instanceof Error){return n}else{return new Bn(n)}};Bn.__super__=Error;Bn.prototype=$extend(Error.prototype,{__class__:Bn});var Wn=function(){};e["js.lib._ArrayBuffer.ArrayBufferCompat"]=Wn;Wn.__name__="js.lib._ArrayBuffer.ArrayBufferCompat";Wn.sliceImpl=function(n,e){var i=new Uint8Array(this,n,e==null?null:e-n);var t=new Uint8Array(i.byteLength);t.set(i);return t.buffer};var Zn=i(605);var qn=i(211);var Cn=i(631);var Yn=i(622);var Gn=i(835);var Vn=i(293).Buffer;var Jn=function(){};e["js.node.buffer._Buffer.Helper"]=Jn;Jn.__name__="js.node.buffer._Buffer.Helper";Jn.bytesOfBuffer=function(n){var e=Object.create(O.prototype);e.length=n.byteLength;e.b=n;n.bufferValue=n;n.hxBytes=e;n.bytes=n;return e};var Xn=i(413).PassThrough;var jn=function(){};e["lix.cli.Cli"]=jn;jn.__name__="lix.cli.Cli";jn.main=function(){var n=Kn.ensureScope();var e=process.argv.slice(2);Tn.attempt(n,ue.fromNiladic(function(){jn.dispatch(e)}))};jn.dispatch=function(n){var e="haxe";var i="lix";var t="lix - Libraries for Haxe";var s="git+https://github.com/lix-pm/lix.git";var f="git";var r="https://github.com/lix-pm/lix#readme";var a={yauzl:"github:lix-pm/yauzl",tar:"^4.4.8","@zeit/ncc":"^0.20.4","graceful-fs":"^4.1.15"};var l="bin";var w="15.8.5";var c="back2dos";var v="node bin/postinstall.js";var b="ncc";var N="haxe --run Build";var S="MIT";var R="https://github.com/lix-pm/lix/issues";var D="bin/haxeshim.js";var M="bin/lix.js";var B="bin/haxelibshim.js";var W="bin/nekoshim.js";var Z=w;var q=o.remove(n,"--silent");var C=o.remove(n,"--force");var Y=o.remove(n,"--global")||o.remove(n,"-g");var G=o.remove(n,"--flat");var V=An.seek({cwd:Y?An.DEFAULT_ROOT:null});var J=Qn.ofString("+tink install github:haxetink/tink_${0}");var X=Qn.ofString("+coco install github:MVCoconut/coconut.${0}");n=Tn.expand(n,[J,X,Qn.ofString("+lib install haxelib:${0}")]);var j=function(e){var i=n.indexOf(e);if(i==-1){return null}else{var t=i;return n.splice(t,2)[1]}};var Q=new se(j("--gl-private-token"));var E=j("--gh-credentials");var T;var K;if(E==null){K=null}else{T=E.split(":");if(T.length==2){var y=T[1];var H=T[0];var O=""+H+":"+y;K=O}else{var z=E;K=fn.die(422,"`--gh-credentials "+z+"` should be `--gh-credentials <user>:<token>`")}}var P=new te(K);var p=ze._new(j("--haxelib-url"));var U=new re([$bind(Q,Q.intercept),$bind(P,P.intercept)]);var F=[U,new fe(p),P,Q,new ie(V)];var x=new L;var k=0;while(k<F.length){var g=F[k];++k;var $=0;var _=g.schemes();while($<_.length){var nn=_[$];++$;if(ei[nn]!=null){x.setReserved(nn,g)}else{x.h[nn]=g}}}var en=x;var tn=function(n){var e=n.scheme;var i=ei[e]!=null?en.getReserved(e):en.h[e];if(i==null){return new Me(new bn(Rn.Failure(new Re(null,"Unknown scheme in url "+ce.toString(n),{fileName:"src/lix/cli/Cli.hx",lineNumber:52,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{var t=i;return t.processUrl(n)}};var hn=cn.get(q);var wn=new _n(V,hn);var un=new Fn(V,tn,function(n){return new Me(new bn(Rn.Failure(new Re(501,"not implemented",{fileName:"src/lix/cli/Cli.hx",lineNumber:63,className:"lix.cli.Cli",methodName:"dispatch"}))))},hn,C);var vn="lix - Libraries for Haxe (v"+Z+")";var on=new Tn(En.ofString("install"),"<url> [as <lib[#ver]>]","install lib from specified url",function(n){if(V.isGlobal&&!Y){return new Me(new bn(Rn.Failure(new Re(null,"Current scope is global. Please use --global if you intend to install globally, or create a local scope with `lix scope create`.",{fileName:"src/lix/cli/Cli.hx",lineNumber:73,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{switch(n.length){case 0:return new Me(new bn(Rn.Failure(new Re(null,"Missing url",{fileName:"src/lix/cli/Cli.hx",lineNumber:84,className:"lix.cli.Cli",methodName:"dispatch"}))));case 1:var e=n[0];var i=e;if(ce.fromString(i).scheme==null){return new Me(new bn(Rn.Failure(new Re(null,"Did you mean `lix install haxelib:"+i+"`?",{fileName:"src/lix/cli/Cli.hx",lineNumber:81,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{var t=e;return un.installUrl(ce.fromString(t),null,{flat:G})}break;case 2:var s=n[0];if(s=="haxe"){var f=n[1];return wn.install(f,{force:C})}else{var r=s;if(ce.fromString(r).scheme==null){return new Me(new bn(Rn.Failure(new Re(null,"Did you mean `lix install haxelib:"+r+"`?",{fileName:"src/lix/cli/Cli.hx",lineNumber:81,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{var a=n;return new Me(new bn(Rn.Failure(new Re(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:85,className:"lix.cli.Cli",methodName:"dispatch"}))))}}break;case 3:if(n[1]=="as"){var l=n[2];var h=n[0];var w=ce.fromString(h);var d=Un.parse(l);return un.installUrl(w,d,{flat:G})}else{var c=n;return new Me(new bn(Rn.Failure(new Re(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:85,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;default:var u=n;return new Me(new bn(Rn.Failure(new Re(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:85,className:"lix.cli.Cli",methodName:"dispatch"}))))}}});var Dn=new Tn(En.ofString("install haxe"),"<version>|<alias>","install specified haxe version",null);var Mn=new Tn(En.ofString("use"),"haxe <version>|<alias>","use specified haxe version",function(n){if(n.length==2){if(n[0]=="haxe"){var e=n[1];return Je.next(wn.resolveInstalled(ne.ofString(e)),$bind(wn,wn.switchTo))}else{return new Me(new bn(Rn.Failure(new Re(null,"invalid arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:91,className:"lix.cli.Cli",methodName:"dispatch"}))))}}else{return new Me(new bn(Rn.Failure(new Re(null,"invalid arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:91,className:"lix.cli.Cli",methodName:"dispatch"}))))}});var Bn=new Tn(En.ofString("dev"),"<lib> <path>","use dev version of library",function(n){if(n.length==2){var e=n[1];var i=n[0];return un.dev(i,e)}else{return new Me(new bn(Rn.Failure(new Re(null,"invalid arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:95,className:"lix.cli.Cli",methodName:"dispatch"}))))}});var Wn=new Tn(En.ofString("download haxe"),"<version>|<alias>","download specified haxe version",null);var Zn=new Tn(En.ofString("scope"),"[create|delete]","creates or deletes the current scope or\ninspects it if no argument is supplied",function(n){switch(n.length){case 0:hn.info((V.isGlobal?"[global]":"[local]")+(" "+V.scopeDir));return new Me(new bn(Rn.Success(De.Noise)));case 1:switch(n[0]){case"create":return Je.next(An.create(V.cwd,{version:V.config.version,resolveLibs:V.isGlobal?"scoped":V.config.resolveLibs}),function(n){hn.success("created scope in "+V.cwd);return new Me(new bn(Rn.Success(De.Noise)))});case"delete":if(V.isGlobal){return new Me(new bn(Rn.Failure(new Re(null,"Cannot delete global scope",{fileName:"src/lix/cli/Cli.hx",lineNumber:110,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{V.delete();hn.success("deleted scope in "+V.scopeDir);return new Me(new bn(Rn.Success(De.Noise)))}break;default:var e=n;return new Me(new bn(Rn.Failure(new Re(null,"Invalid arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:122,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;default:var i=n;return new Me(new bn(Rn.Failure(new Re(null,"Invalid arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:122,className:"lix.cli.Cli",methodName:"dispatch"}))))}});var qn=new Tn(En.ofString("haxe-versions"),"","lists currently downloaded versions",function(n){if(n.length==0){return Je.next(wn.officialInstalled($n.IncludePrereleases),function(n){return Je.next(wn.nightliesInstalled(),function(e){var i=function(n){if(n==V.config.version){return" -> "+n}else{return"    "+n}};process.stdout.write("");process.stdout.write("\n");process.stdout.write("Official releases:");process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var t=$getIterator(n);while(t.hasNext()){var s=t.next();var f=i(s);process.stdout.write(d.string(f));process.stdout.write("\n")}if($getIterator(e).hasNext()){process.stdout.write("");process.stdout.write("\n");process.stdout.write("Nightly builds:");process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var r=$getIterator(e);while(r.hasNext()){var a=r.next();var l=i(a.hash)+u.format(a.published,"  (%Y-%m-%d %H:%M)");process.stdout.write(d.string(l));process.stdout.write("\n")}}process.stdout.write("");process.stdout.write("\n");return new Me(new bn(Rn.Success(De.Noise)))})})}else{return new Me(new bn(Rn.Failure(new Re(null,"command `list` does expect arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:159,className:"lix.cli.Cli",methodName:"dispatch"}))))}});var Cn=new Tn(En.ofString("download"),"[<url[#lib[#ver]]>]","download lib from url if specified,\notherwise download missing libs",function(n){switch(n.length){case 0:return Je.next(_n.ensureNeko(hn),function(n){var e=wn.resolveOnline(ne.ofString(V.config.version));var i=$bind(wn,wn.download);var t={force:false};return Je.next(Je.next(e,function(n){return i(n,t)}),function(n){new ln(V).installLibs(q);return new Me(new bn(Rn.Success(De.Noise)))})});case 1:var e=ce.fromString(n[0]);return Je.noise(un.downloadUrl(e));case 2:if(n[0]=="haxe"){var i=n[1];return Je.noise(wn.resolveAndDownload(i,{force:C}))}else{var t=n;return new Me(new bn(Rn.Failure(new Re(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:205,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;case 3:var s=n[2];var f=n[0];switch(n[1]){case"as":var r=s;var a=f;var l=A.replace(r,"#","/");var h=V.libCache+("/"+l);var w=function(n){if(n.length>40){return o.substr(n,0,37)+"..."}else{return n}};if(Nn.exists(h)){return new Me(new bn(Rn.Failure(new Re(null,"`download <url> as <ver>` is no longer supported",{fileName:"src/lix/cli/Cli.hx",lineNumber:175,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{var d=new Array(n.length);var c=0;var u=n.length;while(c<u){var v=c++;d[v]=w(n[v])}var b="Warning: Processing obsolete `download "+d.join(" ")+"`.\n        Please reinstall library in a timely manner!\n\n";hn.warning(b);return Je.noise(Je.next(Je.next(un.downloadUrl(ce.fromString(a),{into:l}),function(n){var e=n;return Be._tryMap(an.ensureDir(h),function(n){return e})}),function(n){Sn.renameSync(Pn.getAbsRoot(n.storageRoot,n.relRoot),h);return new Me(new bn(Rn.Success(n)))}))}break;case"into":var N=s;var S=f;return Je.noise(un.downloadUrl(ce.fromString(S),{into:N}));default:var R=n;return new Me(new bn(Rn.Failure(new Re(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:205,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;default:var D=n;return new Me(new bn(Rn.Failure(new Re(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:205,className:"lix.cli.Cli",methodName:"dispatch"}))))}});var Yn=new Tn(En.ofString("run"),"lib ...args","run a library",function(n){if(n.length==0){return new Me(new bn(Rn.Failure(new Re(null,"no library specified",{fileName:"src/lix/cli/Cli.hx",lineNumber:209,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{var e=n;return Je.noise(Je.next(V.getLibCommand(e),function(n){return new Me(new bn(n()))}))}});var Gn=new Tn(["--version","-v"],"","print version",function(n){if(n.length>0){return new Me(new bn(Rn.Failure(new Re(null,"too many arguments",{fileName:"src/lix/cli/Cli.hx",lineNumber:215,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{process.stdout.write(d.string(Z));process.stdout.write("\n");return new Me(new bn(Rn.Success(De.Noise)))}});Tn.dispatch(n,vn,[on,Dn,Mn,Bn,Wn,Zn,qn,Cn,Yn,Gn,new Tn(En.ofString("run-haxelib"),"path ...args","invoke a haxelib at a given path following haxelib's conventions",function(n){if(n.length==0){return new Me(new bn(Rn.Failure(new Re(null,"no path supplied",{fileName:"src/lix/cli/Cli.hx",lineNumber:223,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{new dn(V).run(n.slice(1));return new Me(new bn(Rn.Success(De.Noise)))}})],[],function(n){var e=n[0];var i;if(e==null){return I.None}else{switch(e){case"--library":case"--run":case"-L":case"-lib":return I.Some(function(){new ln(V).dispatch(n);return new Me(new bn(Rn.Success(De.Noise)))});default:i=A.endsWith(e,".hxml");if(i==true){return I.Some(function(){new ln(V).dispatch(n);return new Me(new bn(Rn.Success(De.Noise)))})}else{var t=e;if(Nn.exists(V.libHxml(t))){return I.Some(function(){new dn(V).run(n);return new Me(new bn(Rn.Success(De.Noise)))})}else{var s=e;if(jn.isClassName(s)){return I.Some(function(){var e=function(n){return m.join([V.scopeDir,n])};var i=function(n){var e=m.withoutDirectory(m.removeTrailingSlashes(V.scopeDir));var i={};return new Me(new bn({classPath:"",name:e,dependencies:i}))};var t=Je.next(an.get(e("haxelib.json"),{fileName:"src/lix/cli/Cli.hx",lineNumber:247,className:"lix.cli.Cli",methodName:"dispatch"}),function(n){var e=n;return new Me(new bn(Re.catchExceptions(function(){return JSON.parse(e)},null,{fileName:"src/lix/cli/Cli.hx",lineNumber:248,className:"lix.cli.Cli",methodName:"dispatch"})))}).flatMap(function(n){switch(n._hx_index){case 0:var e=n.data;return new Me(new bn(e));case 1:var t=n.failure;return i(t)}});return Be.next(t.gather(),function(i){var t=A.replace(s,".","/")+".hx";var f=[{file:t,args:["-cp",e("")]},{file:"scripts/"+t,args:["-cp",e("scripts")]}];var r=i.classPath;if(r!=null){if(r!=""){var a=r;var l=""+a+"/"+t;var w;if(Nn.exists(V.libHxml(i.name))){w=["-lib",i.name]}else{var d=[];var c=i.dependencies;if(c!=null){var u=c;var v=u;var b=v;var N=h.fields(v);var S=0;while(S<N.length){var R=N[S++];var D={value:b[R],key:R};var M=D.key;var B=D.value;d.push("-lib");d.push(M)}}w=d.concat(["-cp",e(a)])}f.push({file:l,args:w})}}var W=0;while(W<f.length){var Z=[f[W]];++W;var q=m.join([V.scopeDir,Z[0].file]);if(Nn.exists(q)!=false){var C=[q];return Je.next(an.get(C[0],{fileName:"src/lix/cli/Cli.hx",lineNumber:290,className:"lix.cli.Cli",methodName:"dispatch"}),function(e,i){return function(t){var f=[];var r=t.split("\n");var a=0;if(A.startsWith(r[0],"#!")){++a}while(true){var l=A.trim(r[a++]);if(l!=""){var h=l;if(A.startsWith(h,"//!")){var w=0;var d=o.substr(h,3,null).split(" ");while(w<d.length){var c=d[w];++w;var u=A.trim(c);if(u!=""){var v=u;f.push(v)}}}else{break}}}f=f.concat(i[0].args);var b=n.slice(1);var N=V.getBuilds(f);switch(N._hx_index){case 0:var S=N.data;if(S.length==1){var R=S[0];switch(R._hx_index){case 0:var D=R.data;var M=D.checkClassPaths();if(M._hx_index==1){var B=M.failure;var W=B.result;var Z=B.errors;var q=Z[0];return new Me(new bn(Rn.Failure(new Re(q.code,sn.toString(q.pos)+": "+q.message,{fileName:"src/lix/cli/Cli.hx",lineNumber:320,className:"lix.cli.Cli",methodName:"dispatch"}))))}else{var C=D.args;var Y=D.cwd;var G=[];var J=0;var X=C;while(J<X.length){var j=X[J];++J;G.push(j.val)}var Q=G;var E=null;var T=0;var K=Q.length-1;n:while(T<K){var y=T++;switch(Q[y]){case"--define":case"-D":var H=Q[y+1];var I;if(H=="hxnodejs"){var L=Q.indexOf("-js");if(L==-1){var O=m.withExtension(m.withoutExtension(e[0]),"js");Q=Q.concat(["-js",O]);E=O}else{var z=L;E=Q[z+1]}break n}else{I=A.startsWith(H,"hxnodejs=");if(I==true){var P=Q.indexOf("-js");if(P==-1){var p=m.withExtension(m.withoutExtension(e[0]),"js");Q=Q.concat(["-js",p]);E=p}else{var U=P;E=Q[U+1]}break n}}break;default:}}Q=Q.concat(E==null?["--run",s].concat(b):["-main",s]);var F=V.haxeInstallation.compiler;var x=V.haxeInstallation.env();var k=fn.sync(F,Y,Q,x);switch(k._hx_index){case 0:var g=k.data;if(g==0){if(E==null){return new Me(new bn(Rn.Success(De.Noise)))}else{return Je.next(Je.next(an.get(E,{fileName:"src/lix/cli/Cli.hx",lineNumber:354,className:"lix.cli.Cli",methodName:"dispatch"}),function(){return function(n){var e=['try { require("fs").unlinkSync(__filename); } catch (e) {}',n].join("\n");return an.save(E,rn.ofString(e),{fileName:"src/lix/cli/Cli.hx",lineNumber:356,className:"lix.cli.Cli",methodName:"dispatch"})}}()),function(){return function(n){var e=[E].concat(b);var i=fn.sync("node",Y,e);switch(i._hx_index){case 0:var t=i.data;if(t==0){return new Me(new bn(Rn.Success(De.Noise)))}else{var s=t;return new Me(new bn(Rn.Failure(new Re(s,"node exited with code "+s,{fileName:"src/lix/cli/Cli.hx",lineNumber:364,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;case 1:var f=i.failure;return new Me(new bn(Rn.Failure(f)))}}}())}}else{var $=g;return new Me(new bn(Rn.Failure(new Re($,"haxe exited with code "+$,{fileName:"src/lix/cli/Cli.hx",lineNumber:369,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;case 1:var _=k.failure;return new Me(new bn(Rn.Failure(_)))}}break;case 1:var nn=R.failure;var en=nn.result;var tn=nn.errors;var ln=tn[0];return new Me(new bn(Rn.Failure(new Re(ln.code,sn.toString(ln.pos)+": "+ln.message,{fileName:"src/lix/cli/Cli.hx",lineNumber:320,className:"lix.cli.Cli",methodName:"dispatch"}))))}}else{return new Me(new bn(Rn.Failure(new Re(null,"multiple builds defined",{fileName:"src/lix/cli/Cli.hx",lineNumber:373,className:"lix.cli.Cli",methodName:"dispatch"}))))}break;case 1:var hn=N.failure;var wn=hn.result;var dn=hn.errors;var cn=dn[0];return new Me(new bn(Rn.Failure(new Re(cn.code,sn.toString(cn.pos)+": "+cn.message,{fileName:"src/lix/cli/Cli.hx",lineNumber:320,className:"lix.cli.Cli",methodName:"dispatch"}))))}}}(C,Z))}}return new Me(new bn(Rn.Failure(new Re(404,"Class not found: "+s,{fileName:"src/lix/cli/Cli.hx",lineNumber:381,className:"lix.cli.Cli",methodName:"dispatch"}))))})})}else{return I.None}}}}}}).handle(Tn.reportOutcome)};jn.isClassName=function(n){var e=o.cca(n.split(".").pop(),0);if(e>=65){return e<=90}else{return false}};var Qn={};e["lix.cli._Command.CommandExpander_Impl_"]=Qn;Qn.__name__="lix.cli._Command.CommandExpander_Impl_";Qn.ofString=function(n){var e=n.indexOf(" ");if(e==-1){throw new Bn('invalid expander syntax in "'+n+'"')}else{var i=e;return Qn.make(o.substr(n,0,i),o.substr(n,i+1,null))}};Qn.make=function(n,e){var i=new v("\\$\\{([0-9]+)\\}","g");var t=[];var s=-1;i.map(e,function(n){t.pop();var e=n.matchedLeft();var i=n.matchedRight();t.push(function(n){return e});var f=d.parseInt(n.matched(1));if(f>s){s=f}t.push(function(n){return n[f]});t.push(function(n){return i});return""});var f=function(n){var e=[];var i=0;var s=[];var f=0;while(f<t.length){var r=t[f];++f;s.push(r(n))}var a=s.join("").split(" ");while(i<a.length){var l=a[i];++i;var h=A.trim(l);var w;if(h==""){continue}else{var d=h;w=d}e.push(w)}return e};return function(e){var i=0;var t=e.length;while(i<t){var r=i++;if(e[r]==n){var a=e.slice(0,r);var l=e.slice(r+1,r+s+2);return I.Some(a.concat(f(l)).concat(e.slice(r+s+2)))}}return I.None}};var En={};e["lix.cli._Command.CommandName_Impl_"]=En;En.__name__="lix.cli._Command.CommandName_Impl_";En.ofString=function(n){return[n]};En.toString=function(n){if(n.length==1){var e=n[0];return e}else{var i=n;return i.join(" / ")}};En.eq=function(n,e){return n.indexOf(e)!=-1};var Tn=function(n,e,i,t){this.name=n;this.args=e;this.doc=i;this.exec=t};e["lix.cli.Command"]=Tn;Tn.__name__="lix.cli.Command";Tn.attempt=function(n,e){var i=je.ofSync(Tn.reportError);var t=n.flatMap(function(n){switch(n._hx_index){case 0:var e=n.data;return new Me(new bn(e));case 1:var t=n.failure;return i(t)}});t.gather().handle(e)};Tn.reportError=function(n){cn.get().error(n.message);process.exit(n.code);return null};Tn.reportOutcome=function(n){if(n._hx_index==1){var e=n.failure;Tn.reportError(e)}};Tn.expand=function(n,e){var i=true;while(i){i=false;var t=0;while(t<e.length){var s=e[t];++t;var f=s(n);if(f._hx_index==0){var r=f.v;n=r;i=true}}}return n};Tn.dispatch=function(n,e,i,t,s){var f=n.shift();if(f==null){process.stdout.write(d.string(e));process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var r=0;var a=0;while(a<i.length){var l=i[a];++a;var h=0;var w=0;var c=l.args.split("\n");while(w<c.length){var u=c[w];++w;if(u.length>h){h=u.length}}var v=h;var o=En.toString(l.name).length+v;if(o>r){r=o}}r+=7;var b=function(n){return A.lpad(n," ",r)};process.stdout.write("  Supported commands:");process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var N=0;while(N<i.length){var S=i[N];++N;var R=S.args.split("\n");var D="  "+En.toString(S.name);var M=R[0];var B;if(M==null){B=""}else if(M==""){B=""}else{var W=M;B=" "+W}R[0]=D+B+" : ";var Z=1;var q=R.length;while(Z<q){var C=Z++;R[C]+="   "}var Y=S.doc.split("\n");while(R.length<Y.length)R.push("");while(R.length>Y.length)Y.push("");var G=0;var V=R.length;while(G<V){var J=G++;var X=b(R[J]);process.stdout.write(d.string(X+Y[J]));process.stdout.write("\n")}}var j=0;while(j<t.length){var Q=t[j];++j;process.stdout.write("");process.stdout.write("\n");process.stdout.write(d.string("  "+Q.name));process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var E=0;var T=Q.value;while(E<T.length){var K=T[E];++E;var y=b(""+K.name+" : ")+K.value;process.stdout.write(d.string(y));process.stdout.write("\n")}}process.stdout.write("");process.stdout.write("\n");return new Me(new bn(Rn.Success(De.Noise)))}else{switch(f){case"--help":case"-help":case"/?":case"?":case"help":process.stdout.write(d.string(e));process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var H=0;var I=0;while(I<i.length){var L=i[I];++I;var O=0;var z=0;var P=L.args.split("\n");while(z<P.length){var m=P[z];++z;if(m.length>O){O=m.length}}var p=O;var U=En.toString(L.name).length+p;if(U>H){H=U}}H+=7;var F=function(n){return A.lpad(n," ",H)};process.stdout.write("  Supported commands:");process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var x=0;while(x<i.length){var k=i[x];++x;var g=k.args.split("\n");var $="  "+En.toString(k.name);var _=g[0];var nn;if(_==null){nn=""}else if(_==""){nn=""}else{var en=_;nn=" "+en}g[0]=$+nn+" : ";var tn=1;var sn=g.length;while(tn<sn){var fn=tn++;g[fn]+="   "}var rn=k.doc.split("\n");while(g.length<rn.length)g.push("");while(g.length>rn.length)rn.push("");var an=0;var ln=g.length;while(an<ln){var hn=an++;var wn=F(g[hn]);process.stdout.write(d.string(wn+rn[hn]));process.stdout.write("\n")}}var dn=0;while(dn<t.length){var cn=t[dn];++dn;process.stdout.write("");process.stdout.write("\n");process.stdout.write(d.string("  "+cn.name));process.stdout.write("\n");process.stdout.write("");process.stdout.write("\n");var un=0;var vn=cn.value;while(un<vn.length){var on=vn[un];++un;var Nn=F(""+on.name+" : ")+on.value;process.stdout.write(d.string(Nn));process.stdout.write("\n")}}process.stdout.write("");process.stdout.write("\n");return new Me(new bn(Rn.Success(De.Noise)));default:var Sn=f;var An=0;while(An<i.length){var Dn=i[An];++An;if(En.eq(Dn.name,Sn)){return Dn.exec(n)}}if(s!=null){n.unshift(Sn);var Mn=s(n);if(Mn._hx_index==0){var Bn=Mn.v;return Bn()}}return new Me(new bn(Rn.Failure(new Re(404,"Unknown command "+Sn+". Try `lix help`.",{fileName:"src/lix/cli/Command.hx",lineNumber:201,className:"lix.cli.Command",methodName:"dispatch"}))))}}};Tn.prototype={__class__:Tn};var Kn=function(){};e["lix.cli.HaxeCmd"]=Kn;Kn.__name__="lix.cli.HaxeCmd";Kn.ensureScope=function(){if(An.exists(An.DEFAULT_ROOT)){return new Me(new bn(Rn.Success(De.Noise)))}else{return An.create(An.DEFAULT_ROOT,{version:"stable",resolveLibs:"mixed"})}};var yn=s["lix.client.ArchiveKind"]={__ename__:"lix.client.ArchiveKind",__constructs__:["Zip","Tar","Custom"],Zip:{_hx_index:0,__enum__:"lix.client.ArchiveKind",toString:t},Tar:{_hx_index:1,__enum__:"lix.client.ArchiveKind",toString:t},Custom:(f=function(n){return{_hx_index:2,load:n,__enum__:"lix.client.ArchiveKind",toString:t}},f.__params__=["load"],f)};var Hn=s["lix.client.ArchiveDestination"]={__ename__:"lix.client.ArchiveDestination",__constructs__:["Fixed","Computed"],Fixed:(f=function(n){return{_hx_index:0,path:n,__enum__:"lix.client.ArchiveDestination",toString:t}},f.__params__=["path"],f),Computed:(f=function(n){return{_hx_index:1,f:n,__enum__:"lix.client.ArchiveDestination",toString:t}},f.__params__=["f"],f)};var In=s["lix.client.ArchiveDependency"]={__ename__:"lix.client.ArchiveDependency",__constructs__:["FromUrl","FromHxml"],FromUrl:(f=function(n){return{_hx_index:0,u:n,__enum__:"lix.client.ArchiveDependency",toString:t}},f.__params__=["u"],f),FromHxml:(f=function(n){return{_hx_index:1,path:n,__enum__:"lix.client.ArchiveDependency",toString:t}},f.__params__=["path"],f)};var Ln=function(n,e,i,t,s,f,r,a){this.name=n;this.version=e;this.classPath=i;this.runAs=t;this.dependencies=s;this.haxeshimDependencies=f;this.postDownload=r;this.postInstall=a};e["lix.client.ArchiveInfos"]=Ln;Ln.__name__="lix.client.ArchiveInfos";Ln.prototype={__class__:Ln};var On={};e["lix.client._Archives.HaxeshimDependencies_Impl_"]=On;On.__name__="lix.client._Archives.HaxeshimDependencies_Impl_";On.keyValueIterator=function(n){if(n==null){return o.iter([])}else{var e=n;return new p(e)}};var zn={};e["lix.client._Archives.ArchiveDependencies_Impl_"]=zn;zn.__name__="lix.client._Archives.ArchiveDependencies_Impl_";zn.ofHaxeshim=function(n){var e=[];var i=On.keyValueIterator(n);while(i.hasNext()){var t=i.next();var s=t.key;var f=t.value;e.push(new Ge(s,In.FromHxml(f)))}var r=e;r.sort(function(n,e){return h.compare(n.name,e.name)});return r};zn.ofMap=function(n){var e=[];var i=new p(n);while(i.hasNext()){var t=i.next();var s=t.key;var f=t.value;e.push(new Ge(s,f))}var r=e;r.sort(function(n,e){return h.compare(n.name,e.name)});return r};var Pn=function(n,e,i,t){this.alreadyDownloaded=true;this.storageRoot=e;this.relRoot=n;this.job=i;this.infos=t};e["lix.client.DownloadedArchive"]=Pn;Pn.__name__="lix.client.DownloadedArchive";Pn.getAbsRoot=function(n,e){return m.removeTrailingSlashes(""+n+"/"+e)};Pn.escape=function(n){if(n==null){return null}var e=0;var i=Pn.RESERVED.length;while(e<i){var t=e++;n=A.replace(n,Pn.RESERVED.charAt(t),"_")}return n};Pn.path=function(n){var e=Pn.escape;var i=new Array(n.length);var t=0;var s=n.length;while(t<s){var f=t++;i[f]=e(n[f])}return i.join("/")};Pn.fresh=function(n,e,i,t){var s=""+n+"/"+Pn.seekRoot(n);return Je.next(Pn.readInfos(s,t.lib),function(f){var r;if(i==null){var a=t.dest;var l;switch(a._hx_index){case 0:var h=a.path;l=h;break;case 1:var w=a.f;l=w(f);break}r=Pn.path(l)}else{r=i}var d=new Pn(r,e,t,f);d.alreadyDownloaded=false;var c=Pn.getAbsRoot(d.storageRoot,d.relRoot);if(f.haxeshimDependencies!=null){var u=m.removeTrailingSlashes(s).length;var v=f.name;var b=f.version;var N=f.classPath;var S=f.runAs;var R=f.dependencies;var A=new L;var D=0;var M=f.dependencies;while(D<M.length){var B=M[D];++D;var W=B.name;var Z=f.haxeshimDependencies;var q=B.name;var C;if(Z==null){C=null}else{var Y=Z;C=ei[q]!=null?Y.getReserved(q):Y.h[q]}var G=c+o.substr(C,u,null);if(ei[W]!=null){A.setReserved(W,G)}else{A.h[W]=G}}var V=new Ln(v,b,N,S,R,A,f.postDownload,f.postInstall);d.infos=V}var J=null;var X=Pn.getAbsRoot(d.storageRoot,d.relRoot);var j=Je.next(Je.next(Je.next(Je.next(an.exists(X),function(n){if(n){J=""+X+"-archived@"+(new Date).getTime();return an.move(X,J)}else{return new Me(new bn(Rn.Success(De.Noise)))}}),function(n){var e=Pn.getAbsRoot(d.storageRoot,d.relRoot);return an.move(s,e)}),function(n){return an.delete(J)}),function(e){return an.delete(n)});var Q=d;return Be._tryMap(j,function(n){return Q})})};Pn.existent=function(n,e,i){return Je.next(Pn.readInfos(Pn.getAbsRoot(e,n),i.lib),function(t){return new Me(new bn(Rn.Success(new Pn(n,e,i,t))))})};Pn.seekRoot=function(n){var e=Sn.readdirSync(n);if(e.length==1){var i=e[0];if(Nn.isDirectory(""+n+"/"+i)){return""+i+"/"+Pn.seekRoot(""+n+"/"+i)}else{return""}}else{return""}};Pn.readInfos=function(n,e){var i=Sn.readdirSync(n);var t=function(){if(i.indexOf("src")!=-1){return"src"}else if(i.indexOf("hx")!=-1){return"hx"}else{return""}};if(e==null){e=Un.UNDEFINED}var s;if(i.indexOf(".haxerc")!=-1&&i.indexOf("haxe_libraries")!=-1){var f=""+n+"/haxe_libraries";var r=new L;var a=0;var l=Sn.readdirSync(f);while(a<l.length){var w=l[a];++a;if(m.extension(w)=="hxml"){var d=m.withoutExtension(w);var c=""+f+"/"+w;if(ei[d]!=null){r.setReserved(d,c)}else{r.h[d]=c}}}s=r}else{s=null}var u;if(i.indexOf("haxelib.json")!=-1){var v=JSON.parse(Sn.readFileSync(""+n+"/haxelib.json",{encoding:"utf8"}));var o=v.name;var b=v.version;var N;var S=v.classPath;if(S==null){N=""}else{var R=S;N=R}var A=v.dependencies;var D;if(A==null){D=zn.ofHaxeshim(new L)}else{var M=A;var B=new L;var W=M;var Z=W;var q=h.fields(W);var C=0;while(C<q.length){var Y=q[C++];var G={value:Z[Y],key:Y};var V=G.key;var J=G.value;var X;var j;var Q;switch(J){case"":case"*":Q=ce.fromString("haxelib:"+V);break;default:X=ce.fromString(J).scheme;if(X==null){var E=J;Q=ce.fromString("haxelib:"+V+"#"+E)}else{j=ce.fromString(J);var T=j.query==null?j.path:j.path+"?"+j.query;var K=j.scheme;var y=j.query;var H=j.payload;var O=j.path;var z=j.hosts;var P=j.host;var p=j.hash;var U=j.auth;if(K==null){var F=J;Q=ce.fromString(F)}else if(K=="git"){if(y==null){var x=ce.fromString(H);var k=x.query==null?x.path:x.path+"?"+x.query;var g=x.scheme;var $=x.query;var _=x.payload;var nn=x.path;var en=x.hosts;var tn=x.host;var sn=x.hash;var fn=x.auth;if(tn==null){var rn=J;Q=ce.fromString(rn)}else{var an=ze.get_port(tn);var ln=ze.get_name(tn);if(ln==null){var hn=J;Q=ce.fromString(hn)}else{switch(ln){case"github.com":case"gitlab.com":if(g==null){var wn=J;Q=ce.fromString(wn)}else if(g=="https"){var dn=x;Q=dn}else{var cn=J;Q=ce.fromString(cn)}break;default:var un=J;Q=ce.fromString(un)}}}}else{var vn=ce.fromString(H);var on=vn.query==null?vn.path:vn.path+"?"+vn.query;var An=vn.scheme;var Dn=vn.query;var Mn=vn.payload;var Bn=vn.path;var Wn=vn.hosts;var Zn=vn.host;var qn=vn.hash;var Cn=vn.auth;if(Zn==null){var Yn=J;Q=ce.fromString(Yn)}else{var Gn=ze.get_port(Zn);var Vn=ze.get_name(Zn);if(Vn==null){var Jn=J;Q=ce.fromString(Jn)}else{switch(Vn){case"github.com":case"gitlab.com":if(An==null){var Xn=J;Q=ce.fromString(Xn)}else if(An=="https"){var jn=vn;Q=jn}else{var Qn=J;Q=ce.fromString(Qn)}break;default:var En=J;Q=ce.fromString(En)}}}}}else{var Tn=J;Q=ce.fromString(Tn)}}}var Kn=In.FromUrl(Q);if(ei[V]!=null){B.setReserved(V,Kn)}else{B.h[V]=Kn}}D=zn.ofMap(B)}u=new Ln(o,b,N,function(n){if(Nn.exists(""+n.libRoot+"/run.n")||v.mainClass!=null){return I.Some("haxelib run-dir "+v.name+" $"+"{DOWNLOAD_LOCATION}")}else{return I.None}},D,s,v.postDownload,v.postInstall)}else if(i.indexOf("package.json")!=-1){var yn=JSON.parse(Sn.readFileSync(""+n+"/package.json",{encoding:"utf8"}));u=new Ln(yn.name,yn.version,t(),function(n){return I.None},zn.ofHaxeshim(s),null,null,null)}else{var Hn=e.name;var On=new bn("untitled");var Pn;if(Hn._hx_index==0){var mn=Hn.v;Pn=mn}else{Pn=On.get()}var pn=e.version;var Fn=new bn("0.0.0");var xn;if(pn._hx_index==0){var kn=pn.v;xn=kn}else{xn=Fn.get()}u=new Ln(Pn,xn,t(),function(n){return I.None},zn.ofHaxeshim(s),null,null,null)}return new Me(new bn(Rn.Success(u)))};Pn.prototype={__class__:Pn};var mn=i(766);var pn=function(){};e["lix.client.Download"]=pn;pn.__name__="lix.client.Download";pn.text=function(n){return Je.next(pn.bytes(n),function(n){return new Me(new bn(Rn.Success(n.toString())))})};pn.bytes=function(n){return pn.download(n,function(n,e,i){pn.buffered(e).handle(i)})};pn.buffered=function(n){return Be.async(function(e){var i=[];n.on("data",$bind(i,$arrayPush));n.on("end",function(){var n=Rn.Success(Jn.bytesOfBuffer(Vn.concat(i)));e(n)})})};pn.archive=function(n,e,i,t){var s=pn.withLogger(t,function(t,s,f){if(s.headers["content-type"]=="application/zip"||A.endsWith(n,".zip")||A.endsWith(t,".zip")){pn.unzip(n,i,e,s,f)}else{pn.untar(n,i,e,s,f)}});return pn.download(n,s)};pn.unzip=function(n,e,t,s,f){Je.next(pn.buffered(s),function(s){return Be.async(function(r){var a=s.length-4;while(a-- >0)if(s.b[a]==80&&s.b[a+1]==75&&s.b[a+2]==5&&s.b[a+3]==6){s.b[a+20]=0;s.b[a+21]=0;s=s.sub(0,a+22);break}if(a==0){var l=Rn.Failure(new Re(422,"Unzip failed to find central directory in "+n,{fileName:"src/lix/client/Download.hx",lineNumber:70,className:"lix.client.Download",methodName:"unzip"}));r(l);return}var h=s.b;mn.fromBuffer(Vn.from(h.buffer,h.byteOffset,s.length),function(s,a){var l=-1;var h=function(){l+=1;f.onProgress(l,a.entryCount,false);if(l==a.entryCount){var n=r;var i=Rn.Success(e);G.delay(function(){n(i)},100)}};if(s!=null){var w=Rn.Failure(new Re(422,"Failed to unzip "+n+" because "+d.string(s),{fileName:"src/lix/client/Download.hx",lineNumber:83,className:"lix.client.Download",methodName:"unzip"}));r(w)}a.on("entry",function(n){var s=an.peel(pn.stripLeadingSlashes(n.fileName),t);switch(s._hx_index){case 0:var f=s.v;var r=""+e+"/"+f;if(A.endsWith(r,"/")){h()}else{an.ensureDir(r).eager();a.openReadStream(n,function(n,e){var t=i(598).createWriteStream(r);e.pipe(t,{end:true});t.on("close",h)})}break;case 1:break}});a.on("end",function(){a.close();h()})})})}).handle($bind(f,f.done))};pn.stripLeadingSlashes=function(n){if(n.charAt(0)=="/"){return pn.stripLeadingSlashes(o.substr(n,1,null))}else{return n}};pn.untar=function(n,e,t,s,f){return Be.async(function(n){var r=0;var a=0;var l=[];var h=function(){f.onProgress(a,r+1,true)};var w=1;var d=function(i){if(i==null){i=0}a+=i;h();G.delay(function(){if((w-=1)<=0){f.onProgress(r,r,true);var i=[];var t=0;while(t<l.length){var s=[l[t]];++t;i.push(Be.async(function(n){return function(e){Sn.unlink(n[0].to,function(n){return function(i){Sn.symlink(n[0].from,n[0].to,function(){return function(n){var i=n==null?Rn.Success(De.Noise):Rn.Failure(new Re(null,n.message,{fileName:"src/lix/client/Download.hx",lineNumber:142,className:"lix.client.Download",methodName:"untar"}));e(i)}}())}}(n))}}(s)))}Je.next(Je.inParallel(i),function(n){return new Me(new bn(Rn.Success(e)))}).handle(n)}},100)};var c=null;var u=function(e){c=new Re(null,e,{fileName:"src/lix/client/Download.hx",lineNumber:154,className:"lix.client.Download",methodName:"untar"});n(Rn.Failure(c))};he.parse(s,function(s){if(c!=null){return}r+=s.size;h();var f=function(){s.on("data",function(){})};var a=an.peel(pn.stripLeadingSlashes(s.path),t);switch(a._hx_index){case 0:var u=a.v;var v=""+e+"/"+u;if(A.endsWith(v,"/")){f()}else{an.ensureDir(v).handle(function(e){if(e._hx_index==1){var t=e.failure;c=t;n(Rn.Failure(c))}else if(s.type=="SymbolicLink"){f();var r=m.directory(v);l.push({from:m.join([r,s.linkpath]),to:v})}else{w+=1;var a=new Xn;var h=i(598).createWriteStream(v,{mode:s.mode});s.pipe(a,{end:true});a.pipe(h,{end:true});var u=d;var o=s.size;h.on("close",function(){u(o)})}})}break;case 1:f();break}}).handle(function(e){if(e._hx_index==1){var i=e.failure;n(Rn.Failure(i))}else{d()}})}).handle($bind(f,f.done))};pn.tar=function(n,e,i,t){var s=i;var f=e;return pn.download(n,pn.withLogger(t,function(n,e,i){return pn.untar(n,s,f,e,i)}))};pn.zip=function(n,e,i,t){var s=i;var f=e;return pn.download(n,pn.withLogger(t,function(n,e,i){pn.unzip(n,s,f,e,i)}))};pn.withLogger=function(n,e){return function(i,t,s){var f=d.parseInt(t.headers["content-length"]);var r=0;var a=0;var l=1;var h=null;var w=function(e){if(e==h){return}h=e;n.progress(e)};var c=function(n){n=Math.min(1,Math.max(0,n));var e=d.string(Math.round(1e3*n)/10);var i;if(e.indexOf(".")==-1){var t=e;i=""+t+".0"}else{var s=e;i=s}return A.lpad(i," ",5)+"%"};var u=new Date(0).getTime();var v=function(){if(!(a==l||a/l>=1)){var n=(new Date).getTime();if(n>u+137){u=n;var e=[];if(r<f){e.push("Downloaded: "+c(r/f))}if(a>0){e.push("Saved: "+c(a/l))}var i="   "+e.join("   ");w(i)}}};t.on("data",function(n){r+=n.length;v()});var o=0;e(i,t,{onProgress:function(n,e,i){a=n;l=e;if(i){var t=r/f;var s=a/l;var h=t*s;if(h<o){h=o}o=h;a=Math.round(h*1e3);l=1e3}v()},done:function(e){n.success("-> Done!");s(e)}})}};pn.download=function(n,e){return Be.async(function(i){var t=Gn.parse(n);t.agent=false;if(t.headers==null){t.headers={}}t.headers["user-agent"]=pn.USER_AGENT;var s=function(e){var t=Rn.Failure(Re.withData(null,"Failed to download "+n+" because "+e.message,e,{fileName:"src/lix/client/Download.hx",lineNumber:293,className:"lix.client.Download",methodName:"download"}));i(t)};var f=A.startsWith(n,"https:")?qn.get(t):Zn.get(t);f.setTimeout(3e4);f.on("error",s);f.on("response",function(f){if(f.statusCode>=400){var r=Rn.Failure(Re.withData(f.statusCode,f.statusMessage,f,{fileName:"src/lix/client/Download.hx",lineNumber:304,className:"lix.client.Download",methodName:"download"}));i(r)}else{var a=f.headers["location"];if(a==null){f.on("error",s);e(n,f,function(n){switch(n._hx_index){case 0:var e=n.data;i(Rn.Success(e));break;case 1:var t=n.failure;i(Rn.Failure(t));break}})}else{var l=a;var h=Gn.parse(l);var w=h.slashes;var d=h.search;var c=h.query;var u=h.port;var v=h.pathname;var o=h.path;var b=h.href;var N=h.hostname;var S=h.host;var R=h.hash;var A=h.auth;pn.download(h.protocol==null?t.protocol+"//"+t.host+l:l,e).handle(i)}}})})};var Un=function(n,e){this.name=n;this.version=e};e["lix.client.LibVersion"]=Un;Un.__name__="lix.client.LibVersion";Un.parse=function(n){if(n==null){return null}else{var e=n.indexOf("#");if(e==-1){return new Un(I.Some(n),I.None)}else{var i=e;return new Un(I.Some(n.substring(0,i)),I.Some(n.substring(i+1)))}}};Un.prototype={__class__:Un};var Fn=function(n,e,i,t,s){this.scope=n;this.urlToJob=e;this.resolver=i;this.logger=t;this.force=s};e["lix.client.Libraries"]=Fn;Fn.__name__="lix.client.Libraries";Fn.prototype={downloadUrl:function(n,e){return this.downloadArchive(this.urlToJob(n),e)},downloadArchive:function(n,e){var i=this;if(e==null){e={}}var t=e.into==null?null:e.into;return Je.next(n,function(n){var e=null;if(t==null){var s=n.dest;switch(s._hx_index){case 0:var f=s.path;t=Pn.path(f);break;case 1:var r=s.f;e=""+i.scope.libCache+"/.cache/libNames/"+Pn.escape(ce.toString(n.url));if(Nn.exists(e)){t=Sn.readFileSync(e,{encoding:"utf8"})}break}}var a=t!=null&&Nn.exists(""+i.scope.libCache+"/"+t);if(a&&!i.force){i.logger.success("already downloaded: "+ce.toString(n.normalized));return Pn.existent(t,i.scope.libCache,n)}else{i.logger.info(""+(a?"forcedly redownloading":"downloading")+" "+ce.toString(n.normalized));var l=i.scope.haxeshimRoot+"/downloads/download@"+(new Date).getTime();var h=n.kind;var w;if(h==null){w=pn.archive(ce.toString(n.url),0,l,i.logger)}else{switch(h._hx_index){case 0:w=pn.zip(ce.toString(n.url),0,l,i.logger);break;case 1:w=pn.tar(ce.toString(n.url),0,l,i.logger);break;case 2:var d=h.load;w=d({dest:l,logger:i.logger,source:n.normalized,scope:i.scope});break}}return Je.next(Je.next(w,function(e){return Pn.fresh(e,i.scope.libCache,t,n)}),function(n){if(e!=null){var i=n;return Be._tryMap(an.save(e,rn.ofString(n.relRoot),{fileName:"src/lix/client/Libraries.hx",lineNumber:59,className:"lix.client.Libraries",methodName:"downloadArchive"}),function(n){return i})}else{return new Me(new bn(Rn.Success(n)))}})}})},installUrl:function(n,e,i){return this.installArchive(this.urlToJob(n),e,i)},installFromLibHxml:function(n,e){var i=this;var t=this.scope.libHxml(n);return Je.next(Je.next(Je.next(Je.next(Je.next(Je.next(an.copy(e,""+this.scope.scopeLibDir+"/"+n+".hxml"),function(e){return i.scope.getDirectives(n)}),function(n){var t=ei["install"]!=null?n.getReserved("install"):n.h["install"];if(t==null){return new Me(new bn(Rn.Failure(new Re(null,"No install directive in "+e,{fileName:"src/lix/client/Libraries.hx",lineNumber:75,className:"lix.client.Libraries",methodName:"installFromLibHxml"}))))}else if(t.length==0){return new Me(new bn(Rn.Failure(new Re(null,"No install directive in "+e,{fileName:"src/lix/client/Libraries.hx",lineNumber:75,className:"lix.client.Libraries",methodName:"installFromLibHxml"}))))}else{var s=t;var f=[];var r=0;while(r<s.length){var a=[s[r]];++r;f.push(Je.next(Je.NOISE,function(n){return function(e){i.logger.info(n[0]);return new Me(new bn(fn.shell(n[0],i.scope.scopeDir)))}}(a)))}return Je.inSequence(f)}}),function(n){return an.get(e,{fileName:"src/lix/client/Libraries.hx",lineNumber:84,className:"lix.client.Libraries",methodName:"installFromLibHxml"})}),function(n){return new Me(new bn(Rn.Success(x.fromMultilineString(n,t,(f=i.scope,$bind(f,f.getVar))))))}),function(n){switch(n._hx_index){case 0:var e=n.data;var i=[];var t=0;while(t<e.length){var s=e[t];++t;i.push(s.val)}return new Me(new bn(Rn.Success(i)));case 1:var f=n.failure.errors[0];return new Me(new bn(Rn.Failure(new Re(f.code,f.message,{fileName:"src/lix/client/Libraries.hx",lineNumber:88,className:"lix.client.Libraries",methodName:"installFromLibHxml"}))))}}),function(n){var e=[];var i=n;var t=0;var s=i.length;while(t<s){var f=t++;var r=i[f];if(r=="-lib"){e.push(n[f++])}}return new Me(new bn(Rn.Success(e)))})},dev:function(n,e){var i=this;var t=e;var s=Re.catchExceptions(function(){return Sn.readdirSync(t)},null,{fileName:"src/lix/client/Libraries.hx",lineNumber:94,className:"lix.client.Libraries",methodName:"dev"});if(s._hx_index==0){var f=s.data;if(f.indexOf("haxelib.json")!=-1){var r=""+e+"/haxelib.json";return Je.next(Je.next(an.get(r,{fileName:"src/lix/client/Libraries.hx",lineNumber:98,className:"lix.client.Libraries",methodName:"dev"}),function(n){try{return new Me(new bn(Rn.Success(JSON.parse(n))))}catch(n){var e=n instanceof Bn?n.val:n;return new Me(new bn(Rn.Failure(new Re(null,"cannot parse "+r,{fileName:"src/lix/client/Libraries.hx",lineNumber:101,className:"lix.client.Libraries",methodName:"dev"}))))}}),function(t){var s=[];if(t.dependencies!=null){var r=t.dependencies;var a=o.iter(h.fields(r));while(a.hasNext()){var l=a.next();var w=r[l];s.push("-lib "+l)}}var d=t.version;var c;if(d==null){c="dev"}else{var u=d;c=u}s.push("-D "+n+"="+c);var v=t.classPath;var b;if(v==null){b=e}else{var N=v;b=m.join([e,N])}s.push("-cp "+b);var S=s.length;if(f.indexOf("extraParams.hxml")!=-1){s.push(""+e+"/extraParams.hxml")}s.push('--macro Sys.println("haxe_libraries/'+n+".hxml:"+S+": [Warning] Using dev version of library "+n+'")');return an.save(i.scope.libHxml(n),rn.ofString(s.join("\n")),{fileName:"src/lix/client/Libraries.hx",lineNumber:124,className:"lix.client.Libraries",methodName:"dev"})})}else{return new Me(new bn(Rn.Failure(new Re(null,""+e+" does not contain haxelib.json",{fileName:"src/lix/client/Libraries.hx",lineNumber:128,className:"lix.client.Libraries",methodName:"dev"}))))}}else{return new Me(new bn(Rn.Failure(new Re(null,""+e+" is not a readable directory",{fileName:"src/lix/client/Libraries.hx",lineNumber:130,className:"lix.client.Libraries",methodName:"dev"}))))}},installArchive:function(n,e,i){var t=this;if(i==null){i={}}if(i.alreadyInstalled==null){i.alreadyInstalled=new L}if(i.flat==null){i.flat=false}return Je.next(this.downloadArchive(n),function(n){var s;var f=""+Pn.getAbsRoot(n.storageRoot,n.relRoot)+"/extraParams.hxml";s=Nn.exists(f)?Sn.readFileSync(f,{encoding:"utf8"}):"";if(e==null){e=new Un(I.None,I.None)}var r=n.infos;var a=e.name;var l=new bn(r.name);var h;if(a._hx_index==0){var w=a.v;h=w}else{h=l.get()}var d=e.version;var c=new bn(r.version);var u;if(d._hx_index==0){var v=d.v;u=v}else{u=c.get()}if(h==null){return new Me(new bn(Rn.Failure(new Re(null,"Could not determine library name for "+ce.toString(n.job.normalized),{fileName:"src/lix/client/Libraries.hx",lineNumber:159,className:"lix.client.Libraries",methodName:"installArchive"}))))}var b=t.scope.libHxml(h);var N="$"+"{"+"HAXE_LIBCACHE"+"}/"+n.relRoot;var S=function(n){return t.scope.interpolate(n,function(n){if(n=="DOWNLOAD_LOCATION"){return N}else{return null}})};var R=function(n,e,i){if(e!=null){e=S(e);if(i==null){i=t.scope.cwd}t.logger.info("Running "+n+" hook:");t.logger.info("> "+e);return new Me(new bn(Ve.map(fn.shell(e,t.scope.interpolate(i),t.scope.haxeInstallation.env()),function(n){return De.Noise})))}else{return new Me(new bn(Rn.Success(De.Noise)))}};var A=function(e){var f=["# @"+"install"+': lix --silent download "'+ce.toString(n.job.normalized)+'" into '+n.relRoot];var a=r.postDownload;if(a!=null){var l=a;f.push("# @"+"post-install"+": cd "+N+" && "+S(l))}var w=r.runAs({libRoot:t.scope.interpolate(N)});switch(w._hx_index){case 0:var d=w.v;f.push("# @run: "+Ve.sure(x.interpolate(d,function(n){if(n=="DOWNLOAD_LOCATION"){return N}else{var e=n;return"$"+"{"+e+"}"}})));break;case 1:break}var c=[];var v=0;var o=r.dependencies;while(v<o.length){var R=o[v];++v;c.push("-lib "+R.name)}var A="-cp "+N+"/"+r.classPath;var D="-D "+h+"="+u;var M=f.concat(c).concat([A,D,s]).join("\n");return Je.next(an.save(b,rn.ofString(M),{fileName:"src/lix/client/Libraries.hx",lineNumber:211,className:"lix.client.Libraries",methodName:"installArchive"}),function(n){var t=i.alreadyInstalled;if(ei[h]!=null){t.setReserved(h,true)}else{t.h[h]=true}return new Me(new bn(Rn.Success(e)))})};var D=function(){if(i.flat){return Je.NOISE}else{var n=[];var e=o.iter(r.dependencies);while(e.hasNext()){var s=e.next();var f=[s.value];var a=[s.name];n.push(Be.async(function(n,e){return function(s){var f;if(Nn.exists(""+t.scope.scopeLibDir+"/"+n[0]+".hxml")){var a=i.alreadyInstalled;f=ei[n[0]]!=null?a.getReserved(n[0]):a.h[n[0]]}else{f=false}if(f){s(Rn.Success(De.Noise))}else{var l=r.haxeshimDependencies;var h;if(l==null){h=null}else{var w=l;h=ei[n[0]]!=null?w.getReserved(n[0]):w.h[n[0]]}switch(e[0]._hx_index){case 0:if(h==null){var d=e[0].u;Je.next(t.installUrl(d,new Un(I.Some(n[0]),I.None),i),function(n){return function(e){var t=i.alreadyInstalled;if(ei[n[0]]!=null){t.setReserved(n[0],true)}else{t.h[n[0]]=true}return new Me(new bn(Rn.Success(e)))}}(n)).handle(s)}else{var c=h;var u=null;u=function(){return function(n,e){return Je.noise(Je.next(t.installFromLibHxml(n,e),function(){return function(e){var t=i.alreadyInstalled;if(ei[n]!=null){t.setReserved(n,true)}else{t.h[n]=true}var s=[];var f=0;while(f<e.length){var a=e[f];++f;var l=r.haxeshimDependencies;var h;if(l==null){h=null}else{var w=l;h=ei[a]!=null?w.getReserved(a):w.h[a]}s.push(u(a,h))}var d=Be.ofMany(s).map(Rn.Success);return d.gather()}}()))}}();u(n[0],c).handle(s)}break;case 1:var v=e[0].path;var o=null;o=function(){return function(n,e){return Je.noise(Je.next(t.installFromLibHxml(n,e),function(){return function(e){var t=i.alreadyInstalled;if(ei[n]!=null){t.setReserved(n,true)}else{t.h[n]=true}var s=[];var f=0;while(f<e.length){var a=e[f];++f;var l=r.haxeshimDependencies;var h;if(l==null){h=null}else{var w=l;h=ei[a]!=null?w.getReserved(a):w.h[a]}s.push(o(a,h))}var d=Be.ofMany(s).map(Rn.Success);return d.gather()}}()))}}();o(n[0],v).handle(s);break}}}}(a,f),true))}return Be.next(Be.ofMany(n),function(n){var e=[];var i=o.iter(n);while(i.hasNext()){var t=i.next();if(t._hx_index==1){var s=t.failure;e.push(s)}}var f=e;if(f.length==0){return new Me(new bn(Rn.Success(De.Noise)))}else{var r=f;var a="Failed to install dependencies of "+h+" :\n  ";var l=new Array(r.length);var w=0;var d=r.length;while(w<d){var c=w++;l[c]=r[c].message}return new Me(new bn(Rn.Failure(Re.withData(null,a+l.join("\n  "),r,{fileName:"src/lix/client/Libraries.hx",lineNumber:264,className:"lix.client.Libraries",methodName:"installArchive"}))))}})}};return Je.next(Je.next(Je.next(Je.next(Je.next(A(),function(n){t.logger.success("-> mounted as "+h+"#"+u);return new Me(new bn(Rn.Success(De.Noise)))}),function(n){return D()}),function(e){if(!n.alreadyDownloaded){return R("post download",r.postDownload,N)}else{return new Me(new bn(Rn.Success(De.Noise)))}}),A),function(n){return R("post install",r.postInstall)})})},__class__:Fn};var xn={};e["lix.client.haxe._Official.Official_Impl_"]=xn;xn.__name__="lix.client.haxe._Official.Official_Impl_";xn.get_isPrerelease=function(n){return n.indexOf("-")!=-1};xn.isNumber=function(n){return new v("^[0-9]*$","").match(n)};xn.fragment=function(n,e){if(xn.isNumber(n)&&xn.isNumber(e)){return d.parseInt(n)-d.parseInt(e)}else{return h.compare(n,e)}};xn.compare=function(n,e){var i=n.split("-");var t=e.split("-");var s=0;while(s<i.length&&s<t.length){var f=i[s].split(".");var r=t[s++].split(".");var a=0;while(a<f.length&&a<r.length){var l=xn.fragment(f[a],r[a]);if(l==0){++a}else{var h=l;return-h}}var w=f.length-r.length;if(w!=0){var d=w;return-d}}return(i.length-t.length)*(s==1?1:-1)};var kn=s["lix.client.haxe.ResolvedUserVersionData"]={__ename__:"lix.client.haxe.ResolvedUserVersionData",__constructs__:["RNightly","ROfficial","RCustom"],RNightly:(f=function(n){return{_hx_index:0,nightly:n,__enum__:"lix.client.haxe.ResolvedUserVersionData",toString:t}},f.__params__=["nightly"],f),ROfficial:(f=function(n){return{_hx_index:1,version:n,__enum__:"lix.client.haxe.ResolvedUserVersionData",toString:t}},f.__params__=["version"],f),RCustom:(f=function(n){return{_hx_index:2,path:n,__enum__:"lix.client.haxe.ResolvedUserVersionData",toString:t}},f.__params__=["path"],f)};var gn={};e["lix.client.haxe._ResolvedVersion.ResolvedVersion_Impl_"]=gn;gn.__name__="lix.client.haxe._ResolvedVersion.ResolvedVersion_Impl_";gn.get_id=function(n){switch(n._hx_index){case 0:var e=n.nightly;var i=e.published;var t=e.file;var s=e.development;var f=e.hash;return f;case 1:var r=n.version;return r;case 2:var a=n.path;return a}};gn.toString=function(n){return ne.toString(ne.ofResolved(n))};var $n=s["lix.client.haxe.PickOfficial"]={__ename__:"lix.client.haxe.PickOfficial",__constructs__:["StableOnly","IncludePrereleases"],StableOnly:{_hx_index:0,__enum__:"lix.client.haxe.PickOfficial",toString:t},IncludePrereleases:{_hx_index:1,__enum__:"lix.client.haxe.PickOfficial",toString:t}};var _n=function(n,e){this.scope=n;this.logger=e;an.ensureDir(m.addTrailingSlash(n.versionDir)).eager();an.ensureDir(m.addTrailingSlash(n.haxelibRepo)).eager();an.ensureDir(this.downloads=n.haxeshimRoot+"/downloads/").eager()};e["lix.client.haxe.Switcher"]=_n;_n.__name__="lix.client.haxe.Switcher";_n.linkToNightly=function(n,e,i){if(i==null){var t=_n.PLATFORM=="windows"&&e.getTime()>14944608e5?"zip":"tar.gz";i=u.format(e,"haxe_%Y-%m-%d_development_"+n+"."+t)}return u.format(e,""+_n.NIGHTLIES+"/"+_n.PLATFORM+"/"+i)};_n.sortedOfficial=function(n,e){if(n==$n.StableOnly){var i=[];var t=0;while(t<e.length){var s=e[t];++t;if(!xn.get_isPrerelease(s)){i.push(s)}}e=i}e.sort(xn.compare);return e};_n.officialOnline=function(n){return Je.next(pn.text("https://haxe.org/website-content/downloads/versions.json"),function(e){var i=JSON.parse(e).versions.map(function(n){return n.version});return new Me(new bn(Rn.Success(_n.sortedOfficial(n,i))))})};_n.sortedNightlies=function(n){n.sort(function(n,e){return h.compare(e.published.getTime(),n.published.getTime())});return n};_n.nightliesOnline=function(){return Je.next(pn.text(""+_n.NIGHTLIES+"/"+_n.PLATFORM+"/"),Xe.ofSafeSync(function(n){var e=n.split("------------------\n").pop().split("\n");var i=[];var t=function(n){try{return I.Some(o.strDate(n))}catch(n){var e=n instanceof Bn?n.val:n;return I.None}};var s=0;while(s<e.length){var f=e[s];++s;var r=A.trim(f).split('<a href="');if(r.length==2){var a=r[1];var l=t(r[0].split("  ")[0]);if(l._hx_index==0){var h;h=a.split('"')[0];var w=h;var d=l.v;var c=w.split(".")[0].split("_").pop();if(c==null){var u=c;i.push({hash:u,file:w,development:w.indexOf("_development_")!=-1,published:d})}else if(c!="latest"){var v=c;i.push({hash:v,file:w,development:w.indexOf("_development_")!=-1,published:d})}}}}return _n.sortedNightlies(i)}))};_n.attempt=function(n,e){try{return new Me(new bn(Rn.Success(e.get())))}catch(e){return new Me(new bn(Rn.Failure(new Re(null,"Failed to "+n+" because "+d.string(e instanceof Bn?e.val:e),{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:106,className:"lix.client.haxe.Switcher",methodName:"attempt"}))))}};_n.pickFirst=function(n,e,i){if(i==null){return _n.pickFirst(n,e,function(n){return true})}else{return function(t){var s=$getIterator(t);while(s.hasNext()){var f=s.next();if(i(f)){return new Me(new bn(Rn.Success(e(f))))}}return new Me(new bn(Rn.Failure(new Re(404,"No "+n+" build found",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:140,className:"lix.client.haxe.Switcher",methodName:"pickFirst"}))))}}};_n.ensureNeko=function(n){var e=Dn.PATH;if(Nn.exists(e)){return new Me(new bn(Rn.Success(e)))}else{n.info("Neko seems to be missing. Attempting download ...");var i;switch(a.systemName()){case"Mac":i=pn.tar("https://github.com/HaxeFoundation/neko/releases/download/v2-3-0/neko-2.3.0-osx64.tar.gz",1,e,n);break;case"Windows":i=pn.zip("https://github.com/HaxeFoundation/neko/releases/download/v2-3-0/neko-2.3.0-win.zip",1,e,n);break;default:i=pn.tar("https://github.com/HaxeFoundation/neko/releases/download/v2-3-0/neko-2.3.0-linux64.tar.gz",1,e,n)}return Je.next(i,function(e){n.success("done");return new Me(new bn(Rn.Success(e)))})}};_n.prototype={officialInstalled:function(n){var e=[];var i=0;var t=Sn.readdirSync(this.scope.versionDir);while(i<t.length){var s=t[i];++i;if(!ne.isHash(s)&&Nn.isDirectory(this.versionDir(s))){e.push(s)}}return _n.attempt("Get installed Haxe versions",new bn(_n.sortedOfficial(n,e)))},nightliesInstalled:function(){var n=[];var e=0;var i=ne.isHash;var t=[];var s=0;var f=Sn.readdirSync(this.scope.versionDir);while(s<f.length){var r=f[s];++s;if(i(r)){t.push(r)}}var a=t;while(e<a.length){var l=a[e];++e;n.push({hash:l,published:o.strDate(JSON.parse(Sn.readFileSync(""+this.versionDir(l)+"/"+_n.VERSION_INFO,{encoding:"utf8"})).published)})}return _n.attempt("get installed Haxe versions",new bn(_n.sortedNightlies(n)))},switchTo:function(n){if(gn.get_id(n)==this.scope.config.version){return new Me(new bn(Rn.Success(De.Noise)))}else{return this.scope.reconfigure({version:gn.get_id(n),resolveLibs:this.scope.config.resolveLibs})}},resolveInstalled:function(n){return this.resolve(n,$bind(this,this.officialInstalled),$bind(this,this.nightliesInstalled))},resolveOnline:function(n){return this.resolve(n,_n.officialOnline,_n.nightliesOnline)},resolve:function(n,e,i){switch(n._hx_index){case 0:return Je.next(i(),_n.pickFirst("nightly",kn.RNightly,function(n){return n.development!=false}));case 1:return Je.next(e($n.IncludePrereleases),_n.pickFirst("official",kn.ROfficial));case 2:return Je.next(e($n.StableOnly),_n.pickFirst("stable",kn.ROfficial));case 3:var t=n.hash;return Je.ofSpecific(Je.next(i(),function(e){var i=$getIterator(e);while(i.hasNext()){var s=i.next();if(s.hash==t){return new Me(new bn(Rn.Success(kn.RNightly(s))))}}return new Me(new bn(Rn.Failure(new Re(404,"Unable to resolve nightly version "+ne.toString(n)+" locally, install it first with `lix install haxe "+ne.toString(n)+"`",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:165,className:"lix.client.haxe.Switcher",methodName:"resolve"}))))}));case 4:var s=n.version;return Je.ofSpecific(Je.next(e($n.IncludePrereleases),function(n){if(N.has(n,s)){return new Me(new bn(Rn.Success(kn.ROfficial(s))))}else{return new Me(new bn(Rn.Failure(new Re(404,"Unable to resolve version "+s+" locally, install it first with `lix install haxe "+s+"`",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:173,className:"lix.client.haxe.Switcher",methodName:"resolve"}))))}}));case 5:var f=n.path;return new Me(new bn(Rn.Success(kn.RCustom(f))))}},versionDir:function(n){return this.scope.getInstallation(n).path},isDownloaded:function(n){return Nn.exists(this.versionDir(gn.get_id(n)))},linkToOfficial:function(n){var e="https://haxe.org/website-content/downloads/"+n+"/downloads/haxe-"+n+"-";var i;switch(a.systemName()){case"Mac":i="osx.tar.gz";break;case"Windows":i="win.zip";break;default:i=n<"3"?"linux.tar.gz":"linux64.tar.gz"}return e+i},replace:function(n,e,i,t){var s=e;while(true){var f=an.ls(e);if(f.length==1){var r=f[0];e=r}else{break}}if(t!=null){t(e)}if(Nn.exists(n)){var a=""+this.downloads+"/"+i+"@"+Math.floor(Sn.statSync(n).ctime.getTime());Sn.renameSync(n,a);Sn.renameSync(e,n)}else{Sn.renameSync(e,n)}if(Nn.exists(s)){an.delete(s)}},install:function(n,e){return Je.next(this.resolveAndDownload(n,e),$bind(this,this.switchTo))},resolveAndDownload:function(n,e){var i=this;var t;var s=ne.ofString(n);if(s._hx_index==4){var f=s.version;t=this.resolveInstalled(ne.ofString(n))}else{t=new Me(new bn(Rn.Failure(new Re(null,""+n+" needs to be resolved online",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:231,className:"lix.client.haxe.Switcher",methodName:"resolveAndDownload"}))))}var r=function(e){i.logger.info('Looking up Haxe version "'+n+'" online');return Je.next(i.resolveOnline(ne.ofString(n)),function(n){i.logger.info("  Resolved to "+gn.toString(n)+". Downloading ...");return new Me(new bn(Rn.Success(n)))})};var a=t.flatMap(function(n){switch(n._hx_index){case 0:var e=n.data;return new Me(new bn(n));case 1:var i=n.failure;return r(i)}});return Je.next(a.gather(),function(n){return Je.next(i.download(n,e),function(e){i.logger.success(!e?"  ... already downloaded!":"  ... download complete!");return new Me(new bn(Rn.Success(n)))})})},download:function(n,e){var i=this;if(this.isDownloaded(n)==true){if(e.force!=true){return new Me(new bn(Rn.Success(false)))}else{switch(n._hx_index){case 0:var t=n.nightly;var s=t.development;var f=t.published;var r=t.hash;var a=t.file;var l=_n.linkToNightly(r,f,a);var h=""+this.downloads+"/"+r+"@"+Math.floor((new Date).getTime());i.logger.info("Downloading Haxe: "+gn.toString(n));return Je.next(pn.archive(l,0,h,i.logger),function(n){var e=i.versionDir(r);i.replace(e,n,r,function(n){Sn.writeFileSync(""+n+"/"+_n.VERSION_INFO,JSON.stringify({published:o.dateStr(f)}))});return new Me(new bn(Rn.Success(true)))});case 1:var w=n.version;var d=this.linkToOfficial(w);var c=""+this.downloads+"/"+w+"@"+Math.floor((new Date).getTime());i.logger.info("Downloading Haxe: "+gn.toString(n));var u=pn.archive(d,0,c,i.logger);return Je.next(u,function(n){var e=i.versionDir(w);i.replace(e,n,w);return new Me(new bn(Rn.Success(true)))});case 2:var v=n.path;return new Me(new bn(Rn.Failure(new Re(null,"Cannot download custom version",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:268,className:"lix.client.haxe.Switcher",methodName:"download"}))))}}}else{switch(n._hx_index){case 0:var b=n.nightly;var N=b.development;var S=b.published;var R=b.hash;var A=b.file;var D=_n.linkToNightly(R,S,A);var M=""+this.downloads+"/"+R+"@"+Math.floor((new Date).getTime());i.logger.info("Downloading Haxe: "+gn.toString(n));return Je.next(pn.archive(D,0,M,i.logger),function(n){var e=i.versionDir(R);i.replace(e,n,R,function(n){Sn.writeFileSync(""+n+"/"+_n.VERSION_INFO,JSON.stringify({published:o.dateStr(S)}))});return new Me(new bn(Rn.Success(true)))});case 1:var B=n.version;var W=this.linkToOfficial(B);var Z=""+this.downloads+"/"+B+"@"+Math.floor((new Date).getTime());i.logger.info("Downloading Haxe: "+gn.toString(n));var q=pn.archive(W,0,Z,i.logger);return Je.next(q,function(n){var e=i.versionDir(B);i.replace(e,n,B);return new Me(new bn(Rn.Success(true)))});case 2:var C=n.path;return new Me(new bn(Rn.Failure(new Re(null,"Cannot download custom version",{fileName:"src/lix/client/haxe/Switcher.hx",lineNumber:268,className:"lix.client.haxe.Switcher",methodName:"download"}))))}}},__class__:_n};var ne={};e["lix.client.haxe._UserVersion.UserVersion_Impl_"]=ne;ne.__name__="lix.client.haxe._UserVersion.UserVersion_Impl_";ne.ofResolved=function(n){switch(n._hx_index){case 0:var e=n.nightly;var i=e.published;var t=e.file;var s=e.development;var f=e.hash;return ee.UNightly(f);case 1:var r=n.version;return ee.UOfficial(r);case 2:var a=n.path;return ee.UCustom(a)}};ne.isHash=function(n){var e=0;var i=n.length;while(e<i){var t=e++;var s=ne.hex;var f=n.charCodeAt(t);if(!s.h[f]){return false}}return true};ne.toString=function(n){switch(n._hx_index){case 0:return"latest nightly build";case 1:return"latest official";case 2:return"latest stable release";case 3:var e=n.hash;return"nightly build "+e;case 4:var i=n.version;return"official release "+i;case 5:var t=n.path;return"custom version at `"+t+"`"}};ne.isPath=function(n){if(!m.isAbsolute(n)){return n.charAt(0)=="."}else{return true}};ne.ofString=function(n){if(n==null){return null}else{var e;var i;if(n==null){e=ne.isHash(n);if(e==true){return ee.UNightly(n)}else{i=ne.isPath(n);if(i==true){return ee.UCustom(n)}else{return ee.UOfficial(n)}}}else{switch(n){case"auto":return null;case"latest":return ee.ULatest;case"edge":case"nightly":return ee.UEdge;case"stable":return ee.UStable;default:e=ne.isHash(n);if(e==true){return ee.UNightly(n)}else{i=ne.isPath(n);if(i==true){return ee.UCustom(n)}else{return ee.UOfficial(n)}}}}}};var ee=s["lix.client.haxe.UserVersionData"]={__ename__:"lix.client.haxe.UserVersionData",__constructs__:["UEdge","ULatest","UStable","UNightly","UOfficial","UCustom"],UEdge:{_hx_index:0,__enum__:"lix.client.haxe.UserVersionData",toString:t},ULatest:{_hx_index:1,__enum__:"lix.client.haxe.UserVersionData",toString:t},UStable:{_hx_index:2,__enum__:"lix.client.haxe.UserVersionData",toString:t},UNightly:(f=function(n){return{_hx_index:3,hash:n,__enum__:"lix.client.haxe.UserVersionData",toString:t}},f.__params__=["hash"],f),UOfficial:(f=function(n){return{_hx_index:4,version:n,__enum__:"lix.client.haxe.UserVersionData",toString:t}},f.__params__=["version"],f),UCustom:(f=function(n){return{_hx_index:5,path:n,__enum__:"lix.client.haxe.UserVersionData",toString:t}},f.__params__=["path"],f)};var ie=function(n){this.scope=n};e["lix.client.sources.Git"]=ie;ie.__name__="lix.client.sources.Git";ie.strip=function(n){if(A.endsWith(n,".git")){return m.withoutExtension(n)}else{return n}};ie.eval=function(n,e,i,t){var s=l.spawnSync(n,i,{cwd:e,stdio:["inherit","pipe","inherit"],env:nn.toVars(fn.mergeEnv(t))});var f=s;if(f.error==null){return Rn.Success({status:f.status,stdout:f.stdout.toString()})}else{var r=s.stdout;var a=s.stderr;var h=s.status;var w=s.signal;var c=s.pid;var u=s.output;var v=s.error;return Rn.Failure(new Re(null,"Failed to call "+n+" because "+d.string(v),{fileName:"src/lix/client/sources/Git.hx",lineNumber:25,className:"lix.client.sources.Git",methodName:"eval"}))}};ie.cli=function(n){an.ensureDir(m.addTrailingSlash(n)).eager();return{call:function(e){return Je.next(new Me(new bn(fn.sync("git",n,e))),function(n){if(n==0){return new Me(new bn(Rn.Success(De.Noise)))}else{return new Me(new bn(Rn.Failure(new Re(n,"git "+e[0]+" failed",{fileName:"src/lix/client/sources/Git.hx",lineNumber:33,className:"lix.client.sources.Git",methodName:"cli"}))))}})},eval:function(e){return Je.next(new Me(new bn(ie.eval("git",n,e))),function(n){var i=n.stdout;if(n.status==0){return new Me(new bn(Rn.Success(n.stdout.toString())))}else{return new Me(new bn(Rn.Failure(new Re(n.status,"git "+e[0]+" failed",{fileName:"src/lix/client/sources/Git.hx",lineNumber:40,className:"lix.client.sources.Git",methodName:"cli"}))))}})}}};ie.prototype={schemes:function(){return["git"]},processUrl:function(n){var e=this;var i=ce.fromString(n.payload);var t=ce.resolve(i,ce.fromString(""));var s;var f=i.hash;if(f==null){s="HEAD"}else if(f==""){s="HEAD"}else{var r=f;s=r}var a=ie.cli(".");var l=s.length!=40?Je.next(a.eval(["ls-remote",ce.toString(t),s]),function(n){var e=A.trim(n);if(e==""){return new Me(new bn(Rn.Failure(new Re(null,"Cannot resolve version "+s,{fileName:"src/lix/client/sources/Git.hx",lineNumber:63,className:"lix.client.sources.Git",methodName:"processUrl"}))))}else{var i=e;return new Me(new bn(Rn.Success(o.substr(i,0,40))))}}):new Me(new bn(Rn.Success(s)));return Je.next(l,Xe.ofSafeSync(function(s){var f=ce.fromString(n.scheme+":"+ce.toString(ce.resolve(i,ce.fromString("#"+s))));var r=Hn.Computed(function(n){return[n.name,n.version,"git",s]});var a=new Un(I.None,I.None);var l=yn.Custom(function(n){var i=m.join([e.scope.libCache,".gitrepos",Pn.escape(ce.toString(t))]);var f=ie.cli(i);var r=f;var a=Nn.exists(""+i+"/.git")?["fetch",ce.toString(t)]:["clone",ce.toString(t),"."];return Je.next(Je.next(Je.next(r.call(a),function(n){return f.call(["-c","advice.detachedHead=false","checkout",s])}),function(e){return an.copy(i,n.dest,function(n){return n!=""+i+"/.git"})}),function(e){return new Me(new bn(Rn.Success(n.dest)))})});return{url:n,normalized:f,dest:r,lib:a,kind:l}}))},__class__:ie};var te=function(n){this.credentials=n};e["lix.client.sources.GitHub"]=te;te.__name__="lix.client.sources.GitHub";te.isArchive=function(n){var e=Pe.parts(n);if(e.length==4){var i=e[3];var t=e[1];var s=e[0];if(me.stringly(e[2])=="archive"){return true}else{return false}}else{return false}};te.prototype={intercept:function(n){var e=n.query==null?n.path:n.path+"?"+n.query;var i=n.scheme;var t=n.query;var s=n.payload;var f=n.path;var r=n.hosts;var a=n.host;var l=n.hash;var h=n.auth;if(a==null){return I.None}else{var w=ze.get_port(a);var d=ze.get_name(a);if(d==null){return I.None}else if(d=="github.com"){if(i==null){return I.None}else if(i=="https"){if(t==null){if(te.isArchive(f)==false){return I.Some(this.processUrl(n))}else{return I.None}}else if(te.isArchive(f)==false){return I.Some(this.processUrl(n))}else{return I.None}}else{return I.None}}else{return I.None}}},schemes:function(){return["github","gh"]},grabCommit:function(n,e,i){if(this.credentials==null&&(i==""||!ne.isHash(i))){return Je.next(pn.bytes("https://github.com/"+n+"/"+e+".git/info/refs?service=git-upload-pack"),function(t){if(i==""){return new Me(new bn(Rn.Success(o.substr(t.toString().split(" HEAD")[0],-40,null))))}var s="";var f=t.b.bufferValue;var r=0;var a=t.length;while(r<a){var l=r++;var h=f.bytes[l];if(h!=0){var w=h;s+=String.fromCodePoint(w)}}var c=0;var u=s.split("\n");while(c<u.length){var v=u[c];++c;var b=v.split(" ");if(b.length==2){var N;var S=b[1];N=o.substr(b[0],-40,null);var R=N;if(R.length==40&&A.endsWith(S,"/"+i)){return new Me(new bn(Rn.Success(R)))}}}return new Me(new bn(Rn.Failure(new Re(null,"Failed to lookup sha for github:"+n+"/"+e+d.string(t),{fileName:"src/lix/client/sources/GitHub.hx",lineNumber:54,className:"lix.client.sources.GitHub",methodName:"grabCommit"}))))})}else{var t=this.credentials;return Je.next(pn.text("https://"+(t==null?"":""+t+"@")+"api.github.com/repos/"+n+"/"+e+"/commits?sha="+i),function(t){try{return new Me(new bn(Rn.Success(JSON.parse(t)[0].sha)))}catch(t){var s=t instanceof Bn?t.val:t;var f;if(i==null){f=""}else if(i==""){f=""}else{var r=i;f="#"+r}return new Me(new bn(Rn.Failure(new Re(null,"Failed to lookup sha for github:"+n+"/"+e+f,{fileName:"src/lix/client/sources/GitHub.hx",lineNumber:67,className:"lix.client.sources.GitHub",methodName:"grabCommit"}))))}})}},getArchive:function(n,e,i,t){var s=this;var f=function(i){return s.getArchive(n,e,i,t)};if(i==null){return Je.next(this.grabCommit(n,e,""),f)}else{var r=i;if(r.length==40){return new Me(new bn(Rn.Success({normalized:ce.fromString("gh://"+(t==null?"":""+t+"@")+"github.com/"+n+"/"+e+"#"+r),dest:Hn.Computed(function(n){return[n.name,n.version,"github",r]}),url:ce.fromString("https://"+(t==null?"":""+t+"@")+"github.com/"+n+"/"+e+"/archive/"+r+".tar.gz"),lib:new Un(I.Some(e),I.None)})))}else{var a=i;return Je.next(this.grabCommit(n,e,a),f)}}},processUrl:function(n){var e=n.path;var i;if(e==null){return new Me(new bn(Rn.Failure(new Re(null,"invalid github url "+ce.toString(n),{fileName:"src/lix/client/sources/GitHub.hx",lineNumber:93,className:"lix.client.sources.GitHub",methodName:"processUrl"}))))}else{i=pe.toStringArray(Pe.parts(e));if(i.length==2){var t=i[1];var s=i[0];return this.getArchive(s,ie.strip(t),n.hash,n.auth)}else{return new Me(new bn(Rn.Failure(new Re(null,"invalid github url "+ce.toString(n),{fileName:"src/lix/client/sources/GitHub.hx",lineNumber:96,className:"lix.client.sources.GitHub",methodName:"processUrl"}))))}}},__class__:te};var se=function(n){if(n==null){n=""}var e=A.trim(n);var i;if(e==""){i=""}else{var t=e;i="private_token="+t}this.privateToken=i};e["lix.client.sources.GitLab"]=se;se.__name__="lix.client.sources.GitLab";se.host=function(n){if(n==null){return"gitlab.com"}else{var e=n.host;if(e==null){return"gitlab.com"}else{var i=e;return i}}};se.prototype={intercept:function(n){var e=n.query==null?n.path:n.path+"?"+n.query;var i=n.scheme;var t=n.query;var s=n.payload;var f=n.path;var r=n.hosts;var a=n.host;var l=n.hash;var h=n.auth;if(a==null){return I.None}else{var w=ze.get_port(a);var d=ze.get_name(a);if(d==null){return I.None}else if(d=="gitlab.com"){if(i==null){return I.None}else if(i=="https"){if(t==null){if(me.stringly(Pe.parts(f)[0])=="api"==false){return I.Some(this.processUrl(n))}else{return I.None}}else if(me.stringly(Pe.parts(f)[0])=="api"==false){return I.Some(this.processUrl(n))}else{return I.None}}else{return I.None}}else{return I.None}}},schemes:function(){return["gitlab"]},grabCommit:function(n,e,i,t){return Je.next(pn.text("https://"+se.host(t)+"/api/v4/projects/"+n+"%2F"+e+"/repository/commits/"+i+"?"+this.privateToken),function(t){try{var s=JSON.parse(t);if(i==""){s=s[0]}return new Me(new bn(Rn.Success(s.id)))}catch(t){var f=t instanceof Bn?t.val:t;var r;if(i==null){r=""}else if(i==""){r=""}else{var a=i;r="#"+a}return new Me(new bn(Rn.Failure(new Re(null,"Failed to lookup sha for gitlab:"+n+"/"+e+r,{fileName:"src/lix/client/sources/GitLab.hx",lineNumber:43,className:"lix.client.sources.GitLab",methodName:"grabCommit"}))))}})},getArchive:function(n,e,i,t){if(i==null){var s=$bind(this,this.getArchive);var f=n;var r=e;var a=t;var l=function(n){return s(f,r,n,a)};return Je.next(this.grabCommit(n,e,"",t),l)}else{var h=i;if(h.length==40){var w="https://"+se.host(t)+"/api/v4/projects/"+n+"%2F"+e+"/repository/archive.zip?sha="+h+"&"+this.privateToken;var d=Hn.Computed(function(n){return[n.name,n.version,"gitlab",h]});return new Me(new bn(Rn.Success({normalized:ce.fromString(w),dest:d,url:ce.fromString(w),lib:new Un(I.Some(e),I.None)})))}else{var c=i;var u=$bind(this,this.getArchive);var v=n;var o=e;var b=t;var N=function(n){return u(v,o,n,b)};return Je.next(this.grabCommit(n,e,c,t),N)}}},processUrl:function(n){var e=n.path;var i;if(e==null){return new Me(new bn(Rn.Failure(new Re(null,"invalid gitlab url "+ce.toString(n),{fileName:"src/lix/client/sources/GitLab.hx",lineNumber:65,className:"lix.client.sources.GitLab",methodName:"processUrl"}))))}else{i=pe.toStringArray(Pe.parts(e));if(i.length==2){var t=i[1];var s=i[0];return this.getArchive(s,ie.strip(t),n.hash,{host:n.host})}else{return new Me(new bn(Rn.Failure(new Re(null,"invalid gitlab url "+ce.toString(n),{fileName:"src/lix/client/sources/GitLab.hx",lineNumber:67,className:"lix.client.sources.GitLab",methodName:"processUrl"}))))}}},__class__:se};var fe=function(n){if(n==null){n=fe.OFFICIAL}this.lazy_isOfficial=new Ye(function(){return fe.OFFICIAL==n});this.baseURL=n};e["lix.client.sources.Haxelib"]=fe;fe.__name__="lix.client.sources.Haxelib";fe.prototype={getBaseUrl:function(n){if(n==null){return ce.fromString(this.baseURL)}else{var e=n.host;if(e==null){return ce.fromString(this.baseURL)}else{var i=e;return ce.fromString(""+(ze.get_port(i)==null?"https":"http")+"://"+i+"/")}}},resolve:function(n,e){return ce.resolve(this.getBaseUrl(e),n)},schemes:function(){return["haxelib"]},processUrl:function(n){var e=Ue.toMap(n.query);var i=me.toString(ei["url"]!=null?e.getReserved("url"):e.h["url"]);if((i==null||i==this.baseURL)==true){var t=n.path;var s;if(t==null){return new Me(new bn(Rn.Failure(new Re(null,"invalid haxelib url "+ce.toString(n),{fileName:"src/lix/client/sources/Haxelib.hx",lineNumber:31,className:"lix.client.sources.Haxelib",methodName:"processUrl"}))))}else{s=pe.toStringArray(Pe.parts(t));if(s.length==1){var f=s[0];return this.getArchive(f,n.hash,{host:n.host})}else{return new Me(new bn(Rn.Failure(new Re(null,"invalid haxelib url "+ce.toString(n),{fileName:"src/lix/client/sources/Haxelib.hx",lineNumber:33,className:"lix.client.sources.Haxelib",methodName:"processUrl"}))))}}}else{var r=i;return new fe(r).processUrl(n)}},getArchive:function(n,e,i){var t=this;return Je.next(this.getInfos(n,i),function(n){var s;if(i==null){s=I.None}else{var f=i.host;if(f==null){s=I.None}else{var r=f;s=I.Some(r)}}var a=!(s==I.None&&t.get_isOfficial());var l=n.name;if(e==null){var h=function(e){var i=[];var t=0;var s=n.versions;while(t<s.length){var f=s[t];++t;var r=Ie.parse(f.name);if(r._hx_index==0){var a=r.data;if(e==null||e(a)){i.push(a)}else{continue}}else{continue}}var l=i;l.sort(function(n,e){return Ie.compare(e,n)});return l};var w=h(function(n){return n.preview==null});if(w.length==0){e=h()[0].toString()}else{var d=w;e=d[0].toString()}}else{var c=false;var u=0;var v=n.versions;while(u<v.length){var o=v[u];++u;if(o.name==e){c=true;break}}if(!c){return new Me(new bn(Rn.Failure(new Re(null,"Library "+l+" has no version "+e,{fileName:"src/lix/client/sources/Haxelib.hx",lineNumber:78,className:"lix.client.sources.Haxelib",methodName:"getArchive"}))))}}var b="/files/3.0/"+A.replace(l,".",",")+"-"+A.replace(e,".",",")+".zip";var N=t.resolve(ce.fromString(b),i);var S;if(s._hx_index==0){var R=s.v;S=R}else{S=null}var D=Pe.ofString("/"+l);var M=a?Ue.ofObj({url:t.baseURL}):null;var B=ce.make({scheme:"haxelib",host:S,path:D,hash:e,query:M});var W;if(a){var Z=ce.toString(t.getBaseUrl(i));W="@"+encodeURIComponent(Z)}else{W=""}return new Me(new bn(Rn.Success({url:N,normalized:B,dest:Hn.Fixed([l,e,"haxelib"+W]),kind:yn.Zip,lib:new Un(I.Some(l),I.Some(e))})))})},getInfos:function(n,e){var i=this;return Be.async(function(t){var s=F.urlConnect(ce.toString(i.resolve(ce.fromString("/api/3.0/index.n"),e)));s.setErrorHandler(function(n){var e=Rn.Failure(Re.withData(null,"Failed to get version information from haxelib because "+n,n,{fileName:"src/lix/client/sources/Haxelib.hx",lineNumber:99,className:"lix.client.sources.Haxelib",methodName:"getInfos"}));t(e)});var f=new le(s.resolve("api"));f.infos(n,function(n){t(Rn.Success(n))})})},get_isOfficial:function(){return this.lazy_isOfficial.get()},__class__:fe};var re=function(n){this.interceptors=n};e["lix.client.sources.Web"]=re;re.__name__="lix.client.sources.Web";re.prototype={schemes:function(){return["http","https"]},processUrl:function(n){var e=0;var i=this.interceptors;while(e<i.length){var t=i[e];++e;var s=t(n);if(s._hx_index==0){var f=s.v;return f}}var r=Hn.Computed(function(e){return[e.name,e.version,ce.toString(n)]});return new Me(new bn(Rn.Success({url:n,dest:r,normalized:n,lib:null})))},__class__:re};var ae=function(n){this.__cnx=n};e["lix.client.sources.haxelib.Async_Repo"]=ae;ae.__name__="lix.client.sources.haxelib.Async_Repo";ae.prototype={infos:function(n,e){this.__cnx.resolve("infos").call([n],e)},__class__:ae};var le=function(n){ae.call(this,n)};e["lix.client.sources.haxelib.Proxy"]=le;le.__name__="lix.client.sources.haxelib.Proxy";le.__super__=ae;le.prototype=$extend(ae.prototype,{__class__:le});var he=function(){};e["lix.client.uncompress.Tar"]=he;he.__name__="lix.client.uncompress.Tar";he.parse=function(n,e){return Be.async(function(i){var t=0;var s=0;var f=new we({onentry:function(n){t+=1;e(n)}});f.on("warn",function(){s+=1});f.on("end",function(){var n=t==0&&s!=0?Rn.Failure(new Re(422,"Invalid tar archive.",{fileName:"src/lix/client/uncompress/Tar.hx",lineNumber:23,className:"lix.client.uncompress.Tar",methodName:"parse"})):Rn.Success(De.Noise);i(n)});f.on("error",function(n){var e=Rn.Failure(new Re(null,n.message,{fileName:"src/lix/client/uncompress/Tar.hx",lineNumber:26,className:"lix.client.uncompress.Tar",methodName:"parse"}));i(e)});n.pipe(f,{end:true})})};var we=i(885).Parse;var de=function(){};e["sys.io.File"]=de;de.__name__="sys.io.File";de.copy=function(n,e){var i=Sn.openSync(n,"r");var t=Sn.fstatSync(i);var s=Sn.openSync(e,"w",t.mode);var f;var r=0;while(true){f=Sn.readSync(i,de.copyBuf,0,65536,r);if(!(f>0)){break}Sn.writeSync(s,de.copyBuf,0,f);r+=f}Sn.closeSync(i);Sn.closeSync(s)};var ce={};e["tink._Url.Url_Impl_"]=ce;ce.__name__="tink._Url.Url_Impl_";ce.resolve=function(n,e){if(e.scheme!=null){return e}else if(e.host!=null){if(e.scheme!=null){return e}else{var i=h.copy(e);i.scheme=n.scheme;return i}}else{var t={path:Pe.join(n.path,e.path),payload:"",scheme:n.scheme,query:e.query,auth:n.auth,host:n.host,hash:e.hash};ce.makePayload(t);var s=t;return s}};ce.makePayload=function(n){var e="";var i=n.scheme;var t=n.query;var s=n.payload;var f=n.path;var r=n.hosts;var a=n.host;var l=n.hash;var h=n.auth;if(h==null){if(a!=null){var w=a;e+="//"+w}}else if(a==null){var d=h;e+="//"+(d==null?"":""+d+"@")}else{var c=h;var u=a;e+="//"+(c==null?"":""+c+"@")+u}e+=n.path;var v=n.query;if(v!=null){var o=v;e+="?"+o}var b=n.hash;if(b!=null){var N=b;e+="#"+N}n.payload=e.toString()};ce.toString=function(n){if(n.scheme==null){return n.payload}else{return""+n.scheme+":"+n.payload}};ce.fromString=function(n){return ce.parse(n)};ce.noop=function(n){};ce.parse=function(n,e){if(n==null){return ce.parse("")}if(e==null){e=ce.noop}n=A.trim(n);if(A.startsWith(n,"data:")){var i={scheme:"data",payload:o.substr(n,5,null)};return i}var t=new v("^(([a-zA-Z][a-zA-Z0-9\\-+.]*):)?((//(([^@/]+)@)?([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?)$","");var s=new v("^(\\[(.*)\\]|([^:]*))(:(.*))?$","");t.match(n);var f;var r=t.matched(7);if(r==null){f=[]}else{var a=r;var l=[];var h=0;var w=a.split(",");while(h<w.length){var c=w[h];++h;s.match(c);var u;var b=s.matched(2);var N=s.matched(3);if(b==null){var S=N;u=S}else if(N==null){var R=b;u="["+R+"]"}else{e("invalid host "+c);u=null}var D;var M=s.matched(5);if(M==null){D=null}else{var B=M;var W=d.parseInt(B);if(W==null){e("invalid port "+B);D=null}else{var Z=W;D=Z}}l.push(ze._new(u,D))}f=l}var q=t.matched(8);if(f.length>0&&q.charAt(0)!="/"){q="/"+q}var C={scheme:t.matched(2),payload:t.matched(3),host:f[0],hosts:f,auth:t.matched(6),path:Pe.ofString(q),query:t.matched(10),hash:t.matched(12)};return C};ce.make=function(n){var e={payload:"",path:n.path,query:n.query,host:n.host,hosts:n.hosts,auth:n.auth,scheme:n.scheme,hash:n.hash};ce.makePayload(e);var i=e;return i};var ue={};e["tink.core._Callback.Callback_Impl_"]=ue;ue.__name__="tink.core._Callback.Callback_Impl_";ue.invoke=function(n,e){if(ue.depth<500){ue.depth++;n(e);ue.depth--}else{var i=n;var t=function(n){ue.invoke(i,n)};var s=e;ue.defer(function(){t(s)})}};ue.fromNiladic=function(n){return n};ue.defer=function(n){process.nextTick(n)};var ve=function(){};e["tink.core.LinkObject"]=ve;ve.__name__="tink.core.LinkObject";ve.__isInterface__=true;ve.prototype={__class__:ve};var oe={};e["tink.core._Callback.CallbackLink_Impl_"]=oe;oe.__name__="tink.core._Callback.CallbackLink_Impl_";oe.fromMany=function(n){var e=new be(function(){var e=0;while(e<n.length){var i=n[e];++e;if(i!=null){i.cancel()}}});return e};var be=function(n){this.f=n};e["tink.core._Callback.SimpleLink"]=be;be.__name__="tink.core._Callback.SimpleLink";be.__interfaces__=[ve];be.prototype={cancel:function(){if(this.f!=null){this.f();this.f=null}},__class__:be};var Ne=function(n,e){if(n==null){throw new Bn("callback expected but null received")}this.cb=n;this.list=e};e["tink.core._Callback.ListCell"]=Ne;Ne.__name__="tink.core._Callback.ListCell";Ne.__interfaces__=[ve];Ne.prototype={clear:function(){this.list=null;this.cb=null},cancel:function(){var n=this.list;if(n!=null){var e=n;this.clear();o.remove(e,this)}},__class__:Ne};var Se={};e["tink.core._Callback.CallbackList_Impl_"]=Se;Se.__name__="tink.core._Callback.CallbackList_Impl_";Se.add=function(n,e){var i=new Ne(e,n);n.push(i);return i};Se.invoke=function(n,e){var i=0;var t=n.slice();while(i<t.length){var s=t[i];++i;if(s.cb!=null){ue.invoke(s.cb,e)}}};Se.clear=function(n){var e=0;var i=n.splice(0,n.length);while(e<i.length){var t=i[e];++e;t.clear()}};var Re=function(n,e,i){if(n==null){n=500}this.isTinkError=true;this.code=n;this.message=e;this.pos=i;this.exceptionStack=[];this.callStack=[]};e["tink.core.TypedError"]=Re;Re.__name__="tink.core.TypedError";Re.withData=function(n,e,i,t){return Re.typed(n,e,i,t)};Re.typed=function(n,e,i,t){var s=new Re(n,e,t);s.data=i;return s};Re.asError=function(n){if(n!=null&&n.isTinkError){return n}else{return null}};Re.catchExceptions=function(n,e,i){try{return Rn.Success(n())}catch(n){var t=n instanceof Bn?n.val:n;var s=Re.asError(t);var f;if(s==null){f=e==null?Re.withData(null,"Unexpected Error",t,i):e(t)}else{var r=s;f=r}return Rn.Failure(f)}};Re.tryFinally=function(n,e){try{return n()}finally{e()}return null};Re.prototype={printPos:function(){return this.pos.className+"."+this.pos.methodName+":"+this.pos.lineNumber},toString:function(){var n="Error#"+this.code+": "+this.message;if(this.pos!=null){n+=" @ "+this.printPos()}return n},throwSelf:function(){var n=this;throw Bn.wrap(n)},__class__:Re};var Ae=function(){};e["tink.core._Future.FutureObject"]=Ae;Ae.__name__="tink.core._Future.FutureObject";Ae.__isInterface__=true;Ae.prototype={__class__:Ae};var De=s["tink.core.Noise"]={__ename__:"tink.core.Noise",__constructs__:["Noise"],Noise:{_hx_index:0,__enum__:"tink.core.Noise",toString:t}};var Me=function(n){this.value=n};e["tink.core._Future.SyncFuture"]=Me;Me.__name__="tink.core._Future.SyncFuture";Me.__interfaces__=[Ae];Me.prototype={map:function(n){return new Me(this.value.map(n))},flatMap:function(n){var e=this.value.map(n);return new We(function(n){return e.get().handle(n)})},handle:function(n){ue.invoke(n,this.value.get());return null},eager:function(){return this},gather:function(){return this},__class__:Me};var Be={};e["tink.core._Future.Future_Impl_"]=Be;Be.__name__="tink.core._Future.Future_Impl_";Be.next=function(n,e){return n.flatMap(function(n){return e(n)})};Be.flatten=function(n){return new Ze(n)};Be.ofMany=function(n,e){if(e==null){e=true}var i=new Me(new bn([]));var t=0;while(t<n.length){var s=[n[t]];++t;var f=false;if(f==null){f=true}var r=i.flatMap(function(n){return function(e){var i=false;if(i==null){i=true}var t=function(){return function(n){return e.concat([n])}}();var s=n[0].map(t);if(i){return s.gather()}else{return s}}}(s));i=f?r.gather():r}if(e){return i.gather()}else{return i}};Be.async=function(n,e){if(e==null){e=false}if(e){return new Ce(n)}else{var i=new qe;var t=n;ue.invoke(t,$bind(i,i.trigger));return i}};Be._tryMap=function(n,e){var i=n.map(function(n){return Ve.map(n,e)});return i.gather()};var We=function(n){this.f=n};e["tink.core._Future.SimpleFuture"]=We;We.__name__="tink.core._Future.SimpleFuture";We.__interfaces__=[Ae];We.prototype={handle:function(n){return this.f(n)},map:function(n){var e=this;return new We(function(i){return e.f(function(e){var t=n(e);ue.invoke(i,t)})})},flatMap:function(n){var e=n;var i=this;return Be.flatten(new We(function(n){return i.f(function(i){var t=e(i);ue.invoke(n,t)})}))},gather:function(){if(this.gathered!=null){return this.gathered}else{return this.gathered=qe.gatherFuture(this)}},eager:function(){var n=this.gathered!=null?this.gathered:this.gathered=qe.gatherFuture(this);n.handle(ue.fromNiladic(function(){}));return n},__class__:We};var Ze=function(n){this.outer=n};e["tink.core._Future.NestedFuture"]=Ze;Ze.__name__="tink.core._Future.NestedFuture";Ze.__interfaces__=[Ae];Ze.prototype={map:function(n){var e=this.outer.flatMap(function(e){var i=e.map(n);return i.gather()});return e.gather()},flatMap:function(n){var e=this.outer.flatMap(function(e){var i=e.flatMap(n);return i.gather()});return e.gather()},gather:function(){if(this.gathered!=null){return this.gathered}else{return this.gathered=qe.gatherFuture(this)}},eager:function(){var n=this.gathered!=null?this.gathered:this.gathered=qe.gatherFuture(this);n.handle(ue.fromNiladic(function(){}));return n},handle:function(n){var e=null;e=this.outer.handle(function(i){e=i.handle(function(e){ue.invoke(n,e)})});return e},__class__:Ze};var qe=function(){var n=[];this.list=n};e["tink.core.FutureTrigger"]=qe;qe.__name__="tink.core.FutureTrigger";qe.__interfaces__=[Ae];qe.gatherFuture=function(n){var e=null;var i=new We(function(i){if(e==null){e=new qe;n.handle($bind(e,e.trigger));n=null}return e.handle(i)});return i};qe.prototype={handle:function(n){var e=this.list;if(e==null){ue.invoke(n,this.result);return null}else{var i=e;return Se.add(i,n)}},map:function(n){var e=this.list;if(e==null){return new Me(new bn(n(this.result)))}else{var i=e;var t=new qe;Se.add(this.list,function(e){var i=n(e);t.trigger(i)});return t}},flatMap:function(n){var e=this.list;if(e==null){return n(this.result)}else{var i=e;var t=new qe;Se.add(this.list,function(e){n(e).handle($bind(t,t.trigger))});return t}},gather:function(){return this},eager:function(){return this},trigger:function(n){if(this.list==null){return false}else{var e=this.list;this.list=null;this.result=n;Se.invoke(e,n);Se.clear(e);return true}},__class__:qe};var Ce=function(n){this.op=n;qe.call(this)};e["tink.core._Future.LazyTrigger"]=Ce;Ce.__name__="tink.core._Future.LazyTrigger";Ce.__super__=qe;Ce.prototype=$extend(qe.prototype,{eager:function(){if(this.op!=null){var n=this.op;this.op=null;ue.invoke(n,$bind(this,this.trigger))}return this},map:function(n){var e=this;if(this.op==null){return qe.prototype.map.call(this,n)}else{return Be.async(function(i){e.handle(function(e){var t=n(e);i(t)})},true)}},flatMap:function(n){var e=this;if(this.op==null){return qe.prototype.flatMap.call(this,n)}else{return Be.async(function(i){e.handle(function(e){n(e).handle(i)})},true)}},handle:function(n){this.eager();return qe.prototype.handle.call(this,n)},__class__:Ce});var Ye=function(n){this.f=n};e["tink.core._Lazy.LazyFunc"]=Ye;Ye.__name__="tink.core._Lazy.LazyFunc";Ye.__interfaces__=[on];Ye.prototype={get:function(){if(this.f!=null){this.result=this.f();this.f=null}return this.result},map:function(n){var e=this;return new Ye(function(){var i=e.get();return n(i)})},__class__:Ye};var Ge=function(n,e){this.name=n;this.value=e};e["tink.core.NamedWith"]=Ge;Ge.__name__="tink.core.NamedWith";Ge.prototype={__class__:Ge};var Ve=function(){};e["tink.core.OutcomeTools"]=Ve;Ve.__name__="tink.core.OutcomeTools";Ve.sure=function(n){switch(n._hx_index){case 0:var e=n.data;return e;case 1:var i=n.failure;var t=Re.asError(i);if(t==null){throw new Bn(i)}else{var s=t;return s.throwSelf()}break}};Ve.map=function(n,e){switch(n._hx_index){case 0:var i=n.data;return Rn.Success(e(i));case 1:var t=n.failure;return Rn.Failure(t)}};var Je={};e["tink.core._Promise.Promise_Impl_"]=Je;Je.__name__="tink.core._Promise.Promise_Impl_";Je.noise=function(n){return Je.next(n,function(n){return new Me(new bn(Rn.Success(De.Noise)))})};Je.next=function(n,e,i){if(i==null){i=true}var t=i;if(t==null){t=true}var s=n.flatMap(function(n){switch(n._hx_index){case 0:var i=n.data;return e(i);case 1:var t=n.failure;return new Me(new bn(Rn.Failure(t)))}});if(t){return s.gather()}else{return s}};Je.ofSpecific=function(n){return n};Je.inParallel=function(n,e,i){if(n.length==0){return new Me(new bn(Rn.Success([])))}else{return Be.async(function(i){var t=[];var s=n.length;var f=null;var r=[];var a=false;var l=0;var h=o.iter(n);var w=null;var d=function(n){if(f==null){a=true}else if(f!=null){f.cancel()}i(n)};var c=function(n){s=0;d(Rn.Failure(n))};var u=function(n,e){t[n]=e;if((s-=1)==0){d(Rn.Success(t))}else if(h.hasNext()&&s>0){w()}};w=function(){l+=1;var n=l-1;var e=h.next().handle(function(e){switch(e._hx_index){case 0:var i=e.data;u(n,i);break;case 1:var t=e.failure;c(t);break}});r.push(e)};while(true){var v;if(h.hasNext()&&s>0){if(e!=null){e-=1;v=e+1>0}else{v=true}}else{v=false}if(!v){break}w()}f=oe.fromMany(r);if(a){if(f!=null){f.cancel()}}},i)}};Je.inSequence=function(n){var e=null;e=function(i){if(i==n.length){return new Me(new bn(Rn.Success([])))}else{return Je.next(n[i],function(n){return Je.next(e(i+1),function(e){return new Me(new bn(Rn.Success([n].concat(e))))})})}};return e(0)};var Xe={};e["tink.core._Promise.Next_Impl_"]=Xe;Xe.__name__="tink.core._Promise.Next_Impl_";Xe.ofSafeSync=function(n){return function(e){return new Me(new bn(Rn.Success(n(e))))}};var je={};e["tink.core._Promise.Recover_Impl_"]=je;je.__name__="tink.core._Promise.Recover_Impl_";je.ofSync=function(n){return function(e){return new Me(new bn(n(e)))}};var Qe=function(){};e["tink.parse.Char"]=Qe;Qe.__name__="tink.parse.Char";var Ee=function(n){this.source=n;this.max=n.length;this.pos=0};e["tink.parse.ParserBase"]=Ee;Ee.__name__="tink.parse.ParserBase";Ee.prototype={skipIgnored:function(){while(this.lastSkip!=this.pos){this.lastSkip=this.pos;this.doSkipIgnored()}this.lastSkip=this.pos;return null},doSkipIgnored:function(){},allowHere:function(n){if(Ke.hasSub(this.source,n,this.pos)){this.pos+=n.length;return true}else{return false}},die:function(n,e){if(e==null){e=new b(this.pos,this.pos+1)}var i=e.min;var t=e.max;throw new Bn(this.makeError(n,this.doMakePos(i,t==null?i+1:t)))},makeError:function(n,e){throw new Bn("ni")},doMakePos:function(n,e){throw new Bn("ni")},__class__:Ee};var Te=function(n,e,i){this.string=n;this.start=e;this.end=i;if((this.length=i-e)<0){this.length=0;this.end=this.start}};e["tink.parse._StringSlice.Data"]=Te;Te.__name__="tink.parse._StringSlice.Data";Te.prototype={toString:function(){if(this.representation==null){this.representation=this.string.substring(this.start,this.end)}return this.representation},__class__:Te};var Ke={};e["tink.parse._StringSlice.StringSlice_Impl_"]=Ke;Ke.__name__="tink.parse._StringSlice.StringSlice_Impl_";Ke._new=function(n,e,i){var t=new Te(n,e==n.length?e:e<0?e%n.length+n.length:e%n.length,i==n.length?i:i<0?i%n.length+n.length:i%n.length);return t};Ke.clamp=function(n,e){if(e<0){if(-e>n.length){return 0}else{return e+n.length}}else if(e>n.length){return n.length}else{return e}};Ke.wrap=function(n,e){if(n.length==0){return 0}else if(e<0){return e%n.length+n.length}else{return e%n.length}};Ke.ofString=function(n){if(n==null||n==""){return Ke.EMPTY}else if(n.length==1){var e=n.charCodeAt(0);if(e<Ke.CHARS.length){return Ke.CHARS[e]}else{return new Te(n,0,n.length)}}else{return new Te(n,0,n.length)}};Ke.hasSub=function(n,e,i){if(i==null){i=0}i=Ke.wrap(n,i);if(i+e.length>n.length){return false}var t=n;var s=e;return Ke.isEqual(t.string,t.start+i,e.length,s.string,s.start,s.length)};Ke.isEqual=function(n,e,i,t,s,f){if(f!=i){return false}var r=0;var a=f;while(r<a){var l=r++;if(n.charCodeAt(e+l)!=t.charCodeAt(s+l)){return false}}return true};var ye=function(n){Ee.call(this,n)};e["tink.semver.Parser"]=ye;ye.__name__="tink.semver.Parser";ye.__super__=Ee;ye.prototype=$extend(Ee.prototype,{doSkipIgnored:function(){var n=Qe.WHITE;while(true){var e;if(this.pos<this.max){var i=this.source;var t=i.string.charCodeAt(this.pos+i.start);e=n==null||n(t)}else{e=false}if(!e){break}this.pos++}},num:function(){var n=Qe.DIGIT;this.skipIgnored();var e=this.pos;while(true){var i;if(this.pos<this.max){var t=this.source;var s=t.string.charCodeAt(this.pos+t.start);i=n==null||n(s)}else{i=false}if(!i){break}this.pos++}var f=this.source;var r=e;var a=this.pos;var l=d.parseInt(Ke._new(f.string,Ke.wrap(f,r)+f.start,Ke.clamp(f,a)+f.start).toString());if(l==null){return-1}else{var h=l;return h}},parseVersion:function(){var n=this.parseInlineVersion();this.skipIgnored();if(this.pos==this.max){return n}else{return this.die("Unexpected string",new b(this.pos,this.max))}},parsePartial:function(){var n=this;var e=this.pos;var i=function(){if(n.allowHere(Ke.ofString("."))){return n.num()}else{return-1}};var t=this.num();var s=i();var f=i();var r=null;var a=-1;if(f>=0&&this.allowHere(ye.HYPHEN)){var l=Qe.LOWER;this.skipIgnored();var h=this.pos;while(true){var w;if(this.pos<this.max){var d=this.source;var c=d.string.charCodeAt(this.pos+d.start);w=l==null||l(c)}else{w=false}if(!w){break}this.pos++}var u=this.source;var v=h;var o=this.pos;r=Ve.sure(He.ofString(Ke._new(u.string,Ke.wrap(u,v)+u.start,Ke.clamp(u,o)+u.start).toString()));if(this.allowHere(ye.DOT)){a=this.num()}}return{major:t,minor:s,patch:f,preview:r,previewNum:a,pos:new b(e,this.pos)}},clamp:function(n){if(n<0){return 0}else{return n}},full:function(n,e){if(e!=true&&n.patch<0){this.die("Partial version not allowed",n.pos)}var i=Ie._new(n.major,this.clamp(n.minor),this.clamp(n.patch));if(n.preview!=null){return new Le(i.major,i.minor,i.patch,n.preview,n.previewNum)}else{return i}},parseInlineVersion:function(){return this.full(this.parsePartial())},makeError:function(n,e){var i=this.source;return new Re(null,""+n+" at "+('"'+Ke._new(i.string,Ke.wrap(i,e.min)+i.start,Ke.clamp(i,e.max)+i.start).toString()+'"('+e.min+"-"+e.max+")")+(' in "'+this.source.toString()+'"'),{fileName:"tink/semver/Parser.hx",lineNumber:149,className:"tink.semver.Parser",methodName:"makeError"})},doMakePos:function(n,e){return new b(n,e)},__class__:ye});var He={};e["tink.semver._Preview.Preview_Impl_"]=He;He.__name__="tink.semver._Preview.Preview_Impl_";He.ofString=function(n){switch(n){case"alpha":return Rn.Success("alpha");case"beta":return Rn.Success("beta");case"rc":return Rn.Success("rc");default:return Rn.Failure(new Re(422,""+n+" should be alpha | beta | rc",{fileName:"tink/semver/Preview.hx",lineNumber:14,className:"tink.semver._Preview.Preview_Impl_",methodName:"ofString"}))}};var Ie={};e["tink.semver._Version.Version_Impl_"]=Ie;Ie.__name__="tink.semver._Version.Version_Impl_";Ie._new=function(n,e,i){if(i==null){i=0}if(e==null){e=0}var t=new Le(n,e,i);return t};Ie.compare=function(n,e){var i=n.major-e.major;var t=n.minor-e.minor;var s=Oe.chain(i>0?1:i<0?-1:0,t>0?1:t<0?-1:0);var f=n.patch-e.patch;var r=Oe.chain(s,f>0?1:f<0?-1:0);var a=Ie.idx(n,n.preview)-Ie.idx(n,e.preview);var l=Oe.chain(r,a>0?1:a<0?-1:0);var h=n.previewNum-e.previewNum;return Oe.chain(l,h>0?1:h<0?-1:0)};Ie.idx=function(n,e){if(e==null){return 100}else{switch(e){case"alpha":return 1;case"beta":return 2;case"rc":return 3}}};Ie.parse=function(n){return Re.catchExceptions((f=new ye(Ke.ofString(n)),$bind(f,f.parseVersion)),Ie.reportError,{fileName:"tink/semver/Version.hx",lineNumber:97,className:"tink.semver._Version.Version_Impl_",methodName:"parse"})};Ie.reportError=function(n){if(typeof n=="string"){return new Re(422,n,{fileName:"tink/semver/Version.hx",lineNumber:103,className:"tink.semver._Version.Version_Impl_",methodName:"reportError"})}else{return Re.withData(422,d.string(n),n,{fileName:"tink/semver/Version.hx",lineNumber:105,className:"tink.semver._Version.Version_Impl_",methodName:"reportError"})}};var Le=function(n,e,i,t,s){if(s==null){s=-1}if(n<0||e<0||i<0){throw new Bn("version components must not be negative")}this.major=n;this.minor=e;this.patch=i;this.preview=t;this.previewNum=s};e["tink.semver._Version.Data"]=Le;Le.__name__="tink.semver._Version.Data";Le.prototype={toString:function(){var n=""+this.major+"."+this.minor+"."+this.patch;if(this.preview!=null){n+="-"+this.preview;if(this.previewNum!=-1){n+="."+this.previewNum}}return n},__class__:Le};var Oe={};e["tink.semver._Version.Comparison_Impl_"]=Oe;Oe.__name__="tink.semver._Version.Comparison_Impl_";Oe.chain=function(n,e){if(n==0){return e}else{return n}};var ze={};e["tink.url._Host.Host_Impl_"]=ze;ze.__name__="tink.url._Host.Host_Impl_";ze._new=function(n,e){var i;if(e==null){i=n}else if(e>65535||e<=0){throw new Bn("Invalid port")}else{i=""+n+":"+e}return i};ze.get_name=function(n){if(n==null){return null}else{var e=n.split("]");switch(e.length){case 1:var i=e[0];return i.split(":")[0];case 2:var t=e[1];var s=e[0];return s+"]";default:throw new Bn("assert")}}};ze.get_port=function(n){if(n==null){return null}else{var e=n.split("]");switch(e.length){case 1:var i=e[0];var t=i.split(":")[1];if(t==null){return null}else{var s=t;return d.parseInt(s)}break;case 2:var f=e[0];var r=e[1];var a=r.split(":")[1];if(a==null){return null}else{var l=a;return d.parseInt(l)}break;default:throw new Bn("assert")}}};var Pe={};e["tink.url._Path.Path_Impl_"]=Pe;Pe.__name__="tink.url._Path.Path_Impl_";Pe.parts=function(n){var e=[];var i=0;var t=n.split("/");while(i<t.length){var s=t[i];++i;if(s!=""){var f=s;e.push(f)}}return e};Pe.join=function(n,e){if(e==""){return n}else if(e.charAt(0)=="/"){return e}else if(n.charAt(n.length-1)=="/"){return Pe.ofString(n+e)}else{var i=n.lastIndexOf("/");if(i==-1){return e}else{var t=i;return Pe.ofString(o.substr(n,0,t+1)+e)}}};Pe.ofString=function(n){var e=Pe.normalize(n);return e};Pe.normalize=function(n){n=A.trim(A.replace(n,"\\","/"));if(n=="."){return"./"}var e=A.endsWith(n,"/..")||A.endsWith(n,"/")||A.endsWith(n,"/.");var i=[];var t=A.startsWith(n,"/");var s=0;var f=0;var r=n.split("/");while(f<r.length){var a=r[f];++f;var l=A.trim(a);switch(l){case"":break;case".":break;case"..":if(i.pop()==null){++s}break;default:var h=l;i.push(h)}}if(t){i.unshift("")}else{var w=0;var d=s;while(w<d){var c=w++;i.unshift("..")}}if(e){i.push("")}return i.join("/")};var me={};e["tink.url._Portion.Portion_Impl_"]=me;me.__name__="tink.url._Portion.Portion_Impl_";me.stringly=function(n){return me.toString(n)};me.toString=function(n){if(n==null){return null}else{return decodeURIComponent(n.split("+").join(" "))}};me.ofString=function(n){var e=n==null?"":encodeURIComponent(n);return e};var pe={};e["tink.url._PortionArray.PortionArray_Impl_"]=pe;pe.__name__="tink.url._PortionArray.PortionArray_Impl_";pe.toStringArray=function(n){var e=[];var i=0;while(i<n.length){var t=n[i];++i;e.push(me.toString(t))}return e};var Ue={};e["tink.url._Query.Query_Impl_"]=Ue;Ue.__name__="tink.url._Query.Query_Impl_";Ue.toMap=function(n){var e=new L;var i=new Fe(n,"&","=",0);while(i.hasNext()){var t=i.next();var s=t.name.toString();var f=t.value;if(ei[s]!=null){e.setReserved(s,f)}else{e.h[s]=f}}return e};Ue.ofObj=function(n){var e=[];var i=e;var t=n;var s=0;var f=h.fields(t);while(s<f.length){var r=f[s];++s;i.push(me.ofString(r)+"="+me.ofString(t[r]))}return i.join("&")};var Fe=function(n,e,i,t){this.s=n==null?"":n;this.sep=e;this.set=i;this.pos=t};e["tink.url._Query.QueryStringParser"]=Fe;Fe.__name__="tink.url._Query.QueryStringParser";Fe.trimmedSub=function(n,e,i){if(e>=n.length){var t="";return t}while(n.charCodeAt(e)<33)++e;if(i<n.length-1){while(n.charCodeAt(i-1)<33)--i}var s=n.substring(e,i);return s};Fe.prototype={hasNext:function(){return this.pos<this.s.length},next:function(){var n=this.s.indexOf(this.sep,this.pos);if(n==-1){n=this.s.length}var e=this.s.indexOf(this.set,this.pos);var i=this.pos;this.pos=n+this.sep.length;if(e==-1||e>n){return new Ge(me.stringly(Fe.trimmedSub(this.s,i,n)),me.ofString(""))}else{return new Ge(me.stringly(Fe.trimmedSub(this.s,i,e)),Fe.trimmedSub(this.s,e+this.set.length,n))}},__class__:Fe};function $getIterator(n){if(n instanceof Array)return o.iter(n);else return n.iterator()}function $bind(e,i){if(i==null)return null;if(i.__id__==null)i.__id__=n.$haxeUID++;var t;if(e.hx__closures__==null)e.hx__closures__={};else t=e.hx__closures__[i.__id__];if(t==null){t=i.bind(e);e.hx__closures__[i.__id__]=t}return t}function $arrayPush(n){this.push(n)}n.$haxeUID|=0;w.__toStr={}.toString;if(String.fromCodePoint==null)String.fromCodePoint=function(n){return n<65536?String.fromCharCode(n):String.fromCharCode((n>>10)+55232)+String.fromCharCode((n&1023)+56320)};String.prototype.__class__=e["String"]=String;String.__name__="String";e["Array"]=Array;Array.__name__="Array";Date.prototype.__class__=e["Date"]=Date;Date.__name__="Date";var xe={};var ke={};var ge=Number;var $e=Boolean;var _e={};var ni={};e["Math"]=Math;H.count=0;var ei={};Object.defineProperty(Bn.prototype,"message",{get:function(){return String(this.val)}});if(ArrayBuffer.prototype.slice==null){ArrayBuffer.prototype.slice=Wn.sliceImpl}c.values=function(n){var e;var i=new Q;i.set(r.Off,0);i.set(r.Bold,1);i.set(r.Underline,4);i.set(r.Blink,5);i.set(r.ReverseVideo,7);i.set(r.Concealed,8);i.set(r.BoldOff,22);i.set(r.UnderlineOff,24);i.set(r.BlinkOff,25);i.set(r.NormalVideo,27);i.set(r.ConcealedOff,28);i.set(r.Black,30);i.set(r.Red,31);i.set(r.Green,32);i.set(r.Yellow,33);i.set(r.Blue,34);i.set(r.Magenta,35);i.set(r.Cyan,36);i.set(r.White,37);i.set(r.DefaultForeground,39);i.set(r.BlackBack,40);i.set(r.RedBack,41);i.set(r.GreenBack,42);i.set(r.YellowBack,43);i.set(r.BlueBack,44);i.set(r.MagentaBack,45);i.set(r.CyanBack,46);i.set(r.WhiteBack,47);i.set(r.DefaultBackground,49);e=i;return e}(this);c.available=c.detectSupport();c.strip=false;c.stripIfUnavailable=true;u.DAY_SHORT_NAMES=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];u.DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];u.MONTH_SHORT_NAMES=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];u.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"];R.winMetaCharacters=[32,40,41,37,33,94,34,60,62,38,124,10,13,44,59];Y.USE_CACHE=false;Y.USE_ENUM_INDEX=false;Y.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";J.DEFAULT_RESOLVER=new V;J.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";hn.IS_WINDOWS=a.systemName()=="Windows";hn.DELIMITER=hn.IS_WINDOWS?";":":";wn.EXT=hn.IS_WINDOWS?".exe":"";un.isTTY=process.stderr.isTTY;un.out=function(n){var e;c.available=un.isTTY;e=new M(2);return e}(this);An.CONFIG_FILE=".haxerc";An.fs={isDirectory:function(n){try{return Nn.isDirectory(n)}catch(n){var e=n instanceof Bn?n.val:n;return false}},readFile:function(n){try{return Rn.Success(Sn.readFileSync(n,{encoding:"utf8"}))}catch(e){return Rn.Failure("Cannot read "+n+" because "+d.string(e instanceof Bn?e.val:e))}}};An.DEFAULT_ROOT=function(n){var e;var i=An.env("HAXE_ROOT");var t=An.env("HAXESHIM_ROOT");var s=new bn(process.env[hn.IS_WINDOWS?"APPDATA":"HOME"]+"/haxe");var f;if(t._hx_index==0){var r=t.v;f=r}else{f=s.get()}var a=new bn(f);e=i._hx_index==0?function(n){var e;var t=i.v;e=t;return e}(n):a.get();return e}(this);Dn.PATH=hn.slashes(An.DEFAULT_ROOT+"/neko");Dn.isset=false;Dn.ENV=function(n){var e;var i;switch(a.systemName()){case"Mac":i="DYLD_LIBRARY_PATH";break;case"Windows":i="PATH";break;default:i="LD_LIBRARY_PATH"}var t=process.env[i];e=t==null?function(n){var e;var t=new L;{var s=Dn.PATH;if(ei[i]!=null){t.setReserved(i,s)}else{t.h[i]=s}}e=nn.ofMap(t);return e}(n):function(n){var e;var s=t;e=s.indexOf(Dn.PATH)!=-1?nn.ofVars({}):function(n){var e;var s=t;var f=new L;{var r=s+hn.DELIMITER+Dn.PATH;if(ei[i]!=null){f.setReserved(i,r)}else{f.h[i]=r}}e=nn.ofMap(f);return e}(n);return e}(n);return e}(this);Pn.RESERVED="!#$&'()*+,/:;=?@[]";pn.initZip=function(n){var e;var i=mn.validateFileName;mn.validateFileName=function(n){return null};e=true;return e}(this);pn.USER_AGENT="switchx";Un.UNDEFINED=new Un(I.None,I.None);_n.VERSION_INFO="version.json";_n.NIGHTLIES="https://build.haxe.org/builds/haxe";_n.PLATFORM=function(n){var e;switch(a.systemName()){case"Mac":e="mac";break;case"Windows":e="windows";break;default:e="linux64"}return e}(this);ne.hex=function(n){var e;var i=new E;{var t=0;var s="0123456789abcdefABCDEF".split("");while(t<s.length){var f=s[t];++t;i.h[o.cca(f,0)]=true}}e=i;return e}(this);fe.OFFICIAL="https://lib.haxe.org/";de.copyBuf=Vn.alloc(65536);ue.depth=0;Je.NOISE=new Me(new bn(Rn.Success(De.Noise)));Qe.WHITE=function(n){return n<33};Qe.LOWER=function(n){if(n>=97){return n<=122}else{return false}};Qe.DIGIT=function(n){if(n>=48){return n<=57}else{return false}};Ke.CHARS=function(n){var e;var i=[];{var t=0;while(t<128){var s=t++;i.push(new Te(String.fromCodePoint(s),0,1))}}e=i;return e}(this);Ke.EMPTY=new Te("",0,0);ye.DOT=Ke.ofString(".");ye.HYPHEN=Ke.ofString("-");jn.main()})(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this)},747:function(n){n.exports=require("fs")},761:function(n){n.exports=require("zlib")},766:function(n,e,i){var t=i(747);var s=i(761);var f=i(324);var r=i(538);var a=i(669);var l=i(614).EventEmitter;var h=i(413).Transform;var w=i(413).PassThrough;var d=i(413).Writable;e.open=open;e.fromFd=fromFd;e.fromBuffer=fromBuffer;e.fromRandomAccessReader=fromRandomAccessReader;e.dosDateTimeToDate=dosDateTimeToDate;e.validateFileName=validateFileName;e.ZipFile=ZipFile;e.Entry=Entry;e.RandomAccessReader=RandomAccessReader;function open(n,e,i){if(typeof e==="function"){i=e;e=null}if(e==null)e={};if(e.autoClose==null)e.autoClose=true;if(e.lazyEntries==null)e.lazyEntries=false;if(e.decodeStrings==null)e.decodeStrings=true;if(e.validateEntrySizes==null)e.validateEntrySizes=true;if(e.strictFileNames==null)e.strictFileNames=false;if(i==null)i=defaultCallback;t.open(n,"r",function(n,s){if(n)return i(n);fromFd(s,e,function(n,e){if(n)t.close(s,defaultCallback);i(n,e)})})}function fromFd(n,e,i){if(typeof e==="function"){i=e;e=null}if(e==null)e={};if(e.autoClose==null)e.autoClose=false;if(e.lazyEntries==null)e.lazyEntries=false;if(e.decodeStrings==null)e.decodeStrings=true;if(e.validateEntrySizes==null)e.validateEntrySizes=true;if(e.strictFileNames==null)e.strictFileNames=false;if(i==null)i=defaultCallback;t.fstat(n,function(t,s){if(t)return i(t);var r=f.createFromFd(n,{autoClose:true});fromRandomAccessReader(r,s.size,e,i)})}function fromBuffer(n,e,i){if(typeof e==="function"){i=e;e=null}if(e==null)e={};e.autoClose=false;if(e.lazyEntries==null)e.lazyEntries=false;if(e.decodeStrings==null)e.decodeStrings=true;if(e.validateEntrySizes==null)e.validateEntrySizes=true;if(e.strictFileNames==null)e.strictFileNames=false;var t=f.createFromBuffer(n,{maxChunkSize:65536});fromRandomAccessReader(t,n.length,e,i)}function fromRandomAccessReader(n,e,i,t){if(typeof i==="function"){t=i;i=null}if(i==null)i={};if(i.autoClose==null)i.autoClose=true;if(i.lazyEntries==null)i.lazyEntries=false;if(i.decodeStrings==null)i.decodeStrings=true;var s=!!i.decodeStrings;if(i.validateEntrySizes==null)i.validateEntrySizes=true;if(i.strictFileNames==null)i.strictFileNames=false;if(t==null)t=defaultCallback;if(typeof e!=="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER){throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.")}n.ref();var f=22;var r=65535;var a=Math.min(f+r,e);var l=u(a);var h=e-l.length;readAndAssertNoEof(n,l,0,a,h,function(r){if(r)return t(r);for(var w=a-f;w>=0;w-=1){if(l.readUInt32LE(w)!==101010256)continue;var d=l.slice(w);var c=d.readUInt16LE(4);if(c!==0){return t(new Error("multi-disk zip files are not supported: found disk number: "+c))}var v=d.readUInt16LE(10);var o=d.readUInt32LE(16);var b=d.readUInt16LE(20);var N=d.length-f;if(b!==N){return t(new Error("invalid comment length. expected: "+N+". found: "+b))}var S=s?decodeBuffer(d,22,d.length,false):d.slice(22);if(!(v===65535||o===4294967295)){return t(null,new ZipFile(n,o,e,v,S,i.autoClose,i.lazyEntries,s,i.validateEntrySizes,i.strictFileNames))}var R=u(20);var A=h+w-R.length;readAndAssertNoEof(n,R,0,R.length,A,function(f){if(f)return t(f);if(R.readUInt32LE(0)!==117853008){return t(new Error("invalid zip64 end of central directory locator signature"))}var r=readUInt64LE(R,8);var a=u(56);readAndAssertNoEof(n,a,0,a.length,r,function(f){if(f)return t(f);if(a.readUInt32LE(0)!==101075792){return t(new Error("invalid zip64 end of central directory record signature"))}v=readUInt64LE(a,32);o=readUInt64LE(a,48);return t(null,new ZipFile(n,o,e,v,S,i.autoClose,i.lazyEntries,s,i.validateEntrySizes,i.strictFileNames))})});return}t(new Error("end of central directory record signature not found"))})}a.inherits(ZipFile,l);function ZipFile(n,e,i,t,s,f,r,a,h,w){var d=this;l.call(d);d.reader=n;d.reader.on("error",function(n){emitError(d,n)});d.reader.once("close",function(){d.emit("close")});d.readEntryCursor=e;d.fileSize=i;d.entryCount=t;d.comment=s;d.entriesRead=0;d.autoClose=!!f;d.lazyEntries=!!r;d.decodeStrings=!!a;d.validateEntrySizes=!!h;d.strictFileNames=!!w;d.isOpen=true;d.emittedError=false;if(!d.lazyEntries)d._readEntry()}ZipFile.prototype.close=function(){if(!this.isOpen)return;this.isOpen=false;this.reader.unref()};function emitErrorAndAutoClose(n,e){if(n.autoClose)n.close();emitError(n,e)}function emitError(n,e){if(n.emittedError)return;n.emittedError=true;n.emit("error",e)}ZipFile.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};ZipFile.prototype._readEntry=function(){var n=this;if(n.entryCount===n.entriesRead){setImmediate(function(){if(n.autoClose)n.close();if(n.emittedError)return;n.emit("end")});return}if(n.emittedError)return;var i=u(46);readAndAssertNoEof(n.reader,i,0,i.length,n.readEntryCursor,function(t){if(t)return emitErrorAndAutoClose(n,t);if(n.emittedError)return;var s=new Entry;var f=i.readUInt32LE(0);if(f!==33639248)return emitErrorAndAutoClose(n,new Error("invalid central directory file header signature: 0x"+f.toString(16)));s.versionMadeBy=i.readUInt16LE(4);s.versionNeededToExtract=i.readUInt16LE(6);s.generalPurposeBitFlag=i.readUInt16LE(8);s.compressionMethod=i.readUInt16LE(10);s.lastModFileTime=i.readUInt16LE(12);s.lastModFileDate=i.readUInt16LE(14);s.crc32=i.readUInt32LE(16);s.compressedSize=i.readUInt32LE(20);s.uncompressedSize=i.readUInt32LE(24);s.fileNameLength=i.readUInt16LE(28);s.extraFieldLength=i.readUInt16LE(30);s.fileCommentLength=i.readUInt16LE(32);s.internalFileAttributes=i.readUInt16LE(36);s.externalFileAttributes=i.readUInt32LE(38);s.relativeOffsetOfLocalHeader=i.readUInt32LE(42);if(s.generalPurposeBitFlag&64)return emitErrorAndAutoClose(n,new Error("strong encryption is not supported"));n.readEntryCursor+=46;i=u(s.fileNameLength+s.extraFieldLength+s.fileCommentLength);readAndAssertNoEof(n.reader,i,0,i.length,n.readEntryCursor,function(t){if(t)return emitErrorAndAutoClose(n,t);if(n.emittedError)return;var f=(s.generalPurposeBitFlag&2048)!==0;s.fileName=n.decodeStrings?decodeBuffer(i,0,s.fileNameLength,f):i.slice(0,s.fileNameLength);var a=s.fileNameLength+s.extraFieldLength;var l=i.slice(s.fileNameLength,a);s.extraFields=[];var h=0;while(h<l.length-3){var w=l.readUInt16LE(h+0);var d=l.readUInt16LE(h+2);var c=h+4;var v=c+d;if(v>l.length)return emitErrorAndAutoClose(n,new Error("extra field length exceeds extra field buffer size"));var o=u(d);l.copy(o,0,c,v);s.extraFields.push({id:w,data:o});h=v}s.fileComment=n.decodeStrings?decodeBuffer(i,a,a+s.fileCommentLength,f):i.slice(a,a+s.fileCommentLength);s.comment=s.fileComment;n.readEntryCursor+=i.length;n.entriesRead+=1;if(s.uncompressedSize===4294967295||s.compressedSize===4294967295||s.relativeOffsetOfLocalHeader===4294967295){var b=null;for(var h=0;h<s.extraFields.length;h++){var N=s.extraFields[h];if(N.id===1){b=N.data;break}}if(b==null){return emitErrorAndAutoClose(n,new Error("expected zip64 extended information extra field"))}var S=0;if(s.uncompressedSize===4294967295){if(S+8>b.length){return emitErrorAndAutoClose(n,new Error("zip64 extended information extra field does not include uncompressed size"))}s.uncompressedSize=readUInt64LE(b,S);S+=8}if(s.compressedSize===4294967295){if(S+8>b.length){return emitErrorAndAutoClose(n,new Error("zip64 extended information extra field does not include compressed size"))}s.compressedSize=readUInt64LE(b,S);S+=8}if(s.relativeOffsetOfLocalHeader===4294967295){if(S+8>b.length){return emitErrorAndAutoClose(n,new Error("zip64 extended information extra field does not include relative header offset"))}s.relativeOffsetOfLocalHeader=readUInt64LE(b,S);S+=8}}if(n.decodeStrings){for(var h=0;h<s.extraFields.length;h++){var N=s.extraFields[h];if(N.id===28789){if(N.data.length<6){continue}if(N.data.readUInt8(0)!==1){continue}var R=N.data.readUInt32LE(1);if(r.unsigned(i.slice(0,s.fileNameLength))!==R){continue}s.fileName=decodeBuffer(N.data,5,N.data.length,true);break}}}if(n.validateEntrySizes&&s.compressionMethod===0){var A=s.uncompressedSize;if(s.isEncrypted()){A+=12}if(s.compressedSize!==A){var D="compressed/uncompressed size mismatch for stored file: "+s.compressedSize+" != "+s.uncompressedSize;return emitErrorAndAutoClose(n,new Error(D))}}if(n.decodeStrings){if(!n.strictFileNames){s.fileName=s.fileName.replace(/\\/g,"/")}var M=e.validateFileName(s.fileName);if(M!=null)return emitErrorAndAutoClose(n,new Error(M))}n.emit("entry",s);if(!n.lazyEntries)n._readEntry()})})};ZipFile.prototype.openReadStream=function(n,e,i){var t=this;var f=0;var r=n.compressedSize;if(i==null){i=e;e={}}else{if(e.decrypt!=null){if(!n.isEncrypted()){throw new Error("options.decrypt can only be specified for encrypted entries")}if(e.decrypt!==false)throw new Error("invalid options.decrypt value: "+e.decrypt);if(n.isCompressed()){if(e.decompress!==false)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}}if(e.decompress!=null){if(!n.isCompressed()){throw new Error("options.decompress can only be specified for compressed entries")}if(!(e.decompress===false||e.decompress===true)){throw new Error("invalid options.decompress value: "+e.decompress)}}if(e.start!=null||e.end!=null){if(n.isCompressed()&&e.decompress!==false){throw new Error("start/end range not allowed for compressed entry without options.decompress === false")}if(n.isEncrypted()&&e.decrypt!==false){throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}}if(e.start!=null){f=e.start;if(f<0)throw new Error("options.start < 0");if(f>n.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){r=e.end;if(r<0)throw new Error("options.end < 0");if(r>n.compressedSize)throw new Error("options.end > entry.compressedSize");if(r<f)throw new Error("options.end < options.start")}}if(!t.isOpen)return i(new Error("closed"));if(n.isEncrypted()){if(e.decrypt!==false)return i(new Error("entry is encrypted, and options.decrypt !== false"))}t.reader.ref();var a=u(30);readAndAssertNoEof(t.reader,a,0,a.length,n.relativeOffsetOfLocalHeader,function(l){try{if(l)return i(l);var h=a.readUInt32LE(0);if(h!==67324752){return i(new Error("invalid local file header signature: 0x"+h.toString(16)))}var w=a.readUInt16LE(26);var d=a.readUInt16LE(28);var c=n.relativeOffsetOfLocalHeader+a.length+w+d;var u;if(n.compressionMethod===0){u=false}else if(n.compressionMethod===8){u=e.decompress!=null?e.decompress:true}else{return i(new Error("unsupported compression method: "+n.compressionMethod))}var v=c;var o=v+n.compressedSize;if(n.compressedSize!==0){if(o>t.fileSize){return i(new Error("file data overflows file bounds: "+v+" + "+n.compressedSize+" > "+t.fileSize))}}var b=t.reader.createReadStream({start:v+f,end:v+r});var N=b;if(u){var S=false;var R=s.createInflateRaw();b.on("error",function(n){setImmediate(function(){if(!S)R.emit("error",n)})});b.pipe(R);if(t.validateEntrySizes){N=new AssertByteCountStream(n.uncompressedSize);R.on("error",function(n){setImmediate(function(){if(!S)N.emit("error",n)})});R.pipe(N)}else{N=R}N.destroy=function(){S=true;if(R!==N)R.unpipe(N);b.unpipe(R);b.destroy()}}i(null,N)}finally{t.reader.unref()}})};function Entry(){}Entry.prototype.getLastModDate=function(){return dosDateTimeToDate(this.lastModFileDate,this.lastModFileTime)};Entry.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Entry.prototype.isCompressed=function(){return this.compressionMethod===8};function dosDateTimeToDate(n,e){var i=n&31;var t=(n>>5&15)-1;var s=(n>>9&127)+1980;var f=0;var r=(e&31)*2;var a=e>>5&63;var l=e>>11&31;return new Date(s,t,i,l,a,r,f)}function validateFileName(n){if(n.indexOf("\\")!==-1){return"invalid characters in fileName: "+n}if(/^[a-zA-Z]:/.test(n)||/^\//.test(n)){return"absolute path: "+n}if(n.split("/").indexOf("..")!==-1){return"invalid relative path: "+n}return null}function readAndAssertNoEof(n,e,i,t,s,f){if(t===0){return setImmediate(function(){f(null,u(0))})}n.read(e,i,t,s,function(n,e){if(n)return f(n);if(e<t){return f(new Error("unexpected EOF"))}f()})}a.inherits(AssertByteCountStream,h);function AssertByteCountStream(n){h.call(this);this.actualByteCount=0;this.expectedByteCount=n}AssertByteCountStream.prototype._transform=function(n,e,i){this.actualByteCount+=n.length;if(this.actualByteCount>this.expectedByteCount){var t="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return i(new Error(t))}i(null,n)};AssertByteCountStream.prototype._flush=function(n){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return n(new Error(e))}n()};a.inherits(RandomAccessReader,l);function RandomAccessReader(){l.call(this);this.refCount=0}RandomAccessReader.prototype.ref=function(){this.refCount+=1};RandomAccessReader.prototype.unref=function(){var n=this;n.refCount-=1;if(n.refCount>0)return;if(n.refCount<0)throw new Error("invalid unref");n.close(onCloseDone);function onCloseDone(e){if(e)return n.emit("error",e);n.emit("close")}};RandomAccessReader.prototype.createReadStream=function(n){var e=n.start;var i=n.end;if(e===i){var t=new w;setImmediate(function(){t.end()});return t}var s=this._readStreamForRange(e,i);var f=false;var r=new RefUnrefFilter(this);s.on("error",function(n){setImmediate(function(){if(!f)r.emit("error",n)})});r.destroy=function(){s.unpipe(r);r.unref();s.destroy()};var a=new AssertByteCountStream(i-e);r.on("error",function(n){setImmediate(function(){if(!f)a.emit("error",n)})});a.destroy=function(){f=true;r.unpipe(a);r.destroy()};return s.pipe(r).pipe(a)};RandomAccessReader.prototype._readStreamForRange=function(n,e){throw new Error("not implemented")};RandomAccessReader.prototype.read=function(n,e,i,t,s){var f=this.createReadStream({start:t,end:t+i});var r=new d;var a=0;r._write=function(i,t,s){i.copy(n,e+a,0,i.length);a+=i.length;s()};r.on("finish",s);f.on("error",function(n){s(n)});f.pipe(r)};RandomAccessReader.prototype.close=function(n){setImmediate(n)};a.inherits(RefUnrefFilter,w);function RefUnrefFilter(n){w.call(this);this.context=n;this.context.ref();this.unreffedYet=false}RefUnrefFilter.prototype._flush=function(n){this.unref();n()};RefUnrefFilter.prototype.unref=function(n){if(this.unreffedYet)return;this.unreffedYet=true;this.context.unref()};var c="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";function decodeBuffer(n,e,i,t){if(t){return n.toString("utf8",e,i)}else{var s="";for(var f=e;f<i;f++){s+=c[n[f]]}return s}}function readUInt64LE(n,e){var i=n.readUInt32LE(e);var t=n.readUInt32LE(e+4);return t*4294967296+i}var u;if(typeof Buffer.allocUnsafe==="function"){u=function(n){return Buffer.allocUnsafe(n)}}else{u=function(n){return new Buffer(n)}}function defaultCallback(n){if(n)throw n}},796:function(n){"use strict";n.exports=(n=>(class extends n{warn(n,e){if(!this.strict)this.emit("warn",n,e);else if(e instanceof Error)this.emit("error",e);else{const i=new Error(n);i.data=e;this.emit("error",i)}}}))},827:function(n,e,i){"use strict";const t=i(720);const s=i(614).EventEmitter;const f=i(747);const r=process.binding("fs");const a=r.writeBuffers;const l=r.FSReqWrap||r.FSReqCallback;const h=Symbol("_autoClose");const w=Symbol("_close");const d=Symbol("_ended");const c=Symbol("_fd");const u=Symbol("_finished");const v=Symbol("_flags");const o=Symbol("_flush");const b=Symbol("_handleChunk");const N=Symbol("_makeBuf");const S=Symbol("_mode");const R=Symbol("_needDrain");const A=Symbol("_onerror");const D=Symbol("_onopen");const M=Symbol("_onread");const B=Symbol("_onwrite");const W=Symbol("_open");const Z=Symbol("_path");const q=Symbol("_pos");const C=Symbol("_queue");const Y=Symbol("_read");const G=Symbol("_readSize");const V=Symbol("_reading");const J=Symbol("_remain");const X=Symbol("_size");const j=Symbol("_write");const Q=Symbol("_writing");const E=Symbol("_defaultFlag");class ReadStream extends t{constructor(n,e){e=e||{};super(e);this.writable=false;if(typeof n!=="string")throw new TypeError("path must be a string");this[c]=typeof e.fd==="number"?e.fd:null;this[Z]=n;this[G]=e.readSize||16*1024*1024;this[V]=false;this[X]=typeof e.size==="number"?e.size:Infinity;this[J]=this[X];this[h]=typeof e.autoClose==="boolean"?e.autoClose:true;if(typeof this[c]==="number")this[Y]();else this[W]()}get fd(){return this[c]}get path(){return this[Z]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[W](){f.open(this[Z],"r",(n,e)=>this[D](n,e))}[D](n,e){if(n)this[A](n);else{this[c]=e;this.emit("open",e);this[Y]()}}[N](){return Buffer.allocUnsafe(Math.min(this[G],this[J]))}[Y](){if(!this[V]){this[V]=true;const n=this[N]();if(n.length===0)return process.nextTick(()=>this[M](null,0,n));f.read(this[c],n,0,n.length,null,(n,e,i)=>this[M](n,e,i))}}[M](n,e,i){this[V]=false;if(n)this[A](n);else if(this[b](e,i))this[Y]()}[w](){if(this[h]&&typeof this[c]==="number"){f.close(this[c],n=>this.emit("close"));this[c]=null}}[A](n){this[V]=true;this[w]();this.emit("error",n)}[b](n,e){let i=false;this[J]-=n;if(n>0)i=super.write(n<e.length?e.slice(0,n):e);if(n===0||this[J]<=0){i=false;this[w]();super.end()}return i}emit(n,e){switch(n){case"prefinish":case"finish":break;case"drain":if(typeof this[c]==="number")this[Y]();break;default:return super.emit(n,e)}}}class ReadStreamSync extends ReadStream{[W](){let n=true;try{this[D](null,f.openSync(this[Z],"r"));n=false}finally{if(n)this[w]()}}[Y](){let n=true;try{if(!this[V]){this[V]=true;do{const n=this[N]();const e=n.length===0?0:f.readSync(this[c],n,0,n.length,null);if(!this[b](e,n))break}while(true);this[V]=false}n=false}finally{if(n)this[w]()}}[w](){if(this[h]&&typeof this[c]==="number"){try{f.closeSync(this[c])}catch(n){}this[c]=null;this.emit("close")}}}class WriteStream extends s{constructor(n,e){e=e||{};super(e);this.readable=false;this[Q]=false;this[d]=false;this[R]=false;this[C]=[];this[Z]=n;this[c]=typeof e.fd==="number"?e.fd:null;this[S]=e.mode===undefined?438:e.mode;this[q]=typeof e.start==="number"?e.start:null;this[h]=typeof e.autoClose==="boolean"?e.autoClose:true;const i=this[q]!==null?"r+":"w";this[E]=e.flags===undefined;this[v]=this[E]?i:e.flags;if(this[c]===null)this[W]()}get fd(){return this[c]}get path(){return this[Z]}[A](n){this[w]();this[Q]=true;this.emit("error",n)}[W](){f.open(this[Z],this[v],this[S],(n,e)=>this[D](n,e))}[D](n,e){if(this[E]&&this[v]==="r+"&&n&&n.code==="ENOENT"){this[v]="w";this[W]()}else if(n)this[A](n);else{this[c]=e;this.emit("open",e);this[o]()}}end(n,e){if(n)this.write(n,e);this[d]=true;if(!this[Q]&&!this[C].length&&typeof this[c]==="number")this[B](null,0)}write(n,e){if(typeof n==="string")n=new Buffer(n,e);if(this[d]){this.emit("error",new Error("write() after end()"));return false}if(this[c]===null||this[Q]||this[C].length){this[C].push(n);this[R]=true;return false}this[Q]=true;this[j](n);return true}[j](n){f.write(this[c],n,0,n.length,this[q],(n,e)=>this[B](n,e))}[B](n,e){if(n)this[A](n);else{if(this[q]!==null)this[q]+=e;if(this[C].length)this[o]();else{this[Q]=false;if(this[d]&&!this[u]){this[u]=true;this[w]();this.emit("finish")}else if(this[R]){this[R]=false;this.emit("drain")}}}}[o](){if(this[C].length===0){if(this[d])this[B](null,0)}else if(this[C].length===1)this[j](this[C].pop());else{const n=this[C];this[C]=[];T(this[c],n,this[q],(n,e)=>this[B](n,e))}}[w](){if(this[h]&&typeof this[c]==="number"){f.close(this[c],n=>this.emit("close"));this[c]=null}}}class WriteStreamSync extends WriteStream{[W](){let n;try{n=f.openSync(this[Z],this[v],this[S])}catch(n){if(this[E]&&this[v]==="r+"&&n&&n.code==="ENOENT"){this[v]="w";return this[W]()}else throw n}this[D](null,n)}[w](){if(this[h]&&typeof this[c]==="number"){try{f.closeSync(this[c])}catch(n){}this[c]=null;this.emit("close")}}[j](n){try{this[B](null,f.writeSync(this[c],n,0,n.length,this[q]))}catch(n){this[B](n,0)}}}const T=(n,e,i,t)=>{const s=(n,i)=>t(n,i,e);const f=new l;f.oncomplete=s;r.writeBuffers(n,e,i,f)};e.ReadStream=ReadStream;e.ReadStreamSync=ReadStreamSync;e.WriteStream=WriteStream;e.WriteStreamSync=WriteStreamSync},835:function(n){n.exports=require("url")},858:function(n,e){"use strict";const i=e.encode=((n,e)=>{e[e.length-1]=32;if(n<0)s(n,e);else t(n,e);return e});const t=(n,e)=>{e[0]=128;for(var i=e.length-2;i>0;i--){if(n===0)e[i]=0;else{e[i]=n%256;n=Math.floor(n/256)}}};const s=(n,e)=>{e[0]=255;var i=false;n=n*-1;for(var t=e.length-2;t>0;t--){var s;if(n===0)s=0;else{s=n%256;n=Math.floor(n/256)}if(i)e[t]=l(s);else if(s===0)e[t]=0;else{i=true;e[t]=h(s)}}};const f=e.parse=(n=>{var e=n[n.length-1];var i=n[0];return i===128?a(n.slice(1,n.length-1)):r(n.slice(1,n.length-1))});const r=n=>{var e=n.length;var i=0;var t=false;for(var s=e-1;s>-1;s--){var f=n[s];var r;if(t)r=l(f);else if(f===0)r=f;else{t=true;r=h(f)}if(r!==0)i+=r*Math.pow(256,e-s-1)}return i*-1};const a=n=>{var e=n.length;var i=0;for(var t=e-1;t>-1;t--){var s=n[t];if(s!==0)i+=s*Math.pow(256,e-t-1)}return i};const l=n=>(255^n)&255;const h=n=>(255^n)+1&255},885:function(n,e,i){"use strict";e.c=e.create=i(159);e.r=e.replace=i(630);e.t=e.list=i(381);e.u=e.update=i(966);e.x=e.extract=i(656);e.Pack=i(582);e.Unpack=i(63);e.Parse=i(203);e.ReadEntry=i(662);e.WriteEntry=i(303);e.Header=i(232);e.Pax=i(480);e.types=i(554)},891:function(n){"use strict";const e=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);const i=n.exports=(n=>n?Object.keys(n).map(i=>[e.has(i)?e.get(i):i,n[i]]).reduce((n,e)=>(n[e[0]]=e[1],n),Object.create(null)):{})},904:function(n){"use strict";n.exports=((n,e)=>{n&=4095;if(e){if(n&256)n|=64;if(n&32)n|=8;if(n&4)n|=1}return n})},941:function(n,e,i){"use strict";const t=i(747);const s=i(622);const f=t.lchown?"lchown":"chown";const r=t.lchownSync?"lchownSync":"chownSync";const a=t.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/);const l=a?(n,e,i,s)=>f=>{if(!f||f.code!=="EISDIR")s(f);else t.chown(n,e,i,s)}:(n,e,i,t)=>t;const h=a?(n,e,i)=>{try{return t[r](n,e,i)}catch(s){if(s.code!=="EISDIR")throw s;t.chownSync(n,e,i)}}:t[r];const w=process.version;let d=(n,e,i)=>t.readdir(n,e,i);let c=(n,e)=>t.readdirSync(n,e);if(/^v4\./.test(w))d=((n,e,i)=>t.readdir(n,i));const u=(n,e,i,r,a)=>{if(typeof e==="string")return t.lstat(s.resolve(n,e),(t,s)=>{if(t)return a(t);s.name=e;u(n,s,i,r,a)});if(e.isDirectory()){v(s.resolve(n,e.name),i,r,h=>{if(h)return a(h);const w=s.resolve(n,e.name);t[f](w,i,r,l(w,i,r,a))})}else{const h=s.resolve(n,e.name);t[f](h,i,r,l(h,i,r,a))}};const v=(n,e,i,s)=>{d(n,{withFileTypes:true},(r,a)=>{if(r&&r.code!=="ENOTDIR"&&r.code!=="ENOTSUP")return s(r);if(r||!a.length)return t[f](n,e,i,l(n,e,i,s));let h=a.length;let w=null;const d=r=>{if(w)return;if(r)return s(w=r);if(--h===0)return t[f](n,e,i,l(n,e,i,s))};a.forEach(t=>u(n,t,e,i,d))})};const o=(n,e,i,f)=>{if(typeof e==="string"){const i=t.lstatSync(s.resolve(n,e));i.name=e;e=i}if(e.isDirectory())b(s.resolve(n,e.name),i,f);h(s.resolve(n,e.name),i,f)};const b=(n,e,i)=>{let t;try{t=c(n,{withFileTypes:true})}catch(t){if(t&&t.code==="ENOTDIR"&&t.code!=="ENOTSUP")return h(n,e,i);throw t}if(t.length)t.forEach(t=>o(n,t,e,i));return h(n,e,i)};n.exports=v;v.sync=b},965:function(n){n.exports=Pend;function Pend(){this.pending=0;this.max=Infinity;this.listeners=[];this.waiting=[];this.error=null}Pend.prototype.go=function(n){if(this.pending<this.max){pendGo(this,n)}else{this.waiting.push(n)}};Pend.prototype.wait=function(n){if(this.pending===0){n(this.error)}else{this.listeners.push(n)}};Pend.prototype.hold=function(){return pendHold(this)};function pendHold(n){n.pending+=1;var e=false;return onCb;function onCb(i){if(e)throw new Error("callback called twice");e=true;n.error=n.error||i;n.pending-=1;if(n.waiting.length>0&&n.pending<n.max){pendGo(n,n.waiting.shift())}else if(n.pending===0){var t=n.listeners;n.listeners=[];t.forEach(cbListener)}}function cbListener(e){e(n.error)}}function pendGo(n,e){e(pendHold(n))}},966:function(n,e,i){"use strict";const t=i(891);const s=i(630);const f=n.exports=((n,e,i)=>{const f=t(n);if(!f.file)throw new TypeError("file is required");if(f.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);r(f);return s(f,e,i)});const r=n=>{const e=n.filter;if(!n.mtimeCache)n.mtimeCache=new Map;n.filter=e?(i,t)=>e(i,t)&&!(n.mtimeCache.get(i)>t.mtime):(e,i)=>!(n.mtimeCache.get(e)>i.mtime)}}});